[{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.06.15-2022.06.24ï¼‰","path":"2022/07/04/å­¦ä¹ æ€»ç»“ï¼ˆ2022-06-15-2022-06-24ï¼‰/","text":"åŠ¨æ€ä»£ç†JDKåŠ¨æ€ä»£ç†JDKåŠ¨æ€ä»£ç†æ˜¯åŸºäºJavaçš„åå°„æœºåˆ¶å®ç°çš„ï¼Œä½¿ç”¨jdkä¸­çš„æ¥å£å’Œç±»å®ç°ä»£ç†å¯¹è±¡çš„åŠ¨æ€åˆ›å»ºï¼Œä½†æ˜¯è¦æ±‚ä»£ç†å¯¹è±¡å¿…é¡»å®ç°æ¥å£ã€‚ JDKåŠ¨æ€ä»£ç†çš„å®ç°æ­¥éª¤å¦‚ä¸‹ã€‚ æ–°å»ºä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºç›®æ ‡æ¥å£ã€‚ 1234public interface UserService &#123; public void sayHello();&#125; ä¸ºæ¥å£åˆ›å»ºå®ç°ç±»ã€‚ 12345678public class UserServiceImpl implements UserService&#123; @Override public void sayHello() &#123; System.out.println(&quot;hello spring&quot;); &#125; &#125; åˆ›å»ºä¸€ä¸ªç±»å®ç°InvocationHandleræ¥å£åŠå…¶invokeæ–¹æ³•ï¼Œåœ¨method.invoke()å‰åæ‰§è¡Œå¯¹æ–¹æ³•çš„å¢å¼ºã€‚ 123456public class CustomInvocationHandler implements InvocationHandler &#123; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; return null; &#125;&#125; åœ¨mainæ–¹æ³•ä¸­è°ƒç”¨Proxy.newProxyInstance()åˆ›å»ºJDKåŠ¨æ€ä»£ç†ï¼Œä½¿ç”¨ä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•ã€‚ 1234567891011121314151617181920@Testpublic void mytest4() &#123; UserService instance = new UserServiceImpl(); // instance ğŸ‘‰ method.invoke(instance,args); // UserServiceImpl ğŸ‘‰ sayHello // Proxy ğŸ‘‰ sayHello UserService userServiceProxy = (UserService) Proxy.newProxyInstance(UserServiceImpl.class.getClassLoader(), UserServiceImpl.class.getInterfaces(), new InvocationHandler() &#123; @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; //jdsfkhjasdjyr System.out.println(&quot;jdsfkhjasdjyr&quot;); Object invoke = method.invoke(instance, args); //dfjkasdhjfisdya System.out.println(&quot;dfjkasdhjfisdya&quot;); return invoke; &#125; &#125;); userServiceProxy.sayHello();//invocationHandler.invoke &#125; CglibåŠ¨æ€ä»£ç†CglibåŠ¨æ€ä»£ç†åªé’ˆå¯¹ç±»å®ç°ä»£ç†ï¼Œä¸éœ€è¦å®ç°æ¥å£ã€‚ CglibåŠ¨æ€ä»£ç†çš„å®ç°æ­¥éª¤å¦‚ä¸‹ã€‚ åˆ›å»ºä¸€ä¸ªç±»å®ç°MethodInterceptoræ¥å£åŠå…¶interceptæ–¹æ³•ã€‚ 12345678910111213141516171819public class MyMethodInterceptor implements MethodInterceptor &#123; /** * cglib * * @param o cglibç”Ÿæˆçš„ä»£ç†å¯¹è±¡ * @param method è¢«ä»£ç†å¯¹è±¡çš„æ–¹æ³• * @param objects æ–¹æ³•å…¥å‚ * @param methodProxy ä»£ç†æ–¹æ³• * @return * @throws Throwable */ @Override public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable &#123; System.out.println(&quot;before advice...&quot;); Object object = methodProxy.invokeSuper(o, objects); System.out.println(&quot;after advice...&quot;); return object; &#125;&#125; åœ¨mainæ–¹æ³•ä¸­ï¼Œé€šè¿‡Enhancerè·å–ä»£ç†å¯¹è±¡ã€‚ 1234567891011121314public class Main &#123; public static void main(String[] args) &#123; //é€šè¿‡CGLIBåŠ¨æ€ä»£ç†è·å–ä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ Enhancer enhancer = new Enhancer(); //è®¾ç½®enhancerå¯¹è±¡çš„çˆ¶ç±» enhancer.setSuperclass(HelloService.class); //è®¾ç½®enhancerçš„å›è°ƒå¯¹è±¡ enhancer.setCallback(new MyMethodInterceptor()); //åˆ›å»ºä»£ç†å¯¹è±¡ HelloService proxy = (HelloService) enhancer.create(); //é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ç›®æ ‡æ–¹æ³• proxy.sayHello(); &#125;&#125; IOC&#x2F;DIIOCï¼Œæ§åˆ¶åè½¬ï¼Œå°†ç”Ÿæˆå®ä¾‹çš„æ§åˆ¶æƒäº¤ç”±Springå®¹å™¨ï¼Œå®¹å™¨åªæ§åˆ¶å®ä¾‹çš„ç”Ÿæˆï¼Œè€Œå¼€å‘äººå‘˜åªéœ€è¦å¾€å®¹å™¨ä¸­æ³¨å†Œéœ€è¦ç”Ÿæˆå®ä¾‹çš„ç±»ï¼Œå³ç»„ä»¶ï¼Œå¹¶åœ¨éœ€è¦æ—¶å–å‡ºè¯¥ç»„ä»¶çš„å¯¹è±¡å³å¯ã€‚ DIï¼Œä¾èµ–æ³¨å…¥ï¼Œå³å…·ä½“çš„IOCå®ç°æ–¹å¼ã€‚ä¸€èˆ¬é€šè¿‡é…ç½®æ–‡ä»¶å’Œæ³¨è§£æ¥å®Œæˆä¾èµ–æ³¨å…¥ã€‚ XMLåœ¨Springçš„XMLæ–‡ä»¶ä¸­æ³¨å†Œç»„ä»¶ã€‚ 123456789101112131415&lt;!--æ³¨å†Œç»„ä»¶ â†’ æä¾›ä¿¡æ¯ â†’ å‘å®¹å™¨ä¸­æ”¾å…¥å®ä¾‹--&gt;&lt;!--idå±æ€§ï¼šç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å”¯ä¸€æ ‡è¯† â†’ å¯ä»¥çœç•¥--&gt;&lt;!--classå±æ€§ï¼šç»„ä»¶çš„å…¨é™å®šç±»å--&gt;&lt;bean id=&quot;userDao&quot; class=&quot;com.cskaoyan.dao.UserDaoImpl&quot;/&gt;&lt;!--setæ–¹æ³•æ¥ç»´æŠ¤ç»„ä»¶ä¹‹é—´çš„å…³ç³»--&gt;&lt;bean id=&quot;userService&quot; class=&quot;com.cskaoyan.service.UserServiceImpl&quot;&gt; &lt;!--propertyæ ‡ç­¾çš„nameå±æ€§ â†’ setæ–¹æ³•--&gt; &lt;!--refå±æ€§ï¼šreference â†’ å®¹å™¨ä¸­çš„ç»„ä»¶id--&gt; &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;orderService&quot; class=&quot;com.cskaoyan.service.OrderServiceImpl&quot;&gt; &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;/&gt;&lt;/bean&gt; å–å‡ºç»„ä»¶ã€‚ 123456789101112131415@Testpublic void mytest1() &#123; // åˆå§‹åŒ–Springå®¹å™¨ ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;application.xml&quot;); // é€šè¿‡idå–å‡ºç»„ä»¶ UserDao userDao = (UserDao) applicationContext.getBean(&quot;userDao&quot;); // é€šè¿‡ç±»å‹å–å‡ºç»„ä»¶byType â†’ class å¯ä»¥å†™æ¥å£ã€å®ç°ç±» â†’ è¯¥ç±»å‹çš„ç»„ä»¶åœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ª // å»ºè®®ç”¨æ¥å£ UserService userService1 = applicationContext.getBean(UserService.class); UserService userService2 = applicationContext.getBean(UserServiceImpl.class); // é€šè¿‡idå’Œç±»å‹å…±åŒå–å‡º OrderService orderService = applicationContext.getBean(&quot;orderService&quot;, OrderService.class);&#125; æ³¨è§£ä¹Ÿå¯ä»¥ä½¿ç”¨æ³¨è§£æ³¨å†Œç»„ä»¶ã€‚å¯ä»¥åœ¨æ³¨è§£ä¸­æŒ‡å®šç»„ä»¶idï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„ç»„ä»¶idï¼Œé»˜è®¤idä¸€èˆ¬ä¸ºç±»åçš„é¦–å­—æ¯å°å†™ã€‚ 1234567891011// é€šç”¨æ³¨è§£@Component// serviceå±‚@Service// daoå±‚@Repository// controllerå±‚@Controller é…ç½®ç±»åœ¨ä¸€ä¸ªç±»ä¸ŠåŠ ä¸Š@Configurationæ³¨è§£ï¼Œè¡¨ç¤ºè¯¥ç±»è¢«æ³¨å†Œä¸ºä¸€ä¸ªç»„ä»¶ï¼Œä¸”è¯¥ç±»ä¸ºä¸€ä¸ªé…ç½®ç±»ã€‚ç±»ä¸­çš„æ–¹æ³•å¯ä»¥è¢«@Beanæ³¨è§£ä¿®é¥°ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•çš„è¿”å›å€¼çš„å®ä¾‹ä¼šè¢«æ³¨å†Œä¸ºä¸€ä¸ªç»„ä»¶ã€‚ 1234567891011121314151617181920212223242526272829303132@Configuration// @ComponentScanæ³¨è§£è¡¨ç¤ºæ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œå¹¶å°†å¸¦æœ‰@Componentç­‰ç›¸å…³æ³¨è§£çš„ç±»æ³¨å†Œä¸ºç»„ä»¶@ComponentScan(&quot;com.cskaoyan&quot;)public class SpringConfiguration &#123; /** * è¿”å›å€¼ç±»å‹ï¼šSpringå®¹å™¨ä¸­çš„ç»„ä»¶ç±»å‹ * è¿”å›å€¼ï¼šè¿”å›å€¼æ³¨å†Œä¸ºå®¹å™¨ä¸­çš„ç»„ä»¶ * ç»„ä»¶IDï¼šé»˜è®¤å€¼æ˜¯æ–¹æ³•åï¼›å¦‚æœæƒ³è¦æŒ‡å®šç»„ä»¶idï¼Œå¯ä»¥ä½¿ç”¨@Beançš„valueå±æ€§ */ @Bean(&quot;druidDatasource&quot;) public DataSource dataSource() &#123; DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/cskaoyan_db&quot;); dataSource.setUsername(&quot;root&quot;); dataSource.setPassword(&quot;123456&quot;); return dataSource; &#125; /** * å½¢å‚ï¼šé»˜è®¤æŒ‰ç…§ç±»å‹ä»å®¹å™¨ä¸­å–å‡ºç»„ä»¶;æƒ³è¦æŒ‡å®šç»„ä»¶id â†’ @Qualifier */ // æ³¨å†Œä¸€ä¸ªUserServiceImplç»„ä»¶ @Bean public UserService userService(@Qualifier(&quot;userDaoImpl&quot;) UserDao userDao) &#123; UserServiceImpl userService = new UserServiceImpl(); // ä»å®¹å™¨ä¸­å–å‡ºuserDaoå¹¶ä¸”ç»™å…¶èµ‹å€¼ userService.setUserDao(userDao); return userService; &#125;&#125; @Autowiredç±»ä¸­çš„æˆå‘˜å˜é‡å¯ä»¥é€šè¿‡@Autowiredæ³¨è§£æ³¨å†Œä¸ºç»„ä»¶ï¼Œæ­¤æ—¶è¯¥æˆå‘˜å˜é‡å°±ä¸éœ€è¦å¼€å‘äººå‘˜æ‰‹åŠ¨åˆå§‹åŒ–ã€‚@Autowiredçš„æœ¬è´¨æ˜¯åˆ©ç”¨å®¹å™¨æä¾›çš„setæ–¹æ³•ã€‚ 1234@Autowired// å¦‚æœè¯¥ç±»å‹çš„ç»„ä»¶ä¸æ­¢ä¸€ä¸ªï¼Œéœ€è¦ä½¿ç”¨@Qualifieræ¥æŒ‡å®šç»„ä»¶çš„id@Qualifier(&quot;userDaoImpl2&quot;)UserDao userDao; ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»„ä»¶å¯ä»¥ä½¿ç”¨@Scopeæ³¨è§£æ¥ç¡®å®šè‡ªå·±çš„ä½œç”¨åŸŸã€‚å¦‚æœä½œç”¨åŸŸä¸ºsingletonï¼Œå³å•ä¾‹æ¨¡å¼ï¼Œé‚£ä¹ˆæ¯æ¬¡ä»å®¹å™¨ä¸­å–å‡ºçš„ç»„ä»¶éƒ½æ˜¯åŒä¸€ä¸ªç»„ä»¶ï¼›å¦‚æœä½¿ç”¨çš„æ˜¯prototypeï¼Œå³åŸå‹æ¨¡å¼ï¼Œé‚£ä¹ˆæ¯æ¬¡å–å‡ºçš„éƒ½æ˜¯æ–°çš„å®ä¾‹ã€‚Springé»˜è®¤ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚ åœ¨å•ä¾‹æ¨¡å¼ä¸‹ï¼Œå®¹å™¨åˆå§‹åŒ–æ—¶å°±ä¼šå¼€å§‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼›å¦‚æœæ˜¯åŸå‹æ¨¡å¼ï¼Œåˆ™åªæœ‰åœ¨è·å¾—ç»„ä»¶æ—¶æ‰å¼€å§‹ç”Ÿå‘½å‘¨æœŸã€‚ ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ã€‚ å®ä¾‹åŒ–ã€‚ ç»™æˆå‘˜å˜é‡èµ‹å€¼ã€‚ä¸€èˆ¬é€šè¿‡@Autowiredç­‰æ³¨è§£å®ç°ã€‚ è§‰é†’ï¼ˆAwareï¼‰ï¼Œå¦‚æœç»„ä»¶å®ç°äº†Awareç›¸å…³çš„æ¥å£ï¼Œåœ¨è¿™æ—¶ç»„ä»¶å°±å¯ä»¥é€šè¿‡è¯¥æ¥å£çš„setæ–¹æ³•è®¾ç½®ä¸€äº›æ•°æ®ã€‚æ¯”å¦‚ï¼Œå¦‚æœç»„ä»¶å®ç°äº†BeanNameAwareæ¥å£ï¼Œé‚£ä¹ˆå°±å¯ä»¥è°ƒç”¨setBeanName(String beanName)æ–¹æ³•ã€‚ BeanPostProcessorï¼Œæä¾›äº†ä¸¤ä¸ªå®ç°æ–¹æ³•ï¼špostProcessBeforeInitializationå’ŒpostProcessAfterInitializationï¼Œå…¶ä½œç”¨èŒƒå›´ä¸ºæ‰€æœ‰æ³¨å†Œçš„ç»„ä»¶ã€‚æ­¤æ—¶è§¦å‘çš„æ˜¯beforeæ–¹æ³•ã€‚ InitializingBeançš„afterPropertiesSetæ–¹æ³• ï¼Œæˆ–æ˜¯è‡ªå®šä¹‰çš„initæ–¹æ³•ã€‚ 12345678910@Overridepublic void afterPropertiesSet() throws Exception &#123; System.out.println(&quot;InitializingBeanæä¾›çš„initæ–¹æ³•&quot;);&#125;// è‡ªå®šä¹‰initæ–¹æ³•ï¼Œæ–¹æ³•åè‡ªå·±å®šä¹‰@PostConstructpublic void init() &#123; System.out.println(&quot;è‡ªå®šä¹‰init&quot;);&#125; BeanPostProcessorçš„afteræ–¹æ³•ã€‚ ä½¿ç”¨ç»„ä»¶ã€‚ DisposableBeançš„destroyæ–¹æ³•ï¼Œæˆ–æ˜¯è‡ªå®šä¹‰çš„destroyæ–¹æ³•ã€‚ 123456789@Overridepublic void destroy() throws Exception &#123; System.out.println(&quot;DisposableBeanæä¾›çš„destroy&quot;);&#125;@PreDestroypublic void customDestroy() &#123; System.out.println(&quot;è‡ªå®šä¹‰destroy&quot;);&#125; AOPAOPï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå¯ä»¥å°†ä¸€äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œä½†æ˜¯æ‰€æœ‰ä¸šåŠ¡éƒ½éœ€è¦è°ƒç”¨çš„é€»è¾‘å°è£…èµ·æ¥ï¼ˆå¦‚æ—¥å¿—ï¼Œæƒé™æ§åˆ¶ç­‰ï¼‰ï¼Œå°†å…¶ä½œä¸ºä¸€ç§å¢å¼ºã€‚AOPåŸºäºåŠ¨æ€ä»£ç†å®ç°ï¼Œä½†æ˜¯ç›¸æ¯”åŠ¨æ€ä»£ç†ï¼ŒAOPå¯ä»¥æ›´çµæ´»çš„ç­›é€‰éœ€è¦å¢å¼ºçš„æ–¹æ³•ä»¥åŠå¢å¼ºæ‰€è¦åšçš„ä¸šåŠ¡ã€‚ ç°åœ¨ä¸€èˆ¬ä½¿ç”¨AspectJæ¡†æ¶å®ç°AOPã€‚ åˆ‡å…¥ç‚¹Pointcutä½¿ç”¨executionæŒ‡å®šéœ€è¦å¢å¼ºçš„æ–¹æ³•ã€‚ 1234567&lt;aop:comfig&gt;&lt;aop:pointcut id=&quot;mypointcut1&quot; expression=&quot;execution(public voidcom.cskaoyan.service.UserServiceImpl.sayHello(String))&quot;/&gt;&lt;aop:pointcut id=&quot;mypointcut2&quot; expression=&quot;execution(* co*..say*(*))&quot;/&gt;&lt;aop:pointcut id=&quot;mypointcut3&quot; expression=&quot;execution(*co*.cskaoyan..UserServiceImpl.sayHello(..))&quot;/&gt;&lt;/aop:config&gt; ä½¿ç”¨@annotationæŒ‡å®šç‰¹æ®Šçš„å¢å¼ºæ–¹æ³•ã€‚ 1234@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.METHOD)public @interface CountTime &#123;&#125; 12345&lt;aop:config&gt;&lt;!--ä½œç”¨åœºæ™¯ï¼šç»„ä»¶ä¸­çš„æ–¹æ³•ï¼ŒåŒ…å«è‡ªå®šä¹‰@CountTimeæ³¨è§£çš„æ–¹æ³•ç”Ÿæ•ˆ--&gt;&lt;aop:pointcut id=&quot;mypointcut&quot;expression=&quot;@annotation(com.cskaoyan.CountTime)&quot;/&gt;&lt;/aop:config&gt; é€šçŸ¥å™¨Advisor1234&lt;!--advisor â†’ æ–°çš„æ ‡ç­¾ aopæ ‡ç­¾ â†’ å¼•å…¥aopçš„schemaçº¦æŸ--&gt;&lt;aop:config&gt; &lt;aop:advisor advice-ref=&quot;countTimeInterceptor&quot; pointcut=&quot;execution(public void com.cskaoyan.service.UserServiceImpl.sayHello(String))&quot;/&gt;&lt;/aop:config&gt; åˆ‡é¢Aspectåˆ‡é¢æ˜¯ä¸Šé¢ä¸¤ç§çš„ç»“åˆï¼Œå³åœ¨æŒ‡å®šçš„åˆ‡å…¥ç‚¹å†™å…¥è‡ªå®šä¹‰çš„é€šçŸ¥ã€‚åˆ‡é¢æœ‰äº”ä¸ªé€šçŸ¥æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯Beforeã€Afterã€Aroundã€AfterReturningã€AfterThrowingã€‚Beforeå’ŒAfterè¡¨ç¤ºåœ¨è¯¥æ–¹æ³•çš„æ‰§è¡Œå‰åçš„é€šçŸ¥ï¼›Aroundç±»ä¼¼äºInvocationHandlerçš„invoke()å’ŒMethodInterceptorçš„invoke()ï¼Œå¯ä»¥åœ¨æ‰§è¡Œproceedæ–¹æ³•å‰åè¿›è¡Œæ“ä½œï¼ŒAroundä¹Ÿæ˜¯ä½¿ç”¨çš„æœ€å¤šçš„é€šçŸ¥ï¼›AfterReturningæ˜¯åœ¨æ–¹æ³•è¿”å›å€¼åä½¿ç”¨çš„é€šçŸ¥ï¼Œå¯ä»¥æ¥æ”¶æ–¹æ³•çš„è¿”å›å€¼ï¼›AfterThrowingæ˜¯åœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åä½¿ç”¨çš„é€šçŸ¥ï¼Œå¯ä»¥æ¥æ”¶æ–¹æ³•çš„å¼‚å¸¸ã€‚ äº”ä¸ªé€šçŸ¥çš„å…ˆåé¡ºåºæ˜¯ï¼šBefore-&gt;Around-&gt;After&#x2F;AfterThrowing-&gt;AfterReturning å¯ä»¥ä½¿ç”¨@Aspectæ³¨è§£æŒ‡å®šä¸€ä¸ªç»„ä»¶ä¸ºåˆ‡é¢ç»„ä»¶ï¼Œä¸”åœ¨ç±»ä¸­çš„æ–¹æ³•è¦ä½¿ç”¨@Beforeã€@Afterã€@Aroundã€@AfterReturningã€@AfterThrowingæ³¨è§£ä¿®é¥°æ–¹æ³•ã€‚ @Aspect@Componentpublic class CustomAspect { 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@Aspect@Componentpublic class CustomAspect &#123; //@Pointcutæ³¨è§£å¢åŠ åœ¨æ–¹æ³•ä¸Š â†’ valueå±æ€§å†™åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œæ–¹æ³•åä½œä¸ºåˆ‡å…¥ç‚¹çš„id @Pointcut(&quot;execution(* com.cskaoyan.service..*(..))&quot;) public void servicePointcut() &#123; &#125; // åˆ‡é¢ç»„ä»¶ä¸­çš„æ–¹æ³•ï¼Œä½œä¸ºå¯¹åº”çš„é€šçŸ¥æ–¹æ³• â†’ åœ¨å¯¹åº”çš„æ—¶é—´ç‚¹ä¸‹ä¼šæ‰§è¡Œåˆ°å¯¹åº”çš„æ–¹æ³• // é€šçŸ¥æ³¨è§£çš„valueå±æ€§ï¼šå¯ä»¥ç›´æ¥å†™åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼›ä¹Ÿå¯ä»¥å¼•ç”¨åˆ‡å…¥ç‚¹æ–¹æ³• @Before(&quot;servicePointcut()&quot;) public void beforex() &#123; System.out.println(&quot;beforeæ–¹æ³•&quot;); &#125; @After(&quot;servicePointcut()&quot;) public void after() &#123; System.out.println(&quot;afteré€šçŸ¥æ–¹æ³•&quot;); &#125; // Aroundé€šçŸ¥ â†’ æœ€å¼ºé€šçŸ¥ ï¼šè¿”å›å€¼ä¸ºObjectï¼Œè¦æœ‰å§”æ‰˜ç±»æ–¹æ³•çš„æ‰§è¡Œ // ç±»ä¼¼äºInvocationHandlerçš„invokeï¼Œç±»ä¼¼äºMethodInterceptorçš„invoke // æ‰§è¡Œå§”æ‰˜ç±»çš„æ–¹æ³•ï¼šProceedingJoinPoint proceedæ–¹æ³• @Around(&quot;servicePointcut()&quot;) public Object around(ProceedingJoinPoint joinPoint) throws Throwable &#123; long start = System.currentTimeMillis(); System.out.println(&quot;å¼€å§‹æ—¶é—´ï¼š&quot; + start); Object proceed = joinPoint.proceed(); // æ‰§è¡Œå§”æ‰˜ç±»çš„æ–¹æ³• long end = System.currentTimeMillis(); System.out.println(&quot;æ–¹æ³•æ‰§è¡Œæ—¶é—´ï¼š&quot; + (end - start)); return proceed; // å°±æ˜¯ä½œä¸ºä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•çš„è¿”å›å€¼ &#125; // afterReturningé€šçŸ¥æ–¹æ³•çš„å½¢å‚ï¼Œé‡‡ç”¨Objectç±»å‹ï¼Œæ¥æ”¶å§”æ‰˜ç±»æ–¹æ³•çš„è¿”å›å€¼ @AfterReturning(value = &quot;servicePointcut()&quot;,returning = &quot;result&quot;) public void afterReturning(Object result) &#123; System.out.println(&quot;AfterReturningæ¥æ”¶åˆ°çš„ç»“æœï¼š&quot; + result); &#125; // public void afterThrowing(Exception exception) &#123; @AfterThrowing(value = &quot;servicePointcut()&quot;,throwing = &quot;exception&quot;) public void afterThrowing(Throwable exception) &#123; System.out.println(&quot;afterThrowingé€šçŸ¥ï¼š&quot; + exception.getMessage()); &#125;&#125; è¿æ¥ç‚¹JoinPointåœ¨Beforeå’ŒAroundé€šçŸ¥æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥è·å¾—JoinPointï¼Œé€šè¿‡å®ƒæ‹¿åˆ°ä¸€äº›ä¿¡æ¯ï¼Œè¿™æ„å‘³ç€åœ¨é€šçŸ¥ä¸­å¯ä»¥æœ‰æ›´å¤šæ“ä½œç©ºé—´ã€‚ joinPointå¯ä»¥ç›´æ¥å†™åœ¨é€šçŸ¥æ–¹æ³•çš„å½¢å‚ä¸­ï¼Œé€šè¿‡è°ƒç”¨å…¶æ–¹æ³•è·å–ä¿¡æ¯ã€‚ 123456789101112131415@Before(&quot;servicePointcut()&quot;)public void beforex(JoinPoint joinPoint) &#123; // ä»£ç†ç±» Object proxy = joinPoint.getThis(); // ç›®æ ‡ç±»ã€å§”æ‰˜ç±»å¯¹è±¡ Object target = joinPoint.getTarget(); // å‚æ•° Object[] args = joinPoint.getArgs(); // æ–¹æ³• Signature signature = joinPoint.getSignature(); String name = signature.getName(); System.out.println(&quot;æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•ï¼š&quot; + name); System.out.println(&quot;beforeæ–¹æ³•&quot;);&#125; Springäº‹åŠ¡Springäº‹åŠ¡æœ‰ä¸‰ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼Œåˆ†åˆ«æ˜¯REQUIREDã€REQUIRES_NEWã€NESTEDã€‚ REQUIREDï¼šSpringé»˜è®¤ã€‚å¦‚æœå¤–å›´çš„æ–¹æ³•ä¸åŒ…å«äº‹åŠ¡ï¼Œé‚£ä¹ˆè¢«ä¿®é¥°çš„å†…éƒ¨æ–¹æ³•å°±æ·»åŠ ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼›å¦‚æœå¤–å›´æ–¹æ³•åŒ…å«äº‹åŠ¡ï¼Œåˆ™å†…éƒ¨æ–¹æ³•åŠ å…¥è¯¥äº‹åŠ¡ï¼Œè¦ä¹ˆä¸€èµ·æäº¤è¦ä¹ˆä¸€èµ·å›æ»šã€‚ REQUIRES_NEWï¼šå¦‚æœå¤–å›´çš„æ–¹æ³•ä¸åŒ…å«äº‹åŠ¡ï¼Œé‚£ä¹ˆå†…éƒ¨æ–¹æ³•å°±æ·»åŠ ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼›å¦‚æœå¤–å›´æ–¹æ³•åŒ…å«äº‹åŠ¡ï¼Œå†…éƒ¨æ–¹æ³•ä¹Ÿæ·»åŠ ä¸€ä¸ªäº‹åŠ¡ï¼Œä¸”è¯¥äº‹åŠ¡ä¸å¤–å›´çš„äº‹åŠ¡ç‹¬ç«‹ã€‚ NESTEDï¼šå¦‚æœå¤–å›´çš„æ–¹æ³•ä¸åŒ…å«äº‹åŠ¡ï¼Œé‚£ä¹ˆå†…éƒ¨æ–¹æ³•å°±æ·»åŠ ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼›å¦‚æœå¤–å›´æ–¹æ³•åŒ…å«äº‹åŠ¡ï¼Œå†…éƒ¨æ–¹æ³•ä¹Ÿæ·»åŠ ä¸€ä¸ªäº‹åŠ¡ï¼Œä¸”è¯¥äº‹åŠ¡ä¸å¤–å›´çš„äº‹åŠ¡æˆåµŒå¥—å…³ç³»ã€‚ Springäº‹åŠ¡çš„å¼€å¯æ–¹å¼æœ‰ï¼š PlatFormTransactionManagerï¼Œå¹³å°äº‹åŠ¡ç®¡ç†å™¨ 12345678public interface PlatformTransactionManager extends TransactionManager &#123; // æ ¹æ®äº‹åŠ¡çš„å®šä¹‰ï¼Œè·å¾—äº‹åŠ¡çš„çŠ¶æ€ â†’ å¼€å¯äº‹åŠ¡ TransactionStatus getTransaction(@Nullable TransactionDefinition var1) throws TransactionException; // æäº¤ â†’ å‚æ•°æ˜¯TransactionStatus void commit(TransactionStatus var1) throws TransactionException; // å›æ»š â†’ å‚æ•°æ˜¯TransactionStatus void rollback(TransactionStatus var1) throws TransactionException;&#125; TransactionTemplate 12345678910111213141516171819202122232425public class TransferTransactionCallBack implements TransactionCallback &#123; AccountMapper accountMapper; Integer fromId; Integer destId; Integer fromMoney; Integer destMoney; public TransferTransactionCallBack(AccountMapper accountMapper, Integer fromId, Integer destId, Integer fromMoney, Integer destMoney) &#123; this.accountMapper = accountMapper; this.fromId = fromId; this.destId = destId; this.fromMoney = fromMoney; this.destMoney = destMoney; &#125; @Override public Object doInTransaction(TransactionStatus transactionStatus) &#123; // æ›´æ–°money int update1 = accountMapper.update(fromId, fromMoney); int i = 1 / 0; int update2 = accountMapper.update(destId, destMoney); return null; &#125;&#125; åœ¨é…ç½®ç±»ä½¿ç”¨@EnableTransactionManagementæ³¨è§£å¼€å¯äº‹åŠ¡ï¼Œåœ¨éœ€è¦äº‹åŠ¡çš„ç±»æˆ–æ–¹æ³•ä¸­ä½¿ç”¨æ³¨è§£@Transactionalã€‚ 1234567891011121314151617@Transactional@Overridepublic void transfer(int fromId, int destId, Integer money) &#123; // æŸ¥è¯¢ç°æœ‰çš„moneyæ˜¯å¤šå°‘ Integer fromMoney = accountMapper.select(fromId); Integer destMoney = accountMapper.select(destId); // è®¡ç®—è½¬è´¦åçš„moneyæ˜¯å¤šå°‘ fromMoney -= money; destMoney += money; // æ›´æ–°money int update1 = accountMapper.update(fromId, fromMoney); int i = 1 / 0; int update2 = accountMapper.update(destId, destMoney);&#125; SpringMVCä¼ ç»Ÿçš„Servletæ˜ å°„è¿‡ç¨‹ç¹çï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å¤„ç†urlå’ŒServletçš„æ˜ å°„å…³ç³»ï¼Œå¹¶æ ¹æ®urlåˆ¤æ–­ã€åˆ†å‘æ¥å£è‡³ä¸åŒçš„æ–¹æ³•ä¸­ï¼Œä¸”è¯·æ±‚å‚æ•°ã€å“åº”ç»“æœéƒ½è¦è‡ªå·±æ‰‹åŠ¨æ‹†å°jsonã€‚åœ¨SpringMVCä¸­ï¼Œåˆ™åªç”±ä¸€ä¸ªServletï¼šDispatcherServletæ¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚ åœ¨SpringMVCä¸­çš„æµç¨‹å¦‚ä¸‹ã€‚ å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘é€è¯·æ±‚ï¼Œç›´æ¥è¯·æ±‚åˆ° DispatcherServletã€‚ DispatcherServlet æ ¹æ®è¯·æ±‚ä¿¡æ¯è°ƒç”¨ HandlerMappingï¼Œè§£æè¯·æ±‚å¯¹åº”çš„ Handlerã€‚ è§£æåˆ°å¯¹åº”çš„ Handlerï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³å¸¸è¯´çš„ Controller æ§åˆ¶å™¨ï¼‰åï¼Œå¼€å§‹ç”± HandlerAdapter é€‚é…å™¨å¤„ç†ã€‚ HandlerAdapter ä¼šæ ¹æ® Handleræ¥è°ƒç”¨çœŸæ­£çš„å¤„ç†å™¨å¼€å¤„ç†è¯·æ±‚ï¼Œå¹¶å¤„ç†ç›¸åº”çš„ä¸šåŠ¡é€»è¾‘ã€‚ å¤„ç†å™¨å¤„ç†å®Œä¸šåŠ¡åï¼Œä¼šè¿”å›ä¸€ä¸ª ModelAndView å¯¹è±¡ï¼ŒModel æ˜¯è¿”å›çš„æ•°æ®å¯¹è±¡ï¼ŒView æ˜¯ä¸ªé€»è¾‘ä¸Šçš„ Viewã€‚ ViewResolver ä¼šæ ¹æ®é€»è¾‘ View æŸ¥æ‰¾å®é™…çš„ Viewã€‚ DispaterServlet æŠŠè¿”å›çš„ Model ä¼ ç»™ Viewï¼ˆè§†å›¾æ¸²æŸ“ï¼‰ã€‚ æŠŠ View è¿”å›ç»™è¯·æ±‚è€…ï¼ˆæµè§ˆå™¨ï¼‰ åœ¨SpringMVCä¸­ï¼Œå¯ä»¥å®Œå…¨ä½¿ç”¨JavaConfigä»£æ›¿é…ç½®æ–‡ä»¶ï¼Œä¸»è¦æœ‰ï¼š AACDSIï¼ˆAbstractAnnotationConfigDispatcherServletInitializerï¼‰ 1234567891011121314151617181920public class ApplicationInitializer extends AbstractAnnotationConfigDispatcherServletInitializer &#123; // åŠ è½½Springçš„é…ç½®æ–‡ä»¶application.xml â†’ é…ç½®ç±» @Override protected Class&lt;?&gt;[] getRootConfigClasses() &#123; return new Class[]&#123;SpringConfiguration.class&#125;; &#125; // åŠ è½½SpringMVCçš„é…ç½®æ–‡ä»¶application-mvc.xml â†’ é…ç½®ç±» @Override protected Class&lt;?&gt;[] getServletConfigClasses() &#123; return new Class[]&#123;MvcConfiguration.class&#125;; &#125; // DispatcherServletçš„æ˜ å°„èŒƒå›´ @Override protected String[] getServletMappings() &#123; return new String[]&#123;&quot;/&quot;&#125;; &#125;&#125; Springé…ç½®ç±»ï¼Œç”¨@Configurationä¿®é¥° 12345@ComponentScan(value = &quot;com.cskaoyan&quot;, excludeFilters = @ComponentScan.Filter(&#123;Controller.class, EnableWebMvc.class&#125;)) // mvcé…ç½®ç±»ä¹Ÿåœ¨æ‰«æåŒ…èŒƒå›´@Configurationpublic class SpringConfiguration &#123;&#125; SpringMVCé…ç½®ç±»ï¼Œç”¨@EnableWebMvcä¿®é¥° 1234@ComponentScan(&quot;com.cskaoyan.controller&quot;)@EnableWebMvcpublic class MvcConfiguration implements WebMvcConfigurer &#123;&#125; @RequestMappingç”¨äºurlçš„è·¯å¾„æ˜ å°„ï¼Œå¯ä»¥å†™åœ¨ç±»æˆ–æ–¹æ³•ä¸Šã€‚ åŒä¸€ä¸ªRequestMappingå¯ä»¥æ˜ å°„å¤šä¸ªè·¯å¾„ï¼Œé€šè¿‡æ•°ç»„è¡¨ç¤ºã€‚ 1234567891011121314@RequestMapping(&#123;&quot;hello&quot;,&quot;hello2&quot;,&quot;hello3&quot;&#125;) @ResponseBody public String hello() &#123; return &quot;hello world&quot;; &#125;/** * ä¹Ÿå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ * */ @RequestMapping(&#123;&quot;goodbye/*&quot;, &quot;goodbye*&quot;&#125;) @ResponseBody public String goodbye() &#123; return &quot;byebye&quot;; &#125; å¦‚æœè¯·æ±‚urlåŒ…å«å…±åŒçš„å‰ç¼€ï¼Œå¯ä»¥æå–è‡³ä¿®é¥°ç±»çš„æ³¨è§£ä¸­ï¼Œè¿™ç§°ä¸ºçª„åŒ–è¯·æ±‚ã€‚ 1234567891011121314151617181920212223242526272829@Controller@RequestMapping(&quot;user&quot;)public class UserController &#123; //@RequestMapping(&quot;user/login&quot;) @RequestMapping(&quot;login&quot;) @ResponseBody public String login() &#123; return &quot;login&quot;; &#125; //@RequestMapping(&quot;user/register&quot;) @RequestMapping(&quot;register&quot;) @ResponseBody public String register() &#123; return &quot;register&quot;; &#125; //@RequestMapping(&quot;user/modify&quot;) @RequestMapping(&quot;modify&quot;) @ResponseBody public String modify() &#123; return &quot;modify&quot;; &#125; //@RequestMapping(&quot;user/remove&quot;) @RequestMapping(&quot;remove&quot;) @ResponseBody public String remove() &#123; return &quot;remove&quot;; &#125;&#125; @RequestMappingè¿˜æœ‰å¤šç§å±æ€§ï¼š methodï¼šç”¨äºé™å®šè¯·æ±‚æ–¹æ³•ã€‚å¦‚GETã€POSTã€‚ 12345@RequestMapping(value = &quot;get&quot;,method = RequestMethod.GET) @ResponseBody public String methodGet() &#123; return &quot;Method GET&quot;; &#125; paramsï¼šç”¨äºé™å®šå‚æ•°ã€‚ 12345@RequestMapping(value = &quot;login&quot;,params = &#123;&quot;username&quot;,&quot;password&quot;&#125;) // æ—¢è¦æºå¸¦usernameåˆè¦æºå¸¦password @ResponseBody public String login() &#123; return &quot;ok&quot;; &#125; headersï¼šç”¨äºé™å®šè¯·æ±‚å¤´ã€‚ 12345@RequestMapping(value = &quot;limit&quot;, headers = &#123;&quot;abc&quot;, &quot;def&quot;&#125;)//æ—¢è¦æºå¸¦abcã€åˆè¦æºå¸¦defè¿™ä¸¤ä¸ªè¯·æ±‚å¤´ @ResponseBody public String headerLimit() &#123; return &quot;header limit&quot;; &#125; consumesï¼šç”¨äºé™å®šContent-Typeçš„å€¼ã€‚ producesï¼šç”¨äºé™å®šAcceptçš„å€¼ @ResponseBodyåœ¨Controllerä¸Šæ·»åŠ æ³¨è§£@ResponseBodyï¼Œå³å¯å°†è¿”å›å€¼è‡ªåŠ¨åŒ…è£…ä¸ºjsonã€‚ 123456789@Controllerpublic class JsonController &#123; @RequestMapping(&quot;json&quot;) @ResponseBody public User json() &#123; return new User(&quot;123&quot;,&quot;456&quot;); &#125;&#125; å¯ä»¥ä½¿ç”¨@RestControlleræ¥ä»£æ›¿@Controllerå’Œ @ResponseBodyã€‚ è¯·æ±‚å‚æ•°çš„æ¥æ”¶å¦‚æœæ˜¯æ™®é€šçš„getè¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•å½¢å‚æ¥æ¥æ”¶å‚æ•°ï¼Œä½†è¦æ±‚å½¢å‚åä¸å‚æ•°åå¿…é¡»ä¸€è‡´ã€‚ç±»å‹æ”¯æŒï¼š å­—ç¬¦ä¸²String åŸºæœ¬ç±»å‹ä»¥åŠå¯¹åº”åŒ…è£…ç±» æ•°ç»„ Dateï¼ˆéœ€è¦ä½¿ç”¨@DateTimeFormatæ¥æ ‡å‡†åŒ–æ—¥æœŸæ ¼å¼ï¼‰ æ–‡ä»¶ 1234567891011121314151617181920@RequestMapping(&quot;register5&quot;)public BaseRespVo register5(String username, String password, Integer age, String[] hobbies, Integer[] ids, @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date birthday) &#123; return BaseRespVo.ok();&#125;@RequestMapping(&quot;file&quot;)public BaseRespVo uploadFile(MultipartFile file) throws IOException &#123; // è·å¾—ä¸Šä¼ çš„æ–‡ä»¶çš„ä¿¡æ¯ String name = file.getName(); // è¯·æ±‚å‚æ•°å â†’ file String originalFilename = file.getOriginalFilename(); //åŸå§‹æ–‡ä»¶å long size = file.getSize(); // æ–‡ä»¶çš„å¤§å° String contentType = file.getContentType(); // æ­£æ–‡ç±»å‹ â†’ æ–‡ä»¶ç±»å‹ // MultipartFile.transferTo File saveFile = new File(&quot;D:\\\\WorkSpace\\\\j40_workspace&quot;, originalFilename); //File saveFile = new File(&quot;D:\\\\WorkSpace\\\\j40_workspace\\\\dlrb.jpg&quot;); file.transferTo(saveFile); return BaseRespVo.ok();&#125; é™¤äº†å½¢å‚ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„å¼•ç”¨ç±»å‹å¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨å¼•ç”¨ç±»å‹çš„å¯¹è±¡æ—¶ï¼ŒServletä¼šå»åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚çœ‹ä½ è¿™ä¸ªç±»ä¸­æœ‰å“ªäº›æˆå‘˜å˜é‡ï¼Œå¦‚æœæˆå‘˜å˜é‡åå’Œè¯·æ±‚å‚æ•°åç›¸åŒï¼Œå°±ä¼šä½¿ç”¨æˆå‘˜å˜é‡æ¥æ¥æ”¶è¯·æ±‚å‚æ•°ï¼Œä½¿ç”¨setæ–¹æ³•æ¥è¿›è¡Œå°è£…ã€‚æ‰€ä»¥è¦æ±‚è¯·æ±‚å‚æ•°åä¸å¼•ç”¨ç±»ä¸­çš„æˆå‘˜å˜é‡åä¸€è‡´ã€‚ 12345678910@Datapublic class User &#123; String username; String password; Integer age; String[] hobbies; Integer[] ids; @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) Date birthday;&#125; 1234@RequestMapping(&quot;register6&quot;)public BaseRespVo register6(User user) &#123; return BaseRespVo.ok();&#125; å¦‚æœæ˜¯postè¯·æ±‚ï¼Œé‚£ä¹ˆå‘é€çš„è¯·æ±‚å‚æ•°ä¸€èˆ¬æ˜¯jsonï¼Œéœ€è¦å¯¹jsonè½¬æ¢æˆå¯¹åº”çš„å®ä¾‹ã€‚æ­¤æ—¶éœ€è¦å¢åŠ @RequestBodyæ³¨è§£æ¥ä¿®é¥°jsonå¯¹åº”çš„beanç±»ã€‚ 1234@RequestMapping(&quot;user/login&quot;)public BaseRespVo login(@RequestBody JsonUser user) &#123; return BaseRespVo.ok(user);&#125; å¦‚æœéœ€è¦è·å¾—Cookieï¼Œåˆ™ä¸èƒ½ç›´æ¥è·å¾—ï¼Œéœ€è¦é€šè¿‡Requestè·å¾—ã€‚ 12345678910// æŠŠæ‰€æœ‰Cookieéƒ½éå†æ‰“å°ä¸€ä¸‹@RequestMapping(&quot;cookies&quot;)public BaseRespVo cookies(HttpServletRequest request) &#123; Cookie[] cookies = request.getCookies(); for (Cookie cookie : cookies) &#123; System.out.println(cookie.getName() + &quot; --&gt; &quot; + cookie.getValue()); &#125; return BaseRespVo.ok();&#125; è€Œsessionå¯ä»¥ç›´æ¥è·å¾—ã€‚ 12345@RequestMapping(&quot;session2&quot;)public BaseRespVo session2(HttpSession session) &#123; Object username = session.getAttribute(&quot;username&quot;); return BaseRespVo.ok(username);&#125; @PathVariableè·å–è¯·æ±‚urlä¸­æŒ‡å®šå ä½ç¬¦çš„å€¼ï¼Œå¹¶å°†å€¼èµ‹ç»™å¯¹åº”çš„å½¢å‚ã€‚ 1234@RequestMapping(&quot;note/&#123;id&#125;&quot;)public BaseRespVo note(@PathVariable(&quot;id&quot;) Integer id) &#123; return BaseRespVo.ok();&#125; ConverterConverterï¼Œç±»å‹è½¬æ¢å™¨ï¼Œä½¿ç”¨ä¸»è¦æ˜¯åœ¨è¯·æ±‚å‚æ•°å°è£…çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå°±æ˜¯Handleræ–¹æ³•çš„å½¢å‚ã€‚åœ¨å½¢å‚å¹¶ä¸æ˜¯Stringçš„æƒ…å†µä¸‹ä¼šç”¨åˆ°Converterã€‚ ä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦è‡ªå·±å®šä¹‰Converterã€‚å¦‚ä»Stringè½¬ä¸ºUserã€‚ 12345678910public class String2UserConverter implements Converter&lt;String, User&gt; &#123; @Override public User convert(String s) &#123; // é‡Œé¢çš„è½¬æ¢ä¸šåŠ¡éœ€è¦ä½ è‡ªå·±å®šä¹‰ User user = new User(); user.setUsername(s); user.setPassword(s); return user; &#125;&#125; 12345// æä¾›è‡ªå®šä¹‰çš„è½¬æ¢å™¨@Overridepublic void addFormatters(FormatterRegistry registry) &#123; registry.addConverter(new String2UserConverter());&#125; ResourceHandlerå› ä¸ºåœ¨SpringMVCä¸­ï¼ŒDispatcherServletçš„æ˜ å°„èŒƒå›´æ˜¯&#x2F;ï¼Œå³é™¤äº†jspå¤–çš„æ‰€æœ‰è¯·æ±‚ï¼Œä¹‹å‰JavaEEçš„è®¿é—®é™æ€èµ„æºçš„æ–¹å¼å°±æ— æ³•ä½¿ç”¨äº†ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ResourceHandleræ¥è¿›è¡Œé™æ€èµ„æºæ˜ å°„ã€‚ 123456@Overridepublic void addResourceHandlers(ResourceHandlerRegistry registry) &#123; registry.addResourceHandler(&quot;/pic/**&quot;).addResourceLocations(&quot;classpath:/&quot;); registry.addResourceHandler(&quot;/jpg/**&quot;).addResourceLocations(&quot;/&quot;); registry.addResourceHandler(&quot;/png/**&quot;).addResourceLocations(&quot;file:D:\\\\spring/&quot;);&#125; HandlerInterceptoråœ¨Handlerå‰æ‰§è¡Œï¼Œèµ·åˆ°äº†æ‹¦æˆªçš„åŠŸèƒ½ã€‚ 12345678910111213public interface HandlerInterceptor &#123; // åœ¨Handleræ–¹æ³•æ‰§è¡Œä¹‹å‰ // è¿”å›å€¼ä¸ºbooleanï¼Œå¦‚æœä¸ºtrueåˆ™ç»§ç»­æµç¨‹ï¼Œå¦‚æœfalseï¼Œåˆ™ä¸­æ–­æµç¨‹ default boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; return true; &#125; // åœ¨Handleræ–¹æ³•æ‰§è¡Œä¹‹å default void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception &#123; &#125; // åœ¨æ•´ä¸ªæµç¨‹å®Œæˆä¹‹å default void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception &#123; &#125;&#125; å¼‚å¸¸å¤„ç†æœ‰ä¸¤ç§å¼‚å¸¸å¤„ç†æ–¹å¼ï¼šç»Ÿä¸€çš„å…¨å±€å¼‚å¸¸å¤„ç† HandlerExceptionResolverå’Œè‡ªå®šä¹‰å¼‚å¸¸å¤„ç† ExceptionHandlerã€‚ HandlerExceptionResolveræ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ¥å£é‡Œæä¾›äº†resolveExceptionæ–¹æ³•ï¼Œé‡å†™è¯¥æ–¹æ³•æ¥å¤„ç†å…¨å±€å¼‚å¸¸ã€‚ 123456789101112@Componentpublic class CustomHandlerExceptionResolver implements HandlerExceptionResolver &#123; @Override public ModelAndView resolveException(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) &#123; // é€šè¿‡å®ƒä¹Ÿå¯ä»¥åšä¸ªæ€§åŒ–çš„å¼‚å¸¸å¤„ç†ï¼Œå¦‚æœè¦åšï¼Œéœ€è¦ä½ è‡ªå·±æ¥åšä¸ªæ€§åŒ–çš„ä¸œè¥¿ if (e instanceof ArithmeticException) &#123; //åšä¸ªæ€§åŒ–çš„å¼‚å¸¸å¤„ç† System.out.println(e.getMessage()); &#125; return new ModelAndView(&quot;/exception.jsp&quot;); &#125;&#125; ExceptionHandleræ˜¯ä¸€ä¸ªæ³¨è§£ï¼Œvalueæ˜¯å¯¹åº”çš„å¼‚å¸¸ï¼Œæ—¨åœ¨ç”¨å¯¹åº”çš„æ–¹æ³•å¤„ç†å¯¹åº”çš„å¼‚å¸¸ã€‚ä¸€èˆ¬æ”¾åœ¨ontrollerAdviceç»„ä»¶ä¸­çš„æ–¹æ³•ä¸Šã€‚ 1234567891011@ControllerAdvicepublic class CustomExceptionControllerAdvice &#123; // åœ¨å½¢å‚ä¸­å¯ä»¥ç›´æ¥æ¥æ”¶ä½ æŠ›å‡ºçš„å¼‚å¸¸ï¼Œä½ æ˜ å°„çš„æ˜¯ä»€ä¹ˆå¼‚å¸¸ï¼Œå°±å¯ä»¥ä»¥ä»€ä¹ˆç±»å‹çš„å½¢å‚æ¥æ¥æ”¶ @ExceptionHandler(ArithmeticException.class) @ResponseBody public BaseRespVo method1(ArithmeticException exception) &#123; return BaseRespVo.fail(exception.getMessage()); &#125; &#125; SpringBootSpringBootæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªSpringæ¡†æ¶ï¼Œä½†æ˜¯å®ƒç®€åŒ–äº†Springçš„é…ç½®ã€‚åœ¨æ²¡æœ‰ç»™å…·ä½“é…ç½®å‰ï¼ŒSpringBootä¼šä½¿ç”¨é»˜è®¤çš„é…ç½®ï¼Œåªæœ‰ç»™åˆ°å…·ä½“çš„é…ç½®ï¼Œæ‰é‡‡ç”¨å…·ä½“çš„é…ç½®ã€‚ å¯åŠ¨ç±»ï¼š 123456789// è¯¥æ³¨è§£å°±æ˜¯SpringBootåº”ç”¨å¯åŠ¨ç±»ä¸Šçš„æ³¨è§£ â†’ ä¼šé…ç½®æ‰«æåŒ…ç›®å½•å°±æ˜¯è¯¥ç±»æ‰€å¤„çš„åŒ…ç›®å½•@SpringBootApplicationpublic class Demo1FirstSbApplication &#123; // å¯åŠ¨ç±»ä¸­ä¸€å®šä¼šåŒ…å«mainæ–¹æ³• â†’ å°±æ˜¯å¯åŠ¨SpringBootåº”ç”¨ç¨‹åºçš„å…¥å£ public static void main(String[] args) &#123; SpringApplication.run(Demo1FirstSbApplication.class, args); &#125;&#125; SpringBootå¯¹webçš„æ”¯æŒï¼š 12345678910111213141516# tomcaté…ç½®server: port: 8083 #Tomcatçš„ç«¯å£å·é…ç½® servlet: context-path: /demo1 # åº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡é…ç½®ï¼ˆåº”ç”¨åï¼‰ # é™æ€èµ„æºæ˜ å°„spring: mvc: static-path-pattern: /pic/**# spring.resources æˆ– spring.web.resources resources: static-locations: file:d:/spring/ # Converter# Filter SpringBootå¯¹Mybatisçš„æ”¯æŒï¼š 123456spring: datasource: driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql://localhost:3306/cskaoyan_db?useUnicode=true&amp;characterEncoding=utf-8 username: root password: 123456 12345678910@SpringBootApplication// éœ€è¦æ·»åŠ @MapperScanæ¥æ‰«æmapper@MapperScan(&quot;com.cskaoyan.mapper&quot;)public class Demo1FirstSbApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(Demo1FirstSbApplication.class, args); &#125;&#125; é€†å‘å·¥ç¨‹é€†å‘å·¥ç¨‹å¯ä»¥æ ¹æ®æ•°æ®åº“ä¸­çš„è¡¨è‡ªåŠ¨ç”Ÿæˆæ¥å£ã€æ–¹æ³•ã€æ˜ å°„æ–‡ä»¶ï¼Œåªéœ€è¦æ“ä½œå¯¹åº”çš„Exampleç±»å°±å¯ä»¥æ“ä½œæ•°æ®åº“ã€‚ æ¥å£æ–¹æ³•ç¤ºä¾‹ã€‚ 123456//å‡åºè¿˜æ˜¯é™åº:å­—æ®µ+ç©ºæ ¼+asc(desc)protected String orderByClause;//å»é™¤é‡å¤:trueæ˜¯é€‰æ‹©ä¸é‡å¤è®°å½•,false,åä¹‹protected boolean distinct;//è‡ªå®šä¹‰æŸ¥è¯¢æ¡ä»¶protected List&lt;Criteria&gt; oredCriteria; 123456789101112131415@Testpublic void testFindUserByName()&#123; //é€šè¿‡criteriaæ„é€ æŸ¥è¯¢æ¡ä»¶ UserExample userExample = new UserExample(); userExample.setOrderByClause(&quot;username asc&quot;); //ascå‡åº,descé™åºæ’åˆ— userExample.setDistinct(false); //å»é™¤é‡å¤,trueæ˜¯é€‰æ‹©ä¸é‡å¤è®°å½•,falseåä¹‹ UserExample.Criteria criteria = userExample.createCriteria(); //æ„é€ è‡ªå®šä¹‰æŸ¥è¯¢æ¡ä»¶ criteria.andUsernameEqualTo(&quot;å¼ ä¸‰&quot;); //è‡ªå®šä¹‰æŸ¥è¯¢æ¡ä»¶å¯èƒ½è¿”å›å¤šæ¡è®°å½•,ä½¿ç”¨Listæ¥æ”¶ List&lt;User&gt; users = userMapper.selectByExample(userExample); System.out.println(users);&#125; é€†å‘å·¥ç¨‹ç”Ÿæˆçš„å†…å®¹ä¼šæœ‰ä¸€å®šé—®é¢˜ï¼Œå¦‚æœè¡¨ä¸­çš„å­—æ®µå­˜åœ¨sqlè¯­å¥ä¸­çš„å…³é”®å­—ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨åœ¨mapper.xmlæ–‡ä»¶ä¸­æ·»åŠ è½¬ä¹‰å­—ç¬¦ã€‚ TypeHandlerTypeHandleræ˜¯Mybatisè¾“å…¥è¾“å‡ºæ˜ å°„è¿‡ç¨‹ä¸­çš„ç±»å‹å¤„ç†å™¨ï¼Œç”¨äºå¤„ç†jdbcTypeå’ŒJavaTypeé—´çš„è½¬æ¢ã€‚ ä¸»è¦æ–¹å¼æ˜¯å®ç°TypeHandleræ¥å£ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// ç±»å‹æ˜ å°„é…ç½®@MappedTypes(Integer[].class)@MappedJdbcTypes(JdbcType.VARCHAR)public class IntegerArrayTypeHandler implements TypeHandler&lt;Integer[]&gt; &#123; ObjectMapper objectMapper = new ObjectMapper(); // è¾“å…¥æ˜ å°„è¿‡ç¨‹ // insert into market_user (id,username,password,role_ids) values (?,?,?,?) @Override public void setParameter(PreparedStatement preparedStatement, int index, Integer[] integers, JdbcType jdbcType) throws SQLException &#123; String value = null; try &#123; value = objectMapper.writeValueAsString(integers); &#125; catch (JsonProcessingException e) &#123; e.printStackTrace(); &#125; // ä¸ºç¬¬å‡ ä¸ªå ä½ç¬¦æä¾›çš„å€¼æ˜¯ä»€ä¹ˆ preparedStatement.setString(index,value); &#125; // è¾“å‡ºæ˜ å°„è¿‡ç¨‹ @Override public Integer[] getResult(ResultSet resultSet, String columName) throws SQLException &#123; // è·å¾—ç»“æœ String result = resultSet.getString(columName); return transfer(result); &#125; @Override public Integer[] getResult(ResultSet resultSet, int index) throws SQLException &#123; // è·å¾—ç»“æœ String result = resultSet.getString(index); return transfer(result); &#125; @Override public Integer[] getResult(CallableStatement callableStatement, int i) throws SQLException &#123; // è·å¾—ç»“æœ String result = callableStatement.getString(i); return transfer(result); &#125; private Integer[] transfer(String result) &#123; Integer[] integers = new Integer[0]; // ä½¿ç”¨jacksonå°†å­—ç¬¦ä¸²è½¬æ¢Integer[] try &#123; integers = objectMapper.readValue(result, Integer[].class); &#125; catch (JsonProcessingException e) &#123; e.printStackTrace(); &#125; return integers; &#125;&#125; é…ç½®è‡ªå®šä¹‰çš„TypeHandler 12mybatis: type-handlers-package: com.cskaoyan.typehandler Shiroæ¡†æ¶Shiroå®‰å…¨æ¡†æ¶ï¼ŒApache Shiroæ˜¯ä¸€ä¸ªå¼€æºå®‰å…¨æ¡†æ¶ï¼Œæä¾›èº«ä»½è®¤è¯ã€æˆæƒã€å¯†ç å­¦å’Œä¼šè¯ç®¡ç†ã€‚Shiroæ¡†æ¶ç›´è§‚ã€æ˜“ç”¨ï¼ŒåŒæ—¶ä¹Ÿèƒ½æä¾›å¥å£®çš„å®‰å…¨æ€§ã€‚ Shiroåœ¨SpringMVCåº”ç”¨ç¨‹åºä¸­ä»¥Filterçš„å½¢å¼å­˜åœ¨ã€‚ Shiroçš„ä¸€äº›æ ¸å¿ƒæœ¯è¯­å¦‚ä¸‹ã€‚ Authenticationï¼Œè®¤è¯æ˜¯èº«ä»½éªŒè¯çš„è¿‡ç¨‹ -æ‚¨æ­£åœ¨å°è¯•è¯æ˜ç”¨æˆ·æ˜¯ä»–ä»¬æ‰€è¯´çš„äººã€‚ä¸ºæ­¤ï¼Œç”¨æˆ·éœ€è¦æä¾›ç³»ç»Ÿç†è§£å’Œä¿¡ä»»çš„æŸç§èº«ä»½è¯æ˜ã€‚è®¤è¯å…¶å®å°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ç™»å½•ã€‚ Authorizationï¼Œæˆæƒæˆ–è®¿é—®æ§åˆ¶æ˜¯æŒ‡å®šå¯¹èµ„æºçš„è®¿é—®æƒé™çš„åŠŸèƒ½ã€‚æ¢å¥è¯è¯´ï¼Œè°å¯ä»¥è®¿é—®ä»€ä¹ˆã€‚æ¯”å¦‚æ˜¯å¦å…è®¸ç”¨æˆ·ç¼–è¾‘æ­¤æ•°æ®ï¼Œè¿™äº›éƒ½æ˜¯å†³å®šç”¨æˆ·æœ‰æƒè®¿é—®çš„å†…å®¹çš„å†³å®šã€‚æˆ‘ä»¬å½“å‰ä¸»è¦é’ˆå¯¹çš„æ˜¯URLçº§åˆ«çš„æƒé™è®¿é—®æ§åˆ¶ã€‚ Subjectï¼Œä¸»ä½“ï¼Œåœ¨Shiroä¸­æ‰€åšçš„å‡ ä¹æ‰€æœ‰æ“ä½œéƒ½åŸºäºå½“å‰æ­£åœ¨æ‰§è¡Œçš„ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯åŸºæœ¬ä¸ŠShiroçš„æ“ä½œéƒ½æ˜¯ä½¿ç”¨Subjectæ“ä½œçš„ï¼ŒSubjectæŒ‡çš„å°±æ˜¯å½“å‰æ“ä½œçš„ç”¨æˆ·ã€‚åœ¨ä»£ç ä¸­çš„ä»»ä½•ä½ç½®éƒ½å¯ä»¥è½»æ¾è·å¾—Subjectï¼Œé€šè¿‡Subjectå¯ä»¥æ–¹ä¾¿çš„æ“ä½œShiroã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Subjectæä¾›çš„æ–¹æ³•æ¥æ‰§è¡Œè®¤è¯ã€åˆ¤æ–­æ˜¯å¦è®¤è¯ç­‰æ“ä½œã€‚ Principalsï¼Œä¸»ä½“é‰´å®šåçš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è®¤è¯åçš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯å§“åã€ç”¨æˆ·idã€ç”¨æˆ·å¯¹è±¡ç­‰å½¢å¼ã€‚ Credentialsï¼Œç”¨æ¥éªŒè¯èº«ä»½çš„ç§˜å¯†æ•°æ®ï¼Œé€šå¸¸æŒ‡å¯†ç ï¼Œç”Ÿç‰©æ•°æ®æ¯”å¦‚æŒ‡çº¹ã€é¢éƒ¨ã€ç³å­”ç­‰ã€‚ Realmsï¼ŒåŸŸæˆ–é¢†åŸŸï¼Œå®‰å…¨çš„ç‰¹æ®Šæ•°æ®å­˜å‚¨å¯¹è±¡ï¼ˆDAOï¼‰ï¼ŒShiroä¸­çš„Realmä¸»è¦æ˜¯è®©ä½ èƒ½å¤Ÿè·å¾—å¯¹åº”çš„è®¤è¯ä¿¡æ¯å’Œæˆæƒä¿¡æ¯ã€‚ Tokenï¼Œä»¤ç‰Œï¼ŒShiroä¸­çš„Tokenæ˜¯ä½œä¸ºç™»å½•æ“ä½œçš„å‚æ•°ã€‚ Shiroçš„æ ¸å¿ƒç»„ä»¶å¦‚ä¸‹ï¼š SecurityManagerï¼Œå®‰å…¨ç®¡ç†å™¨ Authenticatorï¼Œè®¤è¯å™¨ SessionManagerï¼Œä¼šè¯ç®¡ç†å™¨ Realmï¼ŒåŸŸ CacheManagerï¼Œç¼“å­˜ç®¡ç†å™¨ Cryptographyï¼Œå¯†ç å­¦ Shiroæä¾›çš„Filterç±»å‹å¦‚ä¸‹ã€‚ Filteråç§° Filterç±» è¯´æ˜ anon org.apache.shiro.web.filter.authc.AnonymousFilter åŒ¿åFilterï¼Œä½œç”¨èŒƒå›´å†…çš„è¯·æ±‚ä¸éœ€è¦è®¤è¯å’Œæˆæƒ authc org.apache.shiro.web.filter.authc.FormAuthenticationFilter è®¤è¯Filterï¼Œä½œç”¨èŒƒå›´å†…çš„è¯·æ±‚éœ€è¦å®Œæˆè®¤è¯ perms org.apache.shiro.web.filter.authz.PermissionsAuthorizationFilter æƒé™Filterï¼Œä½œç”¨èŒƒå›´å†…çš„è¯·æ±‚éœ€è¦å®Œæˆè®¤è¯å’Œæˆæƒ æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸åŒç±»å‹çš„Filteråˆ†åˆ«æ˜ å°„ä¸€äº›ä¸åŒçš„URLèŒƒå›´ï¼Œå½“è¯·æ±‚å‘é€åˆ°åº”ç”¨ç¨‹åºæ—¶ï¼Œæ ¹æ®è¯·æ±‚URLåˆ†åˆ«åˆ¤æ–­ä½¿ç”¨å“ªä¸€äº›Filterï¼Œåœ¨Filterä¸­å†³å®šæ˜¯å¦ç»§ç»­è®¿é—®æµç¨‹ã€‚åœ¨SpringBootä¸­ï¼Œä¸»è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ã€‚ RealmShiroä¸­çš„Realmä¸»è¦æ˜¯è®©ä½ èƒ½å¤Ÿè·å¾—å¯¹åº”çš„è®¤è¯ä¿¡æ¯å’Œæˆæƒä¿¡æ¯ã€‚ ä¸€èˆ¬é€šè¿‡è‡ªå®šä¹‰Realmæ¥ä½¿ç”¨ï¼Œéœ€è¦ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»AuthorizingRealmï¼Œå¹¶å®ç°ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼š doGetAuthenticationInfo ï¼šè·å¾—è®¤è¯ä¿¡æ¯ï¼Œå³æ ¹æ®tokenä¸­çš„ç”¨æˆ·åæŸ¥è¯¢è¯¥ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­çš„Credentialsï¼Œå¹¶ä¸”æ„é€ AuthenInfoã€‚ doGetAuthorizationInfo ï¼šè·å¾—æˆæƒä¿¡æ¯ï¼Œå³æ ¹æ®Principalï¼ˆæ”¾å…¥AuthenInfoä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰æŸ¥è¯¢è¯¥ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­çš„æƒé™ä¿¡æ¯ã€‚ åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¸­å»å†™è·å¾—ç”¨æˆ·è®¤è¯ä¿¡æ¯å’Œæˆæƒä¿¡æ¯çš„ä¸šåŠ¡ä»£ç ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445@Componentpublic class CustomRealm extends AuthorizingRealm &#123; //é€šå¸¸æŠŠdoGetAuthenticationInfoæ–¹æ³•æ”¾åœ¨ä¸Šé¢ //è¯¥æ–¹æ³•çš„å½¢å‚ â†’ æ¥æºäºsubjectçš„loginæ–¹æ³• // ä¼ å…¥è¯¥å€¼ï¼Œä¸ºäº†æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢åˆ°è¯¥ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­çš„å¯†ç ï¼ˆæ•°æ®åº“ä¸­ç»´æŠ¤ï¼‰ â†’ æ¥æ„é€ è®¤è¯ä¿¡æ¯ @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken authenticationToken) throws AuthenticationException &#123; UsernamePasswordToken token = (UsernamePasswordToken) authenticationToken; String username = token.getUsername(); //æ ¹æ®usernameæŸ¥è¯¢æ•°æ®åº“ä¸­å¯¹åº”password String password = selectPasswordByUsername(username); // principalä¿¡æ¯ â†’ å½“å‰æ”¾çš„æ˜¯ä»€ä¹ˆä¿¡æ¯ï¼Œåç»­å–å‡ºçš„å°±æ˜¯ä»€ä¹ˆä¿¡æ¯ // å¯†ç  â†’ è¯¥å¯†ç ä¼šå’ŒTokenä¸­çš„passwordåšæ¯”è¾ƒ // realmåç§° â†’ æ²¡å•¥ç”¨ return new SimpleAuthenticationInfo(username,password,getName()); &#125; @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) &#123; // æ ¹æ®ç”¨æˆ·ä¿¡æ¯æ‹¿åˆ°æ‰€æœ‰çš„æƒé™ï¼ˆæ•°æ®åº“ï¼‰ // doGetAuthenticationInfoæ–¹æ³•è¿”å›å€¼çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ç”¨æˆ·ä¿¡æ¯ // åœ¨ç¬¬21è¡Œä»£ç æ”¾å…¥çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„Principalä¿¡æ¯ï¼Œå–å‡ºçš„æ—¶å€™å°±å¯ä»¥ä»¥å­—ç¬¦ä¸²æ ¼å¼å–å‡º String primaryPrincipal = (String) principalCollection.getPrimaryPrincipal(); List&lt;String&gt; permissions = getPermissionsByUsername(primaryPrincipal); SimpleAuthorizationInfo simpleAuthorizationInfo = new SimpleAuthorizationInfo(); simpleAuthorizationInfo.addStringPermissions(permissions); return simpleAuthorizationInfo; &#125; private String selectPasswordByUsername(String username) &#123; // åº”è¯¥é€šè¿‡MyBatisæ ¹æ®ç”¨æˆ·åæŸ¥è¯¢è·å¾—ç»“æœ return &quot;123456&quot;; &#125; private List&lt;String&gt; getPermissionsByUsername(String username) &#123; // åº”è¯¥é€šè¿‡MyBatisæ ¹æ®ç”¨æˆ·åæŸ¥è¯¢è·å¾—ç»“æœ return Arrays.asList(&quot;admin:user:list&quot;, &quot;admin:admin:list&quot;); &#125;&#125; è®¤è¯åœ¨å¯¹åº”è¯·æ±‚ä¸­è·å¾—subjectï¼Œå¹¶æ‰§è¡Œsubjectçš„loginæ–¹æ³•ã€‚ å› ä¸ºç™»å½•è¯·æ±‚ä¸éœ€è¦æƒé™ï¼Œéœ€è¦å°†å…¶æƒé™è®¾ä¸ºanon subjectå¯¹è±¡å¯ä»¥åœ¨æ‰€æœ‰ç»„ä»¶ä¸­è·å¾—ï¼Œæ–¹å¼ä¸ºSubject subject = SecurityUtils.getSubject() åœ¨ç»å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œloginæ–¹æ³•çš„å‚æ•°éƒ½ä¸ºAuthenticationTokenæ¥å£ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å…¶å®ç°ç±»UsernamePasswordTokenï¼š subject.login(new UsernamePasswordToken(username,password)) å¦‚æœéœ€è¦è·å¾—sessionIdï¼Œå¯ä»¥ä½¿ç”¨subjectè·å¾—ï¼š subject.getSession().getId() 123456789101112131415161718192021222324252627@PostMapping(&quot;login&quot;)public BaseRespVo&lt;LoginUserData&gt; login(@RequestBody Map map) &#123; String username = (String)map.get(&quot;username&quot;); String password = (String)map.get(&quot;password&quot;); // æ•´åˆShiro // è·å¾—æ“ä½œçš„ä¸»ä½“ Subject subject = SecurityUtils.getSubject(); // loginæ–¹æ³•ä¼ å…¥çš„å‚æ•°AuthenticationToken â†’ è®¤è¯çš„ä»¤ç‰Œ // subjectæ‰§è¡Œlogin â†’ è®¤è¯å™¨æ‰§è¡Œè®¤è¯æ–¹æ³• â†’ realm.doGetAuthenticationInfo // AuthenticationToken â†’ UsernamePasswordToken â†’ ç›´æ¥å°è£…äº†usernameå’Œpassword // usernameå’Œpasswordé€šè¿‡Handleræ–¹æ³•çš„å½¢å‚ä¼ å…¥ subject.login(new UsernamePasswordToken(username,password)); if (subject.isAuthenticated()) &#123; System.out.println(&quot;è®¤è¯æˆåŠŸ&quot;); &#125; LoginUserData loginUserData = new LoginUserData(); AdminInfoBean adminInfo = new AdminInfoBean(); adminInfo.setAvatar(&quot;https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif&quot;); adminInfo.setNickName(&quot;admin123&quot;); loginUserData.setAdminInfo(adminInfo); // æºå¸¦SessionIdä¿¡æ¯ loginUserData.setToken((String) subject.getSession().getId()); return BaseRespVo.ok(loginUserData);&#125; è®¤è¯åå¯ä»¥é€šè¿‡subject.getPrincipals().getPrimaryPrincipal()æ¥è·å–ç”¨æˆ·åœ¨æ•°æ®åº“ä¸­çš„å…¶ä»–ä¿¡æ¯ã€‚è¯¥æ–¹æ³•çš„è¿”å›å€¼ä¸ºObjectï¼Œå¯ä»¥ç›´æ¥è½¬æ¢ä¸ºå¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯POç±»ã€‚ å¯ä»¥é€šè¿‡subject.logout()ç™»å‡ºç”¨æˆ·ã€‚ HibernateValidationåœ¨éœ€è¦å¯¹ä¸€äº›å‚æ•°è¿›è¡Œæ ¡éªŒæ—¶ï¼Œå¯ä»¥åœ¨Handleræ–¹æ³•çš„å½¢å‚ä¸Šå¢åŠ æ³¨è§£@Validæˆ–@Validatedï¼Œæˆ–åœ¨å¼•ç”¨ç±»å‹ä¸­çš„æˆå‘˜å˜é‡ä¸Šå¢åŠ æ ¡éªŒåŠŸèƒ½çš„æ³¨è§£ã€‚ å¸¸è§æ³¨è§£å¦‚ä¸‹ã€‚ 1234567891011121314151617181920å¸¸è§çš„æ³¨è§£ ï¼ˆBean Validation ä¸­å†…ç½®çš„ constraintï¼‰ @Null è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º null @NotNull è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸ä¸º null @Size(max=, min=) è¢«æ³¨é‡Šçš„å…ƒç´ çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†… @AssertTrue è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º true @AssertFalse è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ä¸º false @Min(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼ @Max(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼ @DecimalMin(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼ @DecimalMax(value) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼ @Digits (integer, fraction) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶å€¼å¿…é¡»åœ¨å¯æ¥å—çš„èŒƒå›´å†… @Past è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸ Date @Future è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ @Pattern(regex=,flag=) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ Hibernate Validator é™„åŠ çš„ constraint @NotBlank(message =) éªŒè¯å­—ç¬¦ä¸²énullï¼Œä¸”é•¿åº¦å¿…é¡»å¤§äº0 @Email è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ç”µå­é‚®ç®±åœ°å€ @Length(min=,max=) è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¤§å°å¿…é¡»åœ¨æŒ‡å®šçš„èŒƒå›´å†… @NotEmpty è¢«æ³¨é‡Šçš„å­—ç¬¦ä¸²çš„å¿…é¡»éç©º @Range(min=,max=,message=) è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»åœ¨åˆé€‚çš„èŒƒå›´å†…"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.05.27-2022.06.07ï¼‰","path":"2022/06/05/å­¦ä¹ æ€»ç»“ï¼ˆ2022-05-27-2022-06-05ï¼‰/","text":"HTTPåè®®è¯¦ç»†è¿‡ç¨‹ï¼š åŸŸåè§£æ TCPå»ºç«‹è¿æ¥ å‘é€HTTPè¯·æ±‚æŠ¥æ–‡ è¿”å›HTTPå“åº”æŠ¥æ–‡ æµè§ˆå™¨è§£æHTMLä»£ç ï¼Œæ¸²æŸ“é¡µé¢ï¼Œå‘ˆç°ç»™ç”¨æˆ· å…¶ä¸­è¯·æ±‚æŠ¥æ–‡çš„æ ¼å¼ä¸ºï¼š è¯·æ±‚è¡Œã€‚è¯·æ±‚è¡Œç”±è¯·æ±‚æ–¹æ³•(GET&#x2F;POST)ï¼Œè¯·æ±‚èµ„æºï¼Œè¯·æ±‚åè®®(HTTP&#x2F;1.1)ç»„æˆ è¯·æ±‚å¤´ã€‚ ç©ºè¡Œã€‚ è¯·æ±‚ä½“ã€‚ å“åº”æŠ¥æ–‡çš„æ ¼å¼ä¸ºï¼š å“åº”è¡Œã€‚å“åº”è¡Œç”±ç‰ˆæœ¬åè®®ï¼ŒçŠ¶æ€ç (200,301,404,500â€¦)ï¼ŒåŸå› çŸ­è¯­ç»„æˆã€‚ å“åº”å¤´ã€‚ å“åº”ä½“ã€‚ çŠ¶æ€ç ä¸­æ¯”è¾ƒé‡è¦çš„æœ‰ï¼š 200 è¿‡ç¨‹æ­£å¸¸ 301ï¼Œ302ï¼Œ307 é‡å®šå‘ 404 æœªæ‰¾åˆ°ï¼Œæ„å‘³ç€æ²¡æœ‰å¯¹åº”çš„èµ„æºæ–‡ä»¶ 500 æœåŠ¡å™¨å¼‚å¸¸ï¼Œæ„å‘³æœåŠ¡å™¨ä»£ç å‡ºç°bug ServletServlet æ˜¯ä¸€ä¸ªåœ¨ Web æœåŠ¡å™¨ä¸­è¿è¡Œçš„å°å‹ Java ç¨‹åºã€‚Servlet æ¥æ”¶å’Œå“åº”æ¥è‡ª Web å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œé€šå¸¸é€šè¿‡HTTPåè®®æ¥å®ç°ã€‚ Servletæœ‰ä¸¤ç§å†™æ³•ï¼šä¸€ç§æ˜¯é€šè¿‡ç»§æ‰¿GenericServletå¹¶é‡å†™serviceæ–¹æ³•ï¼›ä¸€ç§æ˜¯é€šè¿‡ç»§æ‰¿HttpServletå¹¶é‡å†™doGetæ–¹æ³•å’ŒdoPostæ–¹æ³•ã€‚å…¶ä¸­HttpServletç»§æ‰¿äº†GenericServletï¼Œå¹¶å°†å®ƒçš„serviceæ–¹æ³•åˆ†è§£æˆäº†doGetå’ŒdoPostï¼Œä»¥æ›´å¥½åœ°å¤„ç†GETè¯·æ±‚å’ŒPOSTè¯·æ±‚ã€‚ åœ¨Servletä¸­ï¼Œå¯ä»¥é€šè¿‡æ³¨è§£çš„æ–¹å¼æ¥é…ç½®æœ¬åœ°ç¨‹åºä¸URLçš„æ˜ å°„å…³ç³»ï¼Œç§°ä¸ºurl-patternï¼Œä¸»è¦é€šè¿‡@WebServleté…ç½®ã€‚ä¸€ä¸ªServletå¯ä»¥é…ç½®å¤šä¸ªurl-patternï¼Œä½†æ˜¯ä¸€ä¸ªurl-patternåªèƒ½å¯¹åº”ä¸€ä¸ªServletã€‚ è®¾ç½®url-patternæ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œå¦‚ï¼š/*ã€ *.htmlï¼Œä¸”å…·æœ‰ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§åˆ¤å®šå¦‚ä¸‹ï¼š &#x2F;xxxä¼˜å…ˆçº§é«˜äº*.xxx å¦‚æœéƒ½æ˜¯&#x2F;xxxï¼Œé‚£ä¹ˆåŒ¹é…ç¨‹åº¦è¶Šé«˜ï¼Œä¼˜å…ˆçº§è¶Šé«˜ åœ¨è®¿é—®é™æ€æ–‡ä»¶æ—¶ï¼Œå…¶å®è®¿é—®çš„æ˜¯ä¸€ä¸ªurl-patternä¸º/*çš„Servletï¼Œè¯¥Servletç§°ä¸ºç¼ºçœServletï¼Œç”±tomcatæä¾›ï¼Œé»˜è®¤é€»è¾‘æ˜¯å°†è¯·æ±‚åœ°å€å½“ä½œé™æ€æ–‡ä»¶ã€‚å®ƒå¯ä»¥è¢«é‡å†™ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­è®¾ç½®ä¸€ä¸ªurl-patternä¸º/*çš„Servletå³å¯ã€‚ Servletæœ‰ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œåˆ†åˆ«æ˜¯initï¼Œserviceï¼Œdestoryï¼Œå¯ä»¥é€šè¿‡é‡å†™å…¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ¥å®Œæˆä¸€äº›éœ€è¦åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å®Œæˆçš„æ“ä½œã€‚æ¯”å¦‚ç”¨init()è¯»å–æ–‡ä»¶ï¼Œservice()ä¿®æ”¹æ–‡ä»¶ï¼Œdestory()ä¿å­˜æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œinit()æ–¹æ³•åªæœ‰åœ¨æµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—®å½“å‰Servletæ—¶è°ƒç”¨ï¼Œéœ€è¦åœ¨æ³¨è§£ä¸­è®¾ç½®load-on-startup=1æ¥ä»¤init()æ–¹æ³•å¯ä»¥éšç€åº”ç”¨åŠ è½½è€Œè§¦å‘æ‰§è¡Œã€‚ ServletContextServletå…·æœ‰ä¸€ä¸ªServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨çš„æ˜¯Servletä¸­çš„ContextåŸŸï¼Œæ¯ä¸ªåº”ç”¨ä¸­åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªContextåŸŸï¼Œæ— è®ºå“ªä¸ªServletéƒ½å¯ä»¥æ‹¿åˆ°åŸŸä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥å®ƒä¸€èˆ¬ç”¨äºServleté—´çš„å…±äº«ã€‚ APIï¼š 123456789101112// è·å–servletContextServletContext servletContext = getServletContext();// è®¾ç½®Contextä¸­çš„é”®å€¼å¯¹servletContext.setAttribute(key,value);// æ ¹æ®keyè·å–Contextä¸­çš„valueservletContext.getAttribute(key);// åˆ é™¤é”®å€¼å¯¹servletContext.removeAttribute(key);// è·å–Servletè®¾ç½®servletContext.getServletConfig();// è·å–ä¸€ä¸ªç›¸å¯¹åº”ç”¨æ ¹ç›®å½•çš„ç»å¯¹è·¯å¾„servletContext.getRealPath(String s); ServletRequestServletRequestæ˜¯å®¢æˆ·ç«¯æä¾›ç»™Servletçš„è¯·æ±‚æŠ¥æ–‡çš„å°è£…ä½“ï¼ŒTomcatåˆ›å»ºServletRequestå¯¹è±¡å¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ ç»™serviceæ–¹æ³•ã€‚HttpServletRequestç»§æ‰¿äº†ServletRequestï¼Œä¸»è¦ç”¨äºå°è£…HTTPæ ¼å¼çš„è¯·æ±‚æŠ¥æ–‡ã€‚ Requestå¯¹è±¡å’Œå¯¹è±¡é—´å¯ä»¥é€šä¿¡ï¼Œè¿™ç§æ–¹å¼å«åšè½¬å‘ã€‚ Requestä¸Contextç›¸ä¼¼ï¼Œä¹Ÿæ‹¥æœ‰ä¸€ä¸ªRequeståŸŸï¼Œä½†æ˜¯RequeståŸŸåªå­˜åœ¨åœ¨ä¸€ä¸ªRequestå¯¹è±¡ä¸­ï¼Œä¸”ä¼šéšç€Requestå¯¹è±¡çš„é”€æ¯è€Œé”€æ¯ï¼Œåœ¨å¤šä¸ªRequestå¯¹è±¡ä¸­ï¼ŒRequeståŸŸä¸å…±äº«ï¼Œåªæœ‰é€šè¿‡è½¬å‘æ‰èƒ½ä¸å…¶ä»–å¯¹è±¡å…±äº«ã€‚æ‰€ä»¥RequeståŸŸä¸€èˆ¬ç”¨äºå­˜æ”¾ä¸é¢‘ç¹ä½¿ç”¨çš„æ•°æ®ã€‚ APIï¼š 123456789101112131415161718192021222324252627282930313233343536373839// è·å–è¯·æ±‚æŠ¥æ–‡// è·å–è¯·æ±‚è¡ŒgetMehtod();// è·å–è¯·æ±‚URLgetRequestURL();// è·å–è¯·æ±‚URIï¼ŒURL=åè®®+ä¸»æœºIPåœ°å€+ç«¯å£å·+URIgetRequestURI();// è·å–è¯·æ±‚åè®®getRequestProtocol();// è·å–æ‰€æœ‰è¯·æ±‚å¤´getHeaderNames();// è·å–å•ä¸ªè¯·æ±‚å¤´getHeader(key);// è·å–è¯·æ±‚ä½“getInputStream();// è·å–å®¢æˆ·æœºä¿¡æ¯// è·å¾—å®¢æˆ·æœºIPåœ°å€getRemoteAddr();// è·å¾—å®¢æˆ·æœºç«¯å£å·getRemotePort();// è·å–æœåŠ¡å™¨ä¸»æœºä¿¡æ¯// è·å¾—ä¸»æœºIPåœ°å€getLocalAddr();// è·å¾—ä¸»æœºç«¯å£getLocalPort();// è·å–è¯·æ±‚å‚æ•°// æ ¹æ®keyè·å–å•ä¸ªvaluegetParameter(key);// æ ¹æ®keyè·å–å¤šä¸ªvaluegetParameterValues(key);// è·å–æ‰€æœ‰keyå€¼getParameterNames();// è·å–keyã€valueæ˜ å°„çš„mapgetParameterMap();// è®¾ç½®è¯·æ±‚ä½“çš„ç¼–ç é›†ï¼Œéœ€è¦åœ¨è¯»å–è¯·æ±‚å‚æ•°å‰è°ƒç”¨setCharacterEncoding(&quot;utf-8&quot;); ServletResponseServletResponseæ˜¯å®¢æˆ·ç«¯æä¾›ç»™Servletçš„å“åº”æŠ¥æ–‡çš„å°è£…ä½“ï¼ŒTomcatåˆ›å»ºServletResponseå¯¹è±¡å¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ ç»™serviceæ–¹æ³•ã€‚HttpServletResponseç»§æ‰¿äº†ServletResponseï¼Œä¸»è¦ç”¨äºå°è£…HTTPæ ¼å¼çš„å“åº”æŠ¥æ–‡ã€‚ APIï¼š 12345678// è®¾ç½®å“åº”æŠ¥æ–‡setStatus(200);// åœ¨å“åº”å¤´æ·»åŠ å±æ€§ï¼Œå¦‚è®¾ç½®å“åº”æŠ¥æ–‡å­—ç¬¦é›†setHeader(&quot;Content-type&quot;,&quot;text/html;charset=utf-8&quot;);// è·å–å­—ç¬¦æµï¼Œåœ¨å“åº”ä½“æ·»åŠ å†…å®¹getWriter();// è·å–å­—èŠ‚æµï¼Œåœ¨å“åº”ä½“æ·»åŠ å†…å®¹getOutputStream(); ä¼šè¯æŠ€æœ¯HTTPåè®®å­˜åœ¨æ— çŠ¶æ€æ€§ï¼Œå³æ‰€æœ‰å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æŠ¥æ–‡æ˜¯å®Œå…¨ç›¸åŒçš„ï¼ŒæœåŠ¡å™¨ä¸å¯èƒ½é€šè¿‡è¯·æ±‚æŠ¥æ–‡åŒºåˆ†å®¢æˆ·ç«¯ï¼Œä¹Ÿæ— æ³•ä¸ºæ¯ä¸ªç‹¬ç«‹çš„å®¢æˆ·ç«¯å¤„ç†æ•°æ®ã€‚è§£å†³HTTPæ— çŠ¶æ€æ€§çš„å³æ˜¯ä¼šè¯æŠ€æœ¯ã€‚ ä¼šè¯æŠ€æœ¯åˆ†ä¸ºå®¢æˆ·ç«¯æŠ€æœ¯å’ŒæœåŠ¡ç«¯æŠ€æœ¯ï¼Œå³Cookieå’ŒSessionã€‚ CookieCookieæ•°æ®äº§ç”ŸäºæœåŠ¡å™¨ï¼Œäº§ç”Ÿä¹‹åä¼šé€šè¿‡HTTPå“åº”æŠ¥æ–‡ä¼ è¾“ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ¥ä¿å­˜è¿™äº›æ•°æ®ï¼Œåœ¨å®¢æˆ·ç«¯å†æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œä¼šæŠŠè¿™äº›æ•°æ®é€šè¿‡HTTPè¯·æ±‚æŠ¥æ–‡å†æ¬¡æºå¸¦å›æ¥ï¼Œè¿™æ ·æœåŠ¡å™¨å°±äº†è§£è¯·æ±‚æ¥è‡ªäºå“ªä¸ªå®¢æˆ·ç«¯ã€‚Cookieçš„æœ¬è´¨å°±æ˜¯åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­åŠ å…¥äº†Cookieè¯·æ±‚å¤´ï¼Œåœ¨å“åº”æŠ¥æ–‡ä¸­åŠ å…¥äº†set-Cookieè¯·æ±‚å¤´ã€‚ Cookieçš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ 123456// æ„é€ å‡½æ•°ç”ŸæˆCookieCookie cookie = new Cookie(String name, String value);// responseä¸­æ·»åŠ Cookieresponse.addCookie(cookie);// requestä¸­è·å–CookieCookie[] cookies = request.getCookies(); Cookieå¯ä»¥è¿›è¡Œä¸€äº›è®¾ç½®ï¼Œè®¾ç½®æ–¹å¼å¦‚ä¸‹ 1234567// è®¾ç½®å­˜æ´»æ—¶é—´// è®¾ç½®æ­£æ•°è¡¨ç¤ºåœ¨ç¡¬ç›˜ä¸­å­˜æ´»å¤šä¹…ï¼›è´Ÿæ•°è¡¨ç¤ºå­˜åœ¨äºæµè§ˆå™¨çš„å†…å­˜ä¸­ï¼›0è¡¨ç¤ºåˆ é™¤Cookiecookie.setMaxAge(180);// è®¾ç½®è·¯å¾„ï¼Œä»…è®¿é—®æŒ‡å®šè·¯å¾„æ‰ä¼šæºå¸¦Cookiecookie.setPath(String path);// è®¾ç½®åŸŸåï¼Œè®¿é—®æŒ‡å®šåŸŸåæ‰ä¼šæºå¸¦Cookiecookie.setDomain(String addr); Cookieè½»ä¾¿ï¼Œå¯ä»¥è·¨å¤šä¸»æœºé—´æ•°æ®å…±äº«ï¼Œè€Œä¸”å› ä¸ºå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå‡è½»äº†æœåŠ¡å™¨çš„å‹åŠ›ï¼›ä½†æ˜¯Cookieåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹ï¼Œå¤§å°ä¹Ÿæœ‰é™åˆ¶ï¼Œè€Œä¸”Cookieçš„å®‰å…¨æ€§å­˜åœ¨é—®é¢˜ï¼Œåªèƒ½å­˜å‚¨ä¸€äº›ä¸æ•æ„Ÿçš„æ•°æ®ã€‚ Sessionå› ä¸ºæ•°æ®çš„äº§ç”Ÿä¸å­˜å‚¨å‡æ˜¯åœ¨æœåŠ¡å™¨å®Œæˆï¼Œæ‰€ä»¥æœåŠ¡å™¨å¯ä»¥åœ¨ç‰¹å®šåœºæ™¯ä¸‹ç»™å®¢æˆ·ç«¯å•ç‹¬å¼€è¾Ÿä¸€å—ç©ºé—´ï¼ˆå³å¯¹è±¡ï¼‰ï¼Œè¯¥å¯¹è±¡ä¸“é—¨åªä¸ºè¿™ä¸ªå®¢æˆ·ç«¯æœåŠ¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±è¢«ç§°ä¸ºSessionå¯¹è±¡ã€‚ Sessionçš„æœ¬è´¨æ˜¯æœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªSessionå¯¹è±¡ï¼Œå°†è¯¥å¯¹è±¡çš„ç¼–å·é€šè¿‡Cookieè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œåç»­å®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œéƒ½ä¼šæŠŠSessionçš„ç¼–å·æºå¸¦è¿‡æ¥ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„Sessionå¯¹è±¡ï¼Œå°±èƒ½åœ¨è¯¥å¯¹è±¡ä¸­è¿›è¡Œåªé’ˆå¯¹è¯¥å®¢æˆ·ç«¯çš„æ•°æ®çš„å­˜å–å’Œå¤„ç†ã€‚ Sessionçš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ 123456// è·å–Sessionå¯¹è±¡Session session = request.getSession();// Sessionä¸­å­˜å‚¨æ•°æ®session.setAttribute(String name,Object object);// Sessionä¸­è·å¾—æ•°æ®session.getAttribute(String name); è‡³æ­¤å¯ä»¥çŸ¥é“ï¼ŒæœåŠ¡å™¨å­˜åœ¨ä¸‰ä¸ªåŸŸï¼šContextåŸŸï¼ŒSessionåŸŸï¼ŒRequeståŸŸã€‚ ContextåŸŸæœ€å¤§ï¼Œä¸€ä¸ªæœåŠ¡å™¨åº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªï¼Œä¸»è¦ç”¨äºå­˜å‚¨ä¸€äº›å…¨å±€æ€§çš„æ•°æ®ï¼›SessionåŸŸå…¶æ¬¡ï¼Œä¸€ä¸ªå®¢æˆ·ç«¯å¯¹åº”ä¸€ä¸ªSessionå¯¹è±¡ï¼Œä¸€èˆ¬å­˜å‚¨å®¢æˆ·ç«¯ç‰¹æœ‰çš„æ•°æ®ï¼›RequeståŸŸæœ€å°ï¼Œä¸€ä¸ªServletè¯·æ±‚å¯¹åº”ä¸€ä¸ªRequestå¯¹è±¡ï¼Œä¸€èˆ¬å­˜å‚¨è®¿é—®é¢‘æ¬¡ä¸é«˜çš„æ•°æ®ã€‚ Sessionå¯¹è±¡ä¸ä¼šéšç€æµè§ˆå™¨å…³é—­è€Œé”€æ¯ï¼Œåªæ˜¯æ–°çš„æµè§ˆå™¨æ— æ³•è®¿é—®ä¹‹å‰æµè§ˆå™¨åˆ›å»ºçš„Sessionå¯¹è±¡ï¼›Sessionå¯¹è±¡ä¼šéšç€æœåŠ¡å™¨å…³é—­è€Œé”€æ¯ï¼Œä½†æ˜¯Sessionæ•°æ®å¹¶ä¸ä¼šè¢«é”€æ¯ï¼Œè€Œæ˜¯è¢«åºåˆ—åŒ–ä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œåªæœ‰åœ¨æœ‰æ•ˆæœŸåˆ°è¾¾ï¼Œæˆ–è€…æœåŠ¡å™¨ä¸»åŠ¨è°ƒç”¨invalidate()æ–¹æ³•ï¼Œæ‰ä¼šè¢«é”€æ¯ã€‚ ListenerListenerï¼Œå³ç›‘å¬å™¨ï¼Œæ˜¯EEä¸‰å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œä¸»è¦è´Ÿè´£ç›‘å¬å¯¹è±¡ã€‚å¸¸ç”¨çš„Listenerä¸ºservletContextListenerï¼Œç”¨äºç›‘å¬ServletContextå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ï¼Œä»¥æ›¿ä»£Servletä¸­çš„init()æ–¹æ³•å’Œdestory()æ–¹æ³•ã€‚ Listenerçš„å®ç°æ–¹å¼å¦‚ä¸‹ 123456789101112131415@WebListenerpublic class MyServletContextListener implements ServletContextListener &#123; @Override public void contextInitialized(ServletContextEvent servletContextEvent) &#123; System.out.println(&quot;å½“servletContextå¯¹è±¡è¢«åˆ›å»ºæ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•&quot;); ServletContext servletContext = servletContextEvent.getServletContext(); &#125; @Override public void contextDestroyed(ServletContextEvent servletContextEvent) &#123; System.out.println(&quot;å½“servletContextå¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•&quot;); &#125;&#125; FilterFilterï¼Œå³è¿‡æ»¤å™¨ï¼Œæ˜¯EEä¸‰å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œä¸»è¦è´Ÿè´£æƒé™éªŒè¯ï¼Œå¯¹è¯·æ±‚è¿›è¡Œæ”¾è¡Œæˆ–æ‹¦æˆªï¼Œå¯ä»¥åœ¨è¯·æ±‚åˆ°è¾¾å…³è”çš„Servletå‰ï¼Œæ£€æŸ¥ä¿®æ”¹Requestå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥åœ¨å“åº”è¿”å›åˆ°å®¢æˆ·ç«¯å‰ï¼Œæ£€æŸ¥ä¿®æ”¹Responseå¯¹è±¡ã€‚ Filterçš„å®ç°æ–¹å¼å¦‚ä¸‹ 123456789101112131415161718192021222324@WebFilter(&quot;/filter1&quot;)public class FirstFilter implements Filter &#123; //filterçš„åˆå§‹åŒ–é˜¶æ®µ //inité˜¶æ®µå’Œservletç•¥æœ‰ä¸åŒï¼›å½“åº”ç”¨çš„å¯åŠ¨ï¼Œinitæ–¹æ³•å°±ä¼šè¢«æ‰§è¡Œ @Override public void init(FilterConfig filterConfig) throws ServletException &#123; System.out.println(&quot;init&quot;); &#125; //ç±»ä¼¼äºservletçš„serviceæ–¹æ³•ï¼Œæ¯æ¬¡è®¿é—®filteræ—¶ï¼Œéƒ½ä¼šç»è¿‡è¯¥æ–¹æ³• @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; System.out.println(&quot;doFilter&quot;); //ä¸‹é¢è¿™è¡Œä»£ç å¯¹äºè¯·æ±‚çš„æ”¾è¡Œæ˜¯è‡³å…³é‡è¦çš„ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™æ‰§è¡Œçš„æ˜¯æ‹¦æˆªæ“ä½œï¼›å¦‚æœæœ‰ï¼Œåˆ™æ‰§è¡Œçš„æ˜¯æ”¾è¡Œæ“ä½œ filterChain.doFilter(servletRequest, servletResponse); &#125; //å½“åº”ç”¨å¸è½½ã€æœåŠ¡å™¨å…³é—­ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³• @Override public void destroy() &#123; System.out.println(&quot;destroy&quot;); &#125;&#125; Filterä¸Servletç”Ÿæˆå…³è”çš„æ–¹å¼æœ‰ Filterä¸Servletè®¾ç½®ç›¸åŒçš„url-pattern Filterè®¾ç½®&#x2F;*ï¼ˆå¸¸ç”¨ï¼‰ Filterä¸Filterä¹‹é—´å¯ä»¥ç”Ÿæˆå…³è”ï¼Œå…·ä½“æ–¹å¼ä¸ºè®¾ç½®ç›¸åŒçš„url-patternï¼ŒFilterçš„æ‰§è¡Œé¡ºåºç”±ç±»çš„é¦–å­—æ¯ASCIIé¡ºåºï¼ˆæ³¨è§£å£°æ˜ï¼‰æˆ–filter-mappingå£°æ˜çš„å…ˆåé¡ºåºï¼ˆweb.xmlå£°æ˜ï¼‰ã€‚ å®Œæ•´è¯·æ±‚å¤„ç†æµç¨‹ æµè§ˆå™¨è§£æåŸŸåï¼Œä¸æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ æµè§ˆå™¨å‘é€HTTPè¯·æ±‚æŠ¥æ–‡ï¼Œè¢«æœåŠ¡å™¨ä¸­çš„Connectoræ¥æ”¶ï¼ŒConnectorå°†å…¶è§£æä¸ºRequestå¯¹è±¡ï¼ŒåŒæ—¶æ–°å»ºä¸€ä¸ªResponseå¯¹è±¡ Connectorå¯¹è±¡å°†ä¸¤ä¸ªå¯¹è±¡ä¼ ç»™Engineeå¯¹è±¡ï¼ŒEngineeå¯¹è±¡è¿›ä¸€æ­¥ä¼ é€’ç»™Hostå¯¹è±¡ã€‚ HostæŒ‘é€‰ä¸€ä¸ªåˆé€‚çš„Contextå¯¹è±¡ï¼Œå†å°†ä¸¤ä¸ªå¯¹è±¡ä¼ è¾“ç»™Contextå¯¹è±¡ã€‚ Contextå¯¹è±¡æ ¹æ®è·¯å¾„æŸ¥æ‰¾æ˜¯å¦æœ‰åŒ¹é…çš„Filteréœ€è¦å¤„ç†è¯¥è¯·æ±‚ï¼Œå¦‚æœæœ‰åˆ™äº¤ç”±Filterå¤„ç†ï¼ŒFilterå¤„ç†å®Œæ¯•å†å°†è¯·æ±‚å‘é€ç»™å¯¹åº”çš„Servletï¼›å¦‚æœæ²¡æœ‰åˆ™ç›´æ¥å‘é€ç»™Servletã€‚ Servletæ¥æ”¶åˆ°è¯·æ±‚åæ‰§è¡Œserviceæ–¹æ³•ï¼Œæ‰§è¡Œå®Œæ¯•åï¼Œå¦‚æœå­˜åœ¨å¯¹åº”çš„Filterï¼Œåˆ™å°†å¤„ç†åçš„ä¸¤ä¸ªå¯¹è±¡è¿”å›ç»™Filterï¼ŒFilterå¤„ç†å®Œæ¯•åå†åŸè·¯è¿”å›ï¼›å¦‚æœæ²¡æœ‰åˆ™ç›´æ¥åŸè·¯è¿”å›ã€‚ æœ€åConnectorè·å¾—Responseå¯¹è±¡ï¼Œè¯»å–å…¶ä¸­çš„æ•°æ®åæŒ‰ç…§HTTPå“åº”æŠ¥æ–‡çš„æ ¼å¼è¦æ±‚ï¼Œç”Ÿæˆå“åº”æŠ¥æ–‡ï¼Œå‘é€ç»™å®¢æˆ·ç«¯ã€‚ å®¢æˆ·ç«¯æ¥æ”¶å“åº”æŠ¥æ–‡ï¼Œè§£æã€æ¸²æŸ“ï¼Œå½¢æˆé¡µé¢ã€‚ MVCMVCåˆ†åˆ«æ˜¯æ¨¡å‹å±‚(model)ï¼Œè§†å›¾å±‚(view)å’Œæ§åˆ¶å±‚(controller)ï¼Œå°†åº”ç”¨çš„ä»£ç æŒ‰ç…§MVCæ¨¡å¼åˆ†ç¦»ï¼Œä»¥è¾¾åˆ°è§£è€¦çš„ç›®çš„ã€‚ æ¨¡å‹å±‚ï¼šä¸»è¦å­˜æ”¾æ•°æ®çš„æ¨¡å‹å’Œå¯¹æ•°æ®çš„æ“ä½œã€‚ è§†å›¾å±‚ï¼šä¸»è¦ç”¨äºæ˜¾ç¤ºé¡µé¢æˆ–å°†æ•°æ®ç»“æœè¿”å›ç»™å‰ç«¯æ˜¾ç¤ºã€‚ æ§åˆ¶å±‚ï¼šç”¨äºæ¥æ”¶æ¥è‡ªæ¨¡å‹å±‚çš„æ•°æ®ï¼Œå¹¶å°†å¤„ç†åçš„æ•°æ®è¿”å›ç»™è§†å›¾å±‚ï¼Œèµ·åˆ°äº†è¿æ¥æ¨¡å‹å±‚å’Œè§†å›¾å±‚çš„ä½œç”¨ã€‚ MVCçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯åœ¨è¯·æ±‚åˆ°æ¥åï¼Œé¦–å…ˆäº¤ç»™æ§åˆ¶å±‚å¤„ç†ï¼Œæ§åˆ¶å±‚è°ƒç”¨æ¨¡å‹å±‚çš„ä»£ç å¤„ç†æ•°æ®ï¼Œè¿”å›çš„ç»“æœå†ç”±æ§åˆ¶å±‚äº¤ç»™è§†å›¾å±‚ã€‚ ä¸‰å±‚æ¶æ„æ˜¯MVCè®¾è®¡æ¨¡å¼çš„ä¸€ç§æ¼”è¿›ï¼Œå¯ä»¥å°†MVCè¿›ä¸€æ­¥æŠ½è±¡æˆä¸‰ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯å±•ç¤ºå±‚(viewã€controller)ã€ä¸šåŠ¡å±‚(service)å’Œæ•°æ®å±‚(Dao)ã€‚ ä¸ºäº†è¿›ä¸€æ­¥é™ä½ä»£ç çš„è€¦åˆæ€§ï¼Œå¯ä»¥å°†æ¨¡å‹å±‚ä¸­å¯¹æ•°æ®çš„æ“ä½œéƒ¨åˆ†æå–å‡ºæ¥ï¼Œå‘½åä¸ºdao(Data Access Object)ï¼Œè¯¥å±‚å¯ä»¥è®¾è®¡ä¸€ä¸ªæ¥å£ï¼Œå› ä¸ºå¯¹æ•°æ®æ“ä½œæ—¶ï¼Œå‚æ•°ç±»å‹å’Œè¿”å›å€¼éƒ½æ˜¯ä¸å˜çš„ï¼›è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è®¾è®¡ä¸åŒçš„å®ç°ç±»æ¥å®ç°æ¥å£ï¼Œä»è€Œå®Œæˆå¯¹æ•°æ®çš„ä¸åŒæ“ä½œã€‚ serviceå±‚åˆ™æ˜¯åœ¨controllerå’Œdaoä¹‹é—´çš„ä¸šåŠ¡å±‚ï¼Œä¸»è¦ä»»åŠ¡æ˜¯ä¿è¯ä¸šåŠ¡å¤„ç†çš„å®ç°æ–¹å¼çš„å¤šæ ·æ€§ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªä¸šåŠ¡å¤„ç†æ–¹å¼ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹controllerå±‚è¿›è¡Œåå¤ä¿®æ”¹ï¼Œè¿åäº†è®¾è®¡æ¨¡å¼çš„å¼€é—­åŸåˆ™ï¼ˆå¯¹æ–°å¢ä»£ç å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹ä»£ç å…³é—­ï¼‰ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªserviceå±‚æ¥ä¿è¯å¯ä»¥å­˜åœ¨å¤šä¸ªä¸šåŠ¡å¤„ç†æ–¹å¼ã€‚serviceå±‚ä¸daoå±‚ä¸€æ ·ï¼Œåªéœ€è¦è®¾è®¡ä¸€ä¸ªæ¥å£ä»¥ä¿è¯å‚æ•°ç±»å‹å’Œè¿”å›å€¼ä¸å˜ï¼Œä¹‹ååªéœ€è¦è®¾è®¡å®ç°ç±»å®ç°æ¥å£ï¼Œå¹¶åœ¨controllerå±‚çš„ç›¸åº”ä½ç½®è°ƒç”¨å³å¯ã€‚"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.05.24-2022.05.26ï¼‰","path":"2022/05/26/å­¦ä¹ æ€»ç»“ï¼ˆ2022-05-24-2022-05-26ï¼‰/","text":"RedisRedisæ˜¯ä¸€ä¸ªNoSQLæ•°æ®åº“ï¼Œå› ä¸ºå®ƒåŸºäºå†…å­˜å­˜å‚¨ï¼Œæœ‰å¾ˆé«˜çš„è¯»å–æ€§èƒ½ï¼Œä½†åŒæ—¶ä¹Ÿä¸èƒ½å­˜å‚¨å¤§é‡æ•°æ®ï¼Œæ— æ³•æœ‰SQLçš„å®¹é‡ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½œä¸ºSQLçš„ç¼“å­˜ä½¿ç”¨ã€‚ä½¿ç”¨æ–¹å¼æ˜¯ï¼šJavaåº”ç”¨é¦–å…ˆåœ¨Redisä¸­æŸ¥è¯¢æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰è·å¾—ç»“æœå†å»SQLä¸­æŸ¥è¯¢ã€‚ æ”¾åœ¨å†…å­˜ä¸­æ„å‘³ç€Redisçš„æ•°æ®å¹¶ä¸èƒ½ä¸€ç›´å‚¨å­˜ï¼Œä¸”éšç€æœºå™¨æ•…éšœæˆ–è€…é‡å¯æœ‰ä¸¢å¤±æ•°æ®çš„é£é™©ï¼Œæ‰€ä»¥Redisæœ‰å°†å†…å­˜ä¸­çš„æ•°æ®å­˜å‚¨è‡³ç¡¬ç›˜çš„åŠŸèƒ½ï¼Œè¿™ç§åŠŸèƒ½å«åšæŒä¹…åŒ–ã€‚ Redisçš„æŒä¹…åŒ–æœ‰ä¸¤ç§ï¼šRDBå’ŒAOFã€‚ RDBRDBï¼Œå³é€šè¿‡å¿«ç…§æŠ€æœ¯ï¼ˆä¿å­˜æŸä¸€æ—¶åˆ»å†…å­˜ä¸­æ•°æ®çš„çŠ¶æ€ï¼‰ä¿å­˜æ•°æ®çš„ä¸€ç§æŒä¹…åŒ–ç­–ç•¥ã€‚ç”±äºä¿å­˜çš„æ˜¯å†…å­˜çŠ¶æ€ï¼Œæ‰€ä»¥ä¿å­˜çš„æ–‡ä»¶æ˜¯æ¯”è¾ƒå°çš„ï¼Œä¸”æ˜¯ä¸å¯è¯»çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚RDBé»˜è®¤æ˜¯å¼€å¯çš„ RDBé»˜è®¤çš„ä¿å­˜ç­–ç•¥å¦‚ä¸‹ã€‚ 123456# æ¯900ç§’å†…keyå­˜åœ¨1æ¬¡å˜åŒ–ï¼Œè§¦å‘RDBsave 900 1 # æ¯300ç§’å†…keyå­˜åœ¨10æ¬¡å˜åŒ–ï¼Œè§¦å‘RDBsave 300 10# æ¯60ç§’å†…keyå­˜åœ¨10000æ¬¡å˜åŒ–ï¼Œè§¦å‘RDBsave 60 10000 ä½†æ˜¯RDBå¹¶ä¸æ˜¯å®Œå…¨çš„ç­–ç•¥ï¼Œå› ä¸ºåœ¨ä¸¤æ¬¡RDBè§¦å‘äº‹ä»¶é—´å‘ç”Ÿæ•°æ®ä¸¢å¤±åˆ™æ— æ³•æ¢å¤ï¼Œæ‰€ä»¥éœ€è¦å¦å¤–ä¸€ç§ç­–ç•¥å¡«è¡¥ã€‚ AOFAOFæ˜¯é€šè¿‡ä¸æ–­å¾€æ—¥å¿—æ–‡ä»¶ä¸­å†™å…¥Redisçš„å†™æ“ä½œç›¸å…³å‘½ä»¤ï¼Œé€šè¿‡å‘½ä»¤æ¢å¤æ•°æ®çš„ä¸€ç§æŒä¹…åŒ–ç­–ç•¥ã€‚ AOFé»˜è®¤çš„ä¿å­˜ç­–ç•¥å¦‚ä¸‹ã€‚AOFé»˜è®¤æ˜¯å…³é—­çš„ã€‚ 123456# alwaysï¼šåªè¦æ”¶åˆ°ä¸€æ¡å†™å‘½ä»¤ï¼Œå°±ä¿å­˜è‡³æ—¥å¿—appendfsync always# everysecï¼šæ¯ç§’ä¿å­˜ä¸€æ¬¡è‡³æ—¥å¿—appendfsync everysec# noï¼šä»ä¸ä¿å­˜appendfsync no AOFå’ŒRDBçš„åŒºåˆ«å¦‚ä¸‹ï¼š RDBæ¢å¤æ•°æ®çš„é€Ÿåº¦è¾ƒå¿«ï¼ŒAOFå› ä¸ºè¦è¯»å–æ—¥å¿—æ–‡ä»¶çš„å‘½ä»¤æ¥æ¢å¤æ•°æ®ï¼Œæ‰€ä»¥é€Ÿåº¦è¾ƒæ…¢ã€‚ RDBå­˜å‚¨çš„æ•°æ®æ–‡ä»¶è¾ƒå°ï¼Œè€ŒAOFå› ä¸ºä¼šä¸æ–­åœ¨æ—¥å¿—æ–‡ä»¶ä¸­å†™å…¥å‘½ä»¤ï¼Œæ—¥å¿—æ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§ã€‚ æ‰€ä»¥RDBé€‚åˆç”¨äºå®¹ç¾å¤‡ä»½ï¼ŒAOFé€‚åˆç”¨äºæ—¥å¸¸å¤‡ä»½ã€‚ æ•°æ®ç»“æ„Rediså¸¸ç”¨çš„æœ‰äº”ç§æ•°æ®ç»“æ„ï¼Œåˆ†åˆ«æ˜¯stringï¼Œhashï¼Œlistï¼Œsetï¼Œsortsetã€‚ stringï¼šå­˜å‚¨çš„æ˜¯ä¸€å¯¹é”®å€¼å¯¹ï¼Œä¸€èˆ¬ç”¨äºéœ€è¦è®¡æ•°çš„åœºæ™¯ï¼Œå¦‚ç”¨æˆ·çš„è®¿é—®æ¬¡æ•°ï¼Œæ–‡ç« è½¬å‘æ•°ç­‰ã€‚ å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ã€‚ 1234567891011121314# è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹set# è·å–ä¸€ä¸ªé”®å¯¹åº”çš„å€¼get# ç»™æ•´æ•°ç±»å‹çš„å€¼+1incr# ç»™æ•´æ•°ç±»å‹çš„å€¼åŠ æŒ‡å®šçš„å€¼incrby# è®¾ç½®å¤šä¸ªé”®å€¼å¯¹mset# è·å–å¤šä¸ªé”®çš„å€¼mget# è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´setex hashï¼šå­˜å‚¨çš„æ˜¯ä¸€ä¸ªäºŒç»´è¡¨ï¼Œé€‚åˆå­˜å‚¨å¯¹è±¡ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨äºå­˜å‚¨å•†å“ä¿¡æ¯ï¼Œç”¨æˆ·ä¿¡æ¯ç­‰ã€‚ å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ã€‚ 1234567891011121314# è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹hset# è·å–ä¸€ä¸ªfieldå¯¹åº”çš„å€¼hget# è®¾ç½®å¤šä¸ªé”®å€¼å¯¹hmset# è·å–å¤šä¸ªfieldå¯¹åº”çš„å€¼hmget# è·å–è¡¨ä¸­æ‰€æœ‰fieldå’Œvaluehgetall# è·å–è¡¨ä¸­æ‰€æœ‰fieldhkeys# è·å–è¡¨ä¸­æ‰€æœ‰valuehvals listï¼šæ˜¯ä¸€ä¸ªæœ‰åºï¼Œå¯é‡å¤çš„çº¿æ€§è¡¨ï¼Œå¯ä»¥ä»ä¸¤å¤´æ’å…¥å’Œåˆ é™¤ï¼Œä½†ä¸æ”¯æŒéšæœºæŸ¥æ‰¾ï¼Œä¸€èˆ¬ç”¨äºæ¶ˆæ¯é˜Ÿåˆ—ã€‚ å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ã€‚ 123456789101112131415161718# åˆ—è¡¨å·¦è¾¹æ¨å…¥å…ƒç´ lpush# åˆ—è¡¨å³è¾¹æ¨å…¥å…ƒç´ rpush# åˆ—è¡¨å·¦è¾¹å¼¹å‡ºå…ƒç´ lpop# åˆ—è¡¨å³è¾¹å¼¹å‡ºå…ƒç´ rpop# è®¡ç®—å…ƒç´ ä¸ªæ•°llen# è·å–æŒ‡å®šä¸‹æ ‡çš„å€¼ï¼Œæœ€å·¦è¾¹å…ƒç´ indexä¸º0lindex# æ’å…¥ä¸€ä¸ªå…ƒç´ linsert# æŸ¥è¯¢èŒƒå›´å†…å…ƒç´ lrange# åˆ é™¤æŒ‡å®šçš„å‰å‡ ä¸ªå…ƒç´ lrem setï¼šæ˜¯ä¸€ä¸ªæ— åºçš„é›†åˆï¼Œä½†ä¸å¯å­˜å‚¨é‡å¤çš„é”®å€¼å¯¹ã€‚å› ä¸ºRedisæ”¯æŒé€šè¿‡å¤šä¸ªsetæŸ¥è¯¢å®ƒä»¬çš„äº¤&#x2F;å¹¶&#x2F;å·®é›†ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨äºæŸ¥æ‰¾å…±åŒå¥½å‹ã€å‘ç°å…±åŒå…³æ³¨ç­‰ã€‚ å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ã€‚ 12345678910111213141516171819202122# æ·»åŠ å…ƒç´ sadd# æŸ¥è¯¢æ‰€æœ‰å…ƒç´ smembers# åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­sismember# æŸ¥è¯¢å…ƒç´ æ•°é‡scard# ç§»åŠ¨å…ƒç´ è‡³å¦ä¸€é›†åˆsmove# åˆ é™¤å…ƒç´ srem# éšæœºå–å‡ºä¸€ä¸ªå…ƒç´ å¹¶åˆ é™¤spop# éšæœºå–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œä¸åˆ é™¤srandmember# æ±‚é›†åˆäº¤é›†sinter# æ±‚é›†åˆå¹¶é›†sunion# æ±‚é›†åˆå·®é›†sdiff zsetï¼šæ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆï¼Œå¯ä»¥æ ¹æ®é›†åˆä¸­çš„scoreå¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œä¸€èˆ¬ç”¨äºç›´æ’­ç¤¼ç‰©æ’è¡Œæ¦œã€æ¸¸æˆç§¯åˆ†æ’è¡Œæ¦œç­‰ã€‚ å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ã€‚ 123456789101112131415161718192021222324# æ·»åŠ æˆå‘˜åŠåˆ†æ•°zadd# ç»Ÿè®¡æˆå‘˜ä¸ªæ•°zcard# ç»Ÿè®¡ä¸€ä¸ªåˆ†æ•°åŒºé—´å†…æˆå‘˜çš„æ•°é‡zcount# è·å–ä¸€ä¸ªæˆå‘˜çš„åˆ†æ•°zscore# ä¸ºæˆå‘˜å¢åŠ åˆ†æ•°zincrby# è·å–ä¸€ä¸ªæˆå‘˜çš„å‡åºæ’åzrank# è·å–ä¸€ä¸ªæˆå‘˜çš„é™åºæ’åzrevrank# æŸ¥æ‰¾æŒ‡å®šæ’ååŒºé—´çš„æˆå‘˜zrange# æŸ¥æ‰¾æŒ‡å®šæ’ååŒºé—´çš„æˆå‘˜ï¼Œå€’åºæ’åˆ—zrevrange# æŸ¥æ‰¾æŒ‡å®šåˆ†æ•°åŒºé—´çš„æˆå‘˜zrangebyscore# æŸ¥æ‰¾æŒ‡å®šåˆ†æ•°åŒºé—´çš„æˆå‘˜ï¼Œå€’åºæ’åˆ—zrevrangebyscore# åˆ é™¤æŒ‡å®šæˆå‘˜zrem å†…å­˜æ·˜æ±°ç­–ç•¥Redisæ˜¯å°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸Šçš„ï¼Œå¦‚æœå†…å­˜å·²æ»¡ï¼Œå°±éœ€è¦æ·˜æ±°ä¸€äº›ä¸éœ€è¦çš„æ•°æ®ï¼Œä»¥ä¿è¯ä¹‹åçš„æ•°æ®å†™å…¥æˆåŠŸã€‚Redisæœ‰å…«ç§å†…å­˜æ·˜æ±°ç­–ç•¥ã€‚ volatile-lruï¼šä»å·²ç»è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ä¸­ï¼Œé€‰æ‹©æœ€è¿‘ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„æ•°æ®æ·˜æ±°ã€‚ volatile-lfuï¼šä»å·²ç»è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ä¸­ï¼Œé€‰æ‹©ä¸€æ®µæ—¶é—´å†…ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„æ•°æ®æ·˜æ±°ã€‚ volatile-ttlï¼šä»å·²ç»è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ä¸­ï¼Œé€‰æ‹©æœ€è¿‘å°†è¦è¿‡æœŸçš„æ•°æ®æ·˜æ±°ã€‚ volatile-randomï¼šä»å·²ç»è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ä¸­ï¼Œéšæœºé€‰æ‹©æ•°æ®æ·˜æ±°ã€‚ allkeys-lruï¼šä»æ‰€æœ‰æ•°æ®é›†ä¸­ï¼Œé€‰æ‹©æœ€è¿‘ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„æ•°æ®æ·˜æ±°ã€‚ allkeys-lfuï¼šä»æ‰€æœ‰æ•°æ®é›†ä¸­ï¼Œé€‰æ‹©ä¸€æ®µæ—¶é—´å†…ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„æ•°æ®æ·˜æ±°ã€‚ allkeys-ttlï¼šä»æ‰€æœ‰æ•°æ®é›†ä¸­ï¼Œé€‰æ‹©æœ€è¿‘å°†è¦è¿‡æœŸçš„æ•°æ®æ·˜æ±°ã€‚ allkeys-randomï¼šä»æ‰€æœ‰æ•°æ®é›†ä¸­ï¼Œéšæœºé€‰æ‹©æ•°æ®æ·˜æ±°ã€‚ ç†è®ºä¸Švolatile-lruæ˜¯æœ€åˆç†çš„ï¼Œä½†ä¹Ÿæ˜¯æœ€æ…¢çš„ï¼Œè€Œallkeys-randomæ˜¯é€Ÿåº¦æœ€å¿«çš„ï¼Œæ‰€ä»¥åº”å¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼Œéœ€è¦é‡‡å–ä¸åŒçš„å†…å­˜æ·˜æ±°ç­–ç•¥ã€‚ Linuxå¸¸ç”¨å‘½ä»¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107# åŸºç¡€å‘½ä»¤# æŸ¥çœ‹å½“å‰è·¯å¾„pwd# è¿›å…¥æŒ‡å®šè·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„/ç»å¯¹è·¯å¾„ï¼‰# .: å½“å‰è·¯å¾„# ..: ä¸Šä¸€çº§è·¯å¾„cd# æ˜¾ç¤ºè·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶# -a: æ˜¾ç¤ºéšè—æ–‡ä»¶# -l: æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯ls# æ–‡ä»¶ä¸ç›®å½•ç®¡ç†# åˆ›å»ºæ–°çš„ç›®å½•æ–‡ä»¶mkdir# åˆ é™¤ç©ºç›®å½•æ–‡ä»¶rmdir# å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•# -r: è¡¨ç¤ºé€’å½’å¤åˆ¶# -f: è¡¨ç¤ºå¼ºåˆ¶cp# åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•# -r: è¡¨ç¤ºé€’å½’åˆ é™¤# -f: è¡¨ç¤ºå¼ºåˆ¶rm# ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•mv# åˆ›å»ºæ–‡ä»¶touch# æŸ¥çœ‹æ–‡ä»¶ä¸­çš„å†…å®¹cat# ä»¥åˆ†é¡µå½¢å¼æŸ¥çœ‹æ–‡ä»¶å†…å®¹less# æŸ¥çœ‹æ–‡ä»¶çš„å‰å‡ è¡Œhead# æŸ¥çœ‹æ–‡ä»¶çš„åå‡ è¡Œtail# é‡å®šå‘&gt;# è¿½åŠ &gt;&gt;# å‹ç¼©tar -zxvf# è§£å‹tar -zcvf# æ–‡æœ¬ç¼–è¾‘# å‘½ä»¤æ¨¡å¼# åˆ é™¤å…‰æ ‡æ‰€åœ¨å­—ç¬¦x# åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œdd# åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œç›´åˆ°æ–‡ä»¶æœ«å°¾dG# åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®ç›´åˆ°æ–‡ä»¶æœ«å°¾D# æ’å…¥æ¨¡å¼# åœ¨å…‰æ ‡æ‰€åœ¨ä½ç½®ç¼–è¾‘i# åœ¨å…‰æ ‡æ‰€åœ¨è¡Œæœ«å°¾ç¼–è¾‘A# ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œç¼–è¾‘o# ç§»åŠ¨åˆ°ä¸Šä¸€è¡Œç¼–è¾‘O# æœ«è¡Œæ¨¡å¼# é€€å‡ºq# ä¿å­˜w# å¼ºåˆ¶!# ç”¨æˆ·ç®¡ç†# æ·»åŠ ç”¨æˆ·useradd# åˆ é™¤ç”¨æˆ·userdel# ä¿®æ”¹ç”¨æˆ·usermod# æŸ¥çœ‹ç”¨æˆ·id# ç»„ç®¡ç†# æ·»åŠ ç»„groupadd# æƒé™ç®¡ç†# ä¿®æ”¹æƒé™chmod# è¿›ç¨‹ç®¡ç†# æŸ¥çœ‹çˆ¶è¿›ç¨‹idps -ef | grep# æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µpx aux | grep# ç»ˆæ­¢è¿›ç¨‹kill# ç½‘ç»œç®¡ç†# æŸ¥çœ‹ipifconfig# æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µnetstat -anp | grep# è½¯ä»¶å®‰è£…sudo apt install Gitå¸¸ç”¨å‘½ä»¤1234567891011121314151617181920# ä¸‹è½½è¿œç¨‹ä»“åº“ï¼Œå¹¶åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹git clone# æŸ¥çœ‹å·¥ä½œåŒºå’Œç¼“å†²åŒºå˜åŒ–git status# å°†å·¥ä½œåŒºçš„å˜åŒ–æäº¤åˆ°ç¼“å†²åŒºgit add# å°†ç¼“å†²åŒºçš„å˜åŒ–æäº¤åˆ°æœ¬åœ°ä»“åº“git commit# æŠŠæœ¬åœ°ä»“åº“çš„å˜åŒ–æ¨é€åˆ°è¿œç¨‹ä»“åº“git push# æ‹‰å–è¿œç¨‹ä»“åº“çš„å˜åŒ–åˆ°æœ¬åœ°ä»“åº“git pull# æŸ¥çœ‹ä»“åº“çš„æ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯git log# å°†å·¥ä½œåŒºçš„å˜åŒ–å›é€€git checkout# å°†ç¼“å†²åŒºçš„å˜åŒ–å›é€€åˆ°å·¥ä½œåŒºgit reset# å°†æœ¬åœ°ä»“åº“å›é€€è‡³å†å²ç‰ˆæœ¬git reset --hard Gitå¤„ç†å†²çªå¦‚æœpushæ—¶å‘ç°æœ¬åœ°ä»“åº“ç‰ˆæœ¬ä½äºè¿œç¨‹ä»“åº“ç‰ˆæœ¬ï¼Œä¼špushå¤±è´¥ï¼Œåªæœ‰ä½¿ç”¨pullå°†æœ¬åœ°ä»“åº“ç‰ˆæœ¬æ›´æ–°ï¼Œæ‰èƒ½ç»§ç»­ä¿®æ”¹ã€‚ ä¿®æ”¹åæ¨é€åˆ°æœ¬åœ°ä»“åº“æ—¶ï¼Œå¦‚æœä¿®æ”¹çš„æ˜¯åŒä¸€ä¸ªæ–‡ä»¶å’ŒåŒä¸€ä¸ªå†…å®¹ï¼Œä¼šæç¤ºäº§ç”Ÿå†²çªï¼Œéœ€è¦äººä¸ºå¤„ç†ï¼›å¦‚æœä¸æ˜¯åŒä¸€æ–‡ä»¶æˆ–ä¸æ˜¯åŒä¸€å†…å®¹ï¼Œåˆ™ä¸ä¼šæç¤ºã€‚ ç”±ä¸Šå¯çŸ¥ï¼Œä½¿ç”¨gitæ—¶åº”è¯¥æ³¨æ„å°½é‡ä¸è¦å¼€å‘åŒä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ç„¶å®¹æ˜“äº§ç”Ÿå†²çªï¼›ä¸”pushå‰æœ€å¥½pullä¸€ä¸‹ï¼Œé˜²æ­¢pushå¤±è´¥ã€‚ Gitå¿½ç•¥æ–‡ä»¶gitå¯ä»¥åœ¨pushæ—¶å¿½ç•¥ä¸€äº›æ–‡ä»¶ï¼Œä¸å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚ä½¿ç”¨æ–¹å¼æ˜¯å°†è¿™äº›æ–‡ä»¶æ”¾åœ¨.gitignoreæ–‡ä»¶å¤¹ä¸‹ã€‚"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.05.17-2022.05.23ï¼‰","path":"2022/05/23/å­¦ä¹ æ€»ç»“ï¼ˆ2022-05-17-2022-05-23ï¼‰/","text":"ç´¢å¼•ç´¢å¼•æ˜¯ä¸€ç§å¸®åŠ©æé«˜æŸ¥è¯¢é€Ÿåº¦çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æé«˜MySQLçš„æŸ¥è¯¢è¯­å¥çš„æ•ˆç‡ã€‚ ç´¢å¼•çš„æ•°æ®ç»“æ„çš„é€‰æ‹©æœ‰ä¸¤ä¸ªæŒ‡æ ‡ï¼šå•å€¼æŸ¥è¯¢å’ŒèŒƒå›´æŸ¥è¯¢ã€‚å„ä¸ªæ•°æ®ç»“æ„çš„æŸ¥è¯¢æ•ˆç‡å¦‚ä¸‹ï¼š æ•°ç»„ï¼šå•å€¼æŸ¥è¯¢æ…¢ï¼ŒèŒƒå›´æŸ¥è¯¢æ…¢ã€‚ é“¾è¡¨ï¼šå•å€¼æŸ¥è¯¢æ…¢ï¼ŒèŒƒå›´æŸ¥è¯¢æ…¢ã€‚ äºŒå‰æ ‘ï¼šå•å€¼æŸ¥è¯¢è¾ƒæ…¢ï¼ŒèŒƒå›´æŸ¥è¯¢æ…¢ã€‚ Bæ ‘ï¼šå•å€¼æŸ¥è¯¢è¾ƒå¿«ï¼ŒèŒƒå›´æŸ¥è¯¢æ…¢ã€‚ B+æ ‘ï¼šå•å€¼æŸ¥è¯¢è¾ƒå¿«ï¼ŒèŒƒå›´æŸ¥è¯¢è¾ƒå¿«ï¼ˆMySQLå®˜æ–¹æ¨èæ•°æ®ç»“æ„ï¼‰ Hashè¡¨ï¼šå•å€¼æŸ¥è¯¢å¿«ï¼ŒèŒƒå›´æŸ¥è¯¢æ…¢ï¼ˆMySQLå†…éƒ¨ä½¿ç”¨ï¼Œä¸å¼€æ”¾ç»™ç”¨æˆ·ï¼‰ B+æ ‘æ˜¯å¯¹Bæ ‘çš„ä¸€ç§ä¼˜åŒ–ã€‚å¶å­èŠ‚ç‚¹ä¹‹é—´ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆï¼Œæ–¹ä¾¿äº†èŒƒå›´æŸ¥æ‰¾ï¼›æ‰€æœ‰éå¶å­èŠ‚ç‚¹ä¼šåœ¨å¶å­èŠ‚ç‚¹ä¸­å†—ä½™ä¸€ä»½ï¼Œå¹¶ä¸”è‡ªèº«ä¸å†å­˜å‚¨æ•°æ®ï¼Œè€Œåªå­˜å‚¨keyå€¼ï¼Œè¿™æ ·å°±é™ä½äº†æ ‘çš„é«˜åº¦ã€‚ ä¸ºä»€ä¹ˆè¦é™ä½æ ‘çš„é«˜åº¦ï¼Ÿå› ä¸ºæ•°æ®åº“è¯»å–æ•°æ®æ—¶æ˜¯æŒ‰æ ‘çš„å±‚åºè¯»å–ï¼Œè€Œæ¯ä¸€æ¬¡è¯»å–éƒ½è¦ç»å†ä¸€æ¬¡ç£ç›˜IOï¼Œæ‰€ä»¥æ ‘çš„é«˜åº¦è¶Šä½ï¼Œç£ç›˜IOçš„æ¬¡æ•°è¶Šå°‘ï¼Œæ•ˆç‡è¶Šé«˜ã€‚ ä¸ºä»€ä¹ˆMySQLä½¿ç”¨ä¸»é”®è‡ªå¢ç­–ç•¥ï¼Ÿå› ä¸ºæ— åºçš„æ’å…¥ç´¢å¼•ä¼šå¯¼è‡´æ ‘çš„ç»“æ„å‘ç”Ÿè¾ƒå¤šè¾ƒå¤§çš„å˜åŒ–ï¼Œè€Œæ”¹å˜ç»“æ„æ˜¯è¦æ¶ˆè€—æ—¶é—´çš„ã€‚åœ¨ä¸»é”®è‡ªå¢çš„ç­–ç•¥ä¸‹ï¼Œæ¯æ¬¡æ–°å»ºçš„æ•°æ®çš„ä¸»é”®ç´¢å¼•å°±æ°¸è¿œæ’å…¥åˆ°ç´¢å¼•æ ‘çš„å³ä¾§ï¼Œè¿™æ ·å°±èƒ½ä¿è¯æ ‘çš„ç»“æ„ä¸ä¼šå‘ç”Ÿè¾ƒå¤§çš„æ”¹å˜ã€‚ ç´¢å¼•æ˜¯ä¸æ˜¯å£°æ˜çš„è¶Šå¤šè¶Šå¥½ï¼Ÿé¦–å…ˆï¼Œå£°æ˜ç´¢å¼•éœ€è¦å»ºç«‹ç´¢å¼•æ ‘ï¼Œéœ€è¦å ç”¨ç©ºé—´ï¼›å…¶æ¬¡ï¼Œæ¯æ¬¡å¯¹æ•°æ®çš„å¢åˆ æ”¹éƒ½ä¼šå½±å“ç´¢å¼•æ ‘çš„ç»“æ„ï¼Œå¦‚æœç´¢å¼•æ ‘å¤ªå¤šåŠ¿å¿…ä¼šå¯¼è‡´ç»´æŠ¤è¿™äº›ç´¢å¼•æ ‘çš„ä»£ä»·æå‡ã€‚æ‰€ä»¥ç´¢å¼•å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ã€‚ æ•°æ®åº“çš„ç»„æˆç»“æ„è¿æ¥å™¨ï¼šæ ¡éªŒç”¨æˆ·åå’Œå¯†ç ï¼Œå’Œå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ã€‚ åˆ†æå™¨ï¼šè¿›è¡Œè¯­æ³•åˆ†æï¼Œç¼–è¯‘SQLè¯­å¥ã€‚ ä¼˜åŒ–å™¨ï¼šä¼˜åŒ–SQLè¯­å¥çš„æ€§èƒ½ï¼Œä¸»è¦æ“ä½œä¸º é€‰æ‹©å“ªä¸ªç´¢å¼•è¿›è¡ŒæŸ¥è¯¢ã€‚ å¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œé€‰æ‹©è¡¨è¿æ¥çš„é¡ºåºã€‚ æ‰§è¡Œå™¨ï¼šæ‰§è¡ŒSQLè¯­å¥ç¼–è¯‘åçš„æŒ‡ä»¤ã€‚ å­˜å‚¨å¼•æ“ï¼šå­˜å‚¨æ•°æ®ã€‚ å­˜å‚¨å¼•æ“ç›®å‰MySQLä½¿ç”¨çš„å¼•æ“æœ‰MyISAMå’ŒInnoDBã€‚ MyISAMï¼šMyISAMæœ‰ä¸‰ç§æ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯è¡¨ç»“æ„å®šä¹‰æ–‡ä»¶ã€æ•°æ®æ–‡ä»¶å’Œç´¢å¼•æ–‡ä»¶ã€‚å› ä¸ºå®ƒçš„æ•°æ®å’Œç´¢å¼•æ˜¯åˆ†å¼€å­˜å‚¨çš„ï¼Œæ‰€ä»¥MyISAMçš„ç´¢å¼•å«éèšé›†ç´¢å¼•ã€‚ç´¢å¼•åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šä¸»é”®ç´¢å¼•å’Œéä¸»é”®ç´¢å¼•ï¼Œæ ¹æ®ç´¢å¼•æ ‘æ˜¯å¦æ˜¯ç”±ä¸»é”®ç”Ÿæˆæ¥åŒºåˆ†ã€‚åœ¨MyISAMä¸­ï¼š ä¸»é”®ç´¢å¼•çš„keyå€¼ä¸ºä¸»é”®å€¼ï¼Œdataä¸ºæ•°æ®å¯¹åº”çš„åœ°å€å€¼ã€‚ éä¸»é”®ç´¢å¼•çš„keyå€¼ä¸ºæŒ‡å®šçš„é˜Ÿåˆ—å€¼ï¼Œdataä¹Ÿä¸ºæ•°æ®å¯¹åº”çš„åœ°å€å€¼ã€‚ InnoDBï¼šInnoDBæœ‰ä¸¤ç§æ–‡ä»¶ã€‚åˆ†åˆ«æ˜¯è¡¨ç»“æ„å®šä¹‰æ–‡ä»¶ã€æ•°æ®&#x2F;ç´¢å¼•æ–‡ä»¶ã€‚å› ä¸ºå®ƒçš„æ•°æ®å’Œç´¢å¼•æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥InnoDBçš„ç´¢å¼•å«èšé›†ç´¢å¼•ã€‚åœ¨InnoDBä¸­ï¼š ä¸»é”®ç´¢å¼•çš„keyå€¼ä¸ºä¸»é”®å€¼ï¼Œdataä¸ºä¸»é”®å¯¹åº”çš„æ•°æ®ã€‚ä¸åŒäºMyISAMå­˜å‚¨çš„æ˜¯æ•°æ®çš„åœ°å€ï¼Œå› ä¸ºInnoDBå­˜å‚¨çš„æ˜¯æ•°æ®æœ¬èº«ï¼Œè¿™å°±è¦æ±‚InnoDBå¿…é¡»æœ‰ä¸€åˆ—ä¸»é”®ï¼Œå¦åˆ™å°±æ— æ³•æ„å»ºç´¢å¼•æ ‘ã€‚å¦‚æœç”¨æˆ·å»ºè¡¨æ—¶ä¸å£°æ˜ä¸»é”®ï¼Œé‚£ä¹ˆInnoDBä¼šç»´æŠ¤ä¸€ä¸ªéšè—åˆ—ä½œä¸ºä¸»é”®ã€‚MySQLæ¨èè‡ªå®šä¹‰ä¸»é”®çš„åŸå› å°±æ˜¯å¦‚æœæˆ‘ä»¬ä¸å£°æ˜ä¸»é”®ï¼Œæˆ‘ä»¬ä¹Ÿæ— æ³•é€šè¿‡éšè—çš„ç´¢å¼•åˆ—æ¥è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿™å°±æµªè´¹äº†ä¸»é”®ç´¢å¼•çš„æ€§èƒ½ã€‚ éä¸»é”®ç´¢å¼•çš„keyå€¼ä¸ºæŒ‡å®šçš„é˜Ÿåˆ—å€¼ï¼Œdataä¸ºæ•°æ®å¯¹åº”çš„ä¸»é”®å€¼ã€‚ MyISAMä¸InnoDBçš„åŒºåˆ«ï¼š InnoDBæ”¯æŒäº‹åŠ¡ï¼ŒMyISAMä¸æ”¯æŒäº‹åŠ¡ã€‚ InnoDBæ”¯æŒå¤–é”®ï¼ŒMyISAMä¸æ”¯æŒå¤–é”®ã€‚ InnoDBæ”¯æŒè¡¨é”å’Œè¡Œé”ï¼ŒMyISAMåªæ”¯æŒè¡¨é”ã€‚ é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨MyISAMï¼Ÿå› ä¸ºMyISAMä¸æ”¯æŒäº‹åŠ¡ï¼Œä¸”åªæ”¯æŒè¡¨é”ï¼Œä¼šå¯¼è‡´å¢åˆ æ”¹æŸ¥çš„æ•ˆç‡ä¸‹é™ï¼Œå¹¶æœ‰å‘ç”Ÿéš”ç¦»é—®é¢˜çš„å¯èƒ½ï¼Œæ‰€ä»¥ä¸€èˆ¬å­˜å‚¨ä¸éœ€è¦æ›´æ”¹çš„æ•°æ®ï¼Œæ¯”å¦‚å†å²æ•°æ®ã€‚ ç´¢å¼•è¯­æ³•1234567891011121314151617-- æŸ¥è¯¢ç´¢å¼•show index from tableName;-- å»ºç«‹ç´¢å¼•create table tableName( id int PRIMARY KEY, index idx_name(name) using BTREE)ENGINE=InnoDB character set utf8;-- æŸ¥çœ‹ç´¢å¼•show index from tableName;-- åˆ é™¤ç´¢å¼•alter table tableName drop index idx_name;-- æ·»åŠ ç´¢å¼•alter table tableName add index idx_name; å›è¡¨å›è¡¨æ˜¯æŒ‡åœ¨ä¸€æ¬¡æŸ¥è¯¢ä¸­ï¼Œéœ€è¦æ ¹æ®éä¸»é”®ç´¢å¼•æŸ¥è¯¢å‡ºä¸»é”®å€¼ï¼Œå†æ ¹æ®ä¸»é”®å€¼åœ¨ä¸»é”®ç´¢å¼•ä¸­æ‰¾åˆ°æ•°æ®ï¼Œè¿™æ ·å°±æŸ¥è¯¢äº†ä¸¤æ¡ç´¢å¼•æ ‘ï¼Œå¯¼è‡´æŸ¥è¯¢çš„æ•ˆç‡å˜ä½äº†ã€‚ å¦‚ä½•é¿å…å›è¡¨ï¼Ÿä¸»è¦çš„æ–¹å¼æœ‰ï¼š å°½é‡ä½¿ç”¨ä¸»é”®æŸ¥è¯¢ã€‚å› ä¸ºåªæœ‰ä½¿ç”¨éä¸»é”®ç´¢å¼•æ‰ä¼šå‘ç”Ÿå›è¡¨ã€‚ å°½é‡é¿å…ä½¿ç”¨select * fromã€‚å› ä¸ºå¦‚æœå‡†ç¡®åˆ—å‡ºåˆ—åï¼Œä¸”åˆ—åä¸­åŒ…å«éä¸»é”®ç´¢å¼•ï¼Œé‚£ä¹ˆè¯¥åˆ—çš„å€¼ä¼šç›´æ¥ä½¿ç”¨éä¸»é”®ç´¢å¼•ä¸­çš„å€¼ï¼Œè€Œéå»ä½¿ç”¨è·å¾—ä¸»é”®ï¼Œå¹¶åœ¨ä¸»é”®ç´¢å¼•æ ‘æŸ¥è¯¢å¾—åˆ°çš„å€¼ã€‚ å¯ä»¥è€ƒè™‘ä½¿ç”¨è”åˆç´¢å¼•ã€‚è¿™æ ·å¯ä»¥é™ä½éä¸»é”®ç´¢å¼•æ ‘çš„é«˜åº¦ï¼Œèƒ½æ›´å¿«çš„æŸ¥åˆ°ä¸»é”®å€¼ã€‚ MavenMavenæ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç¼–è¯‘é¡¹ç›®ã€å°†é¡¹ç›®æ‰“åŒ…ä¸ºjaråŒ…ã€ä¾èµ–ç®¡ç†ã€‚ Mavenæœ‰ä»¥ä¸‹æŒ‡ä»¤ï¼š cleanï¼šåˆ é™¤ç¼–è¯‘å¥½çš„é¡¹ç›®æ–‡ä»¶å¤¹targetã€‚ validateï¼šéªŒè¯é¡¹ç›®ä¸­æ–‡ä»¶çš„åˆæ³•æ€§å’Œæƒé™ã€‚ compileï¼šç¼–è¯‘é¡¹ç›®ï¼Œç”Ÿæˆtargetæ–‡ä»¶å¤¹ã€‚ testï¼šå¯ä»¥è¿è¡ŒteståŒ…ä¸‹çš„æ‰€æœ‰æµ‹è¯•æ–¹æ³•ã€‚ packageï¼šå°†é¡¹ç›®æ‰“åŒ…æˆ.jaræˆ–.warã€‚ verifyï¼šéªŒè¯æ‰“åŒ…æ˜¯å¦æœ‰æ•ˆä¸”åˆæ³•ã€‚ installï¼šå¯ä»¥å°†æ‰“åŒ…ç”Ÿæˆçš„jaråŒ…å¤åˆ¶åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚ siteï¼šå»ºç«‹è¿œç¨‹ç«™ç‚¹ã€‚ deployï¼šæŠŠæœ¬åœ°ä»“åº“ä¼ è¾“åˆ°è¿œç«¯éƒ¨ç½²ã€‚ ä¾èµ–ç®¡ç†scopeä½œç”¨åŸŸï¼šåœ¨å¯¼å…¥ä¾èµ–æ—¶ï¼Œå¯ä»¥å¯¹ä¾èµ–æ‰€å½±å“çš„ä½œç”¨åŸŸè¿›è¡Œé™åˆ¶ï¼Œä½¿ç”¨æ ‡ç­¾å³å¯ã€‚ ä½œç”¨åŸŸæœ‰ä»¥ä¸‹å‡ ç§ï¼š testï¼šä»…åœ¨teståŒ…ä¸‹æœ‰æ•ˆï¼Œåœ¨mainåŒ…ä¸‹æ— æ•ˆã€‚ provideï¼šåœ¨ç¼–è¯‘æ—¶ç”Ÿæ•ˆï¼Œåœ¨è¿è¡Œæ—¶å¤±æ•ˆã€‚ä¸»è¦ç”¨äºå¯¹ä¾èµ–çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œå¦‚å¯¹æ—§ä¾èµ–ä½¿ç”¨provideä½œç”¨åŸŸã€‚ runtimeï¼šåœ¨ç¼–è¯‘æ—¶å¤±æ•ˆï¼Œåœ¨è¿è¡Œæ—¶ç”Ÿæ•ˆã€‚ä¸»è¦ç”¨äºé¢å‘æ¥å£ç¼–ç¨‹æ—¶å¯¹ç¼–ç¨‹çš„è§„èŒƒï¼Œå¦‚JDBCï¼Œåœ¨ä½¿ç”¨JDBCçš„æ–¹æ³•æ—¶ï¼Œç”±äºç¼–è¯‘æ—¶ä½¿ç”¨çš„æ˜¯javaè‡ªå¸¦çš„æ¥å£ï¼Œè¿è¡Œæ—¶æ‰ä½¿ç”¨å¯¼å…¥çš„é©±åŠ¨åŒ…ä¸­çš„å®ç°ç±»ï¼Œæ‰€ä»¥æ­¤æ—¶ç¼–è¯‘å¹¶ä¸ä¼šæŠ¥é”™ï¼Œä¸”å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ compileï¼šé»˜è®¤ä½œç”¨åŸŸï¼Œä½œç”¨äºå…¨å±€ã€‚ ä¾èµ–ä¼ é€’ï¼šä¾èµ–å…·æœ‰ä¼ é€’æ€§ã€‚å¦‚Aä¾èµ–å¼•å…¥äº†Bä¾èµ–ï¼ŒBä¾èµ–å¼•å…¥äº†Cä¾èµ–ï¼Œé‚£ä¹ˆAä¾èµ–å°±ä¸€å®šä¹Ÿä¼šå¼•å…¥Cä¾èµ–ã€‚ ä¾èµ–å†²çªï¼šåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œå¯¼å…¥åŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬ï¼Œå°±ä¼šå‘ç”Ÿå†²çªã€‚å†²çªçš„è§£å†³æ–¹æ³•æœ‰ï¼š å£°æ˜ä¼˜å…ˆåŸåˆ™ï¼šæŒ‡åŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬ä¸­ï¼Œè°å…ˆåœ¨pom.xmlå£°æ˜ï¼Œå°±ä¼˜å…ˆä½¿ç”¨è°ã€‚ å°±è¿‘åŸåˆ™ï¼šæŒ‡åœ¨ä¾èµ–ä¼ é€’æ—¶ï¼Œè°ä¼ é€’çš„æ¬¡æ•°æ¯”è¾ƒå°‘ï¼Œå°±ä¼˜å…ˆä½¿ç”¨è°ã€‚å°±è¿‘åŸåˆ™çš„ä¼˜å…ˆçº§é«˜äºå£°æ˜ä¼˜å…ˆåŸåˆ™ã€‚ æ‰‹åŠ¨æ’é™¤ã€‚ æå–å¸¸é‡ã€‚åœ¨pom.xmlé¡¶éƒ¨äº‹å…ˆæå–ä¾èµ–ç‰ˆæœ¬ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ä¾èµ–å†²çªã€‚ 1234567891011121314151617&lt;properties&gt; &lt;!-- 1. æå–äº†å¸¸é‡ä¹‹åï¼Œå¯ä»¥é¿å…ä¾èµ–å†²çªçš„é—®é¢˜ 2. æå–äº†å¸¸é‡ä¹‹åï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬åæœŸç®¡ç†è¿™äº›ä¾èµ–ï¼ˆæŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ›´æ¢ç‰ˆæœ¬ï¼‰ --&gt; &lt;spring.version&gt;5.3.3&lt;/spring.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; æ¸…ç†Mavenåœ¨æœ¬åœ°ä»“åº“ä¸‹å¯»æ‰¾å«æœ‰lastupdatedå’Œpartå…³é”®å­—çš„æ–‡ä»¶ï¼Œåˆ é™¤ä¹‹ã€‚ JunitJunitæ˜¯ä¸€ç§æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥è¿è¡ŒæŒ‡å®šçš„æ–¹æ³•ã€‚ Junitæœ‰ä»¥ä¸‹äº”ç§æ³¨è§£ï¼š @Testï¼šå•å…ƒæµ‹è¯•ã€‚ä¿®é¥°çš„æ–¹æ³•å¿…é¡»æ˜¯public voidï¼Œå¿…é¡»æ²¡æœ‰å‚æ•°ã€‚ @Afterï¼šåœ¨æµ‹è¯•æ‰§è¡Œåæ‰§è¡Œã€‚ @Beforeï¼šåœ¨æµ‹è¯•æ‰§è¡Œå‰æ‰§è¡Œã€‚ @AfterClassï¼šåœ¨æµ‹è¯•ç±»ç±»åŠ è½½å‰æ‰§è¡Œã€‚ @BeforeClassï¼šåœ¨æµ‹è¯•ç±»ä¸­çš„å…¨éƒ¨æ–¹æ³•æ‰§è¡Œå®Œæ¯•åæ‰§è¡Œã€‚ å…¶ä¸­ï¼Œ@AfterClassã€@BeforeClasså¿…é¡»ä¿®é¥°é™æ€æ–¹æ³•ã€‚ æµ‹è¯•ç±»å¿…é¡»æ”¾åœ¨teståŒ…ä¸‹ã€‚ æµ‹è¯•ç±»ä¸€èˆ¬å‘½åä¸ºXxxTestï¼Œæµ‹è¯•æ–¹æ³•ä¸€èˆ¬å‘½åä¸ºtestXxxã€‚ MybatisMybatisæ˜¯ä¸€ç§ORMæ¡†æ¶ã€‚ORMæ„ä¸ºå¯¹è±¡å…³ç³»æ˜ å°„ï¼Œå³æ˜¯å°†SQLä¸­çš„æ•°æ®è½¬åŒ–ä¸ºJavaå¯¹è±¡ï¼Œæˆ–æ˜¯å°†Javaå¯¹è±¡è½¬åŒ–ä¸ºSQLè®°å½•ã€‚Mybatiså¯ä»¥å¸®æˆ‘ä»¬åœ¨Javaä¸­æ›´é«˜æ•ˆçš„æ“ä½œæ•°æ®åº“ã€‚ Mybatiséœ€è¦ä¸€ä¸ªä¸»é…ç½®æ–‡ä»¶ï¼Œç”¨äºè·å–SqlSessionFactoryã€‚SqlSessionFactoryæ—¶ä¸€ä¸ªå·¥å‚ï¼Œç”¨äºç”Ÿäº§SqlSessionå®ä¾‹å¯¹è±¡ã€‚SqlSessionæ˜¯ä¸€ç§Mybatisæ¡†æ¶ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œé‡Œé¢å°è£…äº†Connectionå¯¹è±¡ã€‚ é…ç½®æ–‡ä»¶æ ·ä¾‹å¦‚ä¸‹ã€‚ 123456789101112131415161718192021222324252627&lt;configuration&gt; &lt;settings&gt; &lt;!-- æ·»åŠ æ—¥å¿—çš„é…ç½® --&gt; &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt; &lt;/settings&gt; &lt;!-- ç¯å¢ƒçš„é…ç½®ï¼Œå…¶å®å°±æ˜¯å»é…ç½®æ•°æ®åº“è¿æ¥--&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot;/&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/40th?useSSL=false&amp;amp;characterEncoding=utf8&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;123456&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;mappers&gt; &lt;!--&lt;mapper resource=&quot;org/mybatis/example/BlogMapper.xml&quot;/&gt;--&gt; &lt;/mappers&gt;&lt;/configuration&gt; å…¶ä¸­æ ‡ç­¾ç”¨äºæ”¾ç½®SQLè¯­å¥çš„é…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬å‘½åä¸ºXxxMapper.xmlï¼Œå¹¶æ”¾ç½®äºMavené¡¹ç›®ä¸­çš„src&#x2F;main&#x2F;resourcesæ–‡ä»¶ä¸‹ï¼Œä¸”è¦ä¸src&#x2F;main&#x2F;javaä¸­çš„Mapperæ¥å£åœ¨ç›¸åŒçš„è·¯å¾„ä¸‹ã€‚ Mapperé…ç½®æ–‡ä»¶æ ·ä¾‹å¦‚ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829303132&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;!-- mapper.xml æ˜ å°„æ–‡ä»¶ä¸­çš„æ ‡ç­¾æ²¡æœ‰é¡ºåºè¦æ±‚ --&gt;&lt;!-- namespace: å‘½åç©ºé—´ï¼Œéœ€è¦å”¯ä¸€ --&gt;&lt;mapper namespace=&quot;cskaoyan&quot;&gt; &lt;!--&lt;insert id=&quot;&quot;--&gt; &lt;!--&lt;delete id=&quot;&quot;--&gt; &lt;!--&lt;update id=&quot;&quot;--&gt; &lt;!--&lt;select id=&quot;&quot;/&gt;--&gt; &lt;!-- åç»­å¦‚ä½•æ‰¾åˆ°è¿™ä¸ªæ ‡ç­¾ä¸­çš„SQLè¯­å¥å‘¢ï¼Ÿ namespace.id = è¿™ä¸ªSQLè¯­å¥çš„åæ ‡ id: æŒ‡è¿™ä¸ªSQLè¯­å¥çš„ä½ç½®ï¼Œæ¯ä¸€ä¸ªæ ‡ç­¾çš„idä¸èƒ½é‡å¤ resultTypeï¼šç»“æœçš„ç±»å‹ --&gt; &lt;select id=&quot;selectAccountById&quot; resultType=&quot;com.cskaoyan.bean.Account&quot;&gt; select * from account where id = #&#123;id&#125; &lt;/select&gt; &lt;select id=&quot;selectAccountList&quot; resultType=&quot;com.cskaoyan.bean.Account&quot;&gt; select * from account &lt;/select&gt;&lt;/mapper&gt; Mybatisçš„åŠ¨æ€ä»£ç†åŠŸèƒ½å¯ä»¥æ ¹æ®Mapperé…ç½®æ–‡ä»¶å’Œç”±ç”¨æˆ·åˆ¶å®šçš„Mapperæ¥å£ï¼Œè‡ªåŠ¨ç”Ÿæˆæ¥å£çš„ä»£ç†å¯¹è±¡ï¼Œä½†æ˜¯å¯¹Mapperæ¥å£æœ‰å¦‚ä¸‹è¦æ±‚ï¼š æ¥å£çš„å…¨é™å®šåéœ€ä¸Mapper.xmlä¸‹çš„æ ‡ç­¾ä¸­çš„å€¼ä¿æŒä¸€è‡´ã€‚ æ¥å£çš„æ–¹æ³•è¦ä¸Mapper.xmlä¸‹çš„ æ ‡ç­¾ ä¸€ä¸€å¯¹åº”ï¼Œå¹¶ä¸”æ–¹æ³•åè¦å’Œæ ‡ç­¾çš„idå€¼ä¿æŒä¸€è‡´ã€‚ æ–¹æ³•çš„è¿”å›ç±»å‹å¿…é¡»ä¸æ ‡ç­¾ä¸­çš„resultTypeä¿æŒä¸€è‡´ã€‚ æ¥å£æ–‡ä»¶åå’Œé…ç½®æ–‡ä»¶åéœ€ä¿æŒä¸€è‡´ï¼Œä¸”é…ç½®æ–‡ä»¶åœ¨resourcesæ–‡ä»¶å¤¹ä¸‹çš„ç›¸å¯¹è·¯å¾„è¦ä¸æ¥å£æ–‡ä»¶åœ¨javaæ–‡ä»¶å¤¹ä¸‹çš„ç›¸å¯¹è·¯å¾„ä¸€è‡´ã€‚ Mybatisçš„ä½¿ç”¨æ ·ä¾‹å¦‚ä¸‹ã€‚ 1234567891011121314151617181920212223public static void main(String[] args) throws IOException &#123; // ç›®çš„ï¼šè¦å»æ‰§è¡Œsqlè¯­å¥ // 1. è¯»å–é…ç½®æ–‡ä»¶ InputStream stream = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;); // 2. è·å–SqlSessionFactory SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(stream); // 3. æ‰§è¡ŒSQLè¯­å¥,å…¶ä¸­trueè¡¨ç¤ºè‡ªåŠ¨æäº¤äº‹åŠ¡ SqlSession sqlSession = sqlSessionFactory.openSession(true); // è·å–ä»£ç†å¯¹è±¡ StudentMapper studentMapper = sqlSession.getMapper(StudentMapper.class); // æ‰¾åˆ°å¯¹åº”ç»™çš„SQLè¯­å¥ï¼Œå¹¶ä¸”æ‰§è¡Œ String name = studentMapper.selectNameById(1); System.out.println(name);&#125; è¾“å…¥æ˜ å°„åœ¨Mapperæ¥å£ä¸­çš„å‚æ•°éœ€è¦æ˜ å°„è‡³Mapperé…ç½®æ–‡ä»¶ä¸­ï¼Œéœ€è¦éµå®ˆä¸€äº›è§„åˆ™ã€‚ ä¼ å…¥çš„å‚æ•°åœ¨Mapperä¸­éœ€è¦ä½¿ç”¨#&#123;XXX&#125;æ¥å–å€¼ã€‚ å¦‚æœåœ¨Mapperæ¥å£ä¸­å¯¹å‚æ•°è¿›è¡Œäº†@Paramæ³¨è§£ä¿®é¥°åˆ«åï¼Œé‚£ä¹ˆåœ¨Mapperé…ç½®æ–‡ä»¶ä¸­å¿…é¡»ä½¿ç”¨è¯¥åˆ«åã€‚ å¦‚æœMapperæ¥å£ä¸­ä¼ å…¥çš„æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆåœ¨Mapperé…ç½®æ–‡ä»¶ä¸­å¿…é¡»ä½¿ç”¨#&#123;æˆå‘˜å˜é‡å&#125;æ¥å–å€¼ã€‚å¦‚æœå¯¹è±¡æœ‰æ³¨è§£ï¼Œå¯ä»¥é€šè¿‡#&#123;æ³¨è§£å€¼.æˆå‘˜å˜é‡å&#125;æ¥å–å€¼ã€‚ ä¼ å€¼æ—¶å¯ä»¥ä½¿ç”¨#{}å’Œ${}ä¸¤ç§ä¸åŒçš„ä¼ å€¼æ–¹å¼ï¼Œå…¶ä¸­#{}è¡¨ç¤ºæ˜¯é¢„ç¼–è¯‘å ä½ï¼Œ${}è¡¨ç¤ºæ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨#{}ä¼ å€¼ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦å¯¹SQLè¯­å¥ä¼ å…¥è¡¨åå’Œåˆ—åæ—¶ï¼Œåˆ™éœ€è¦ä½¿ç”¨${}ã€‚ è¾“å‡ºæ˜ å°„åœ¨Mapperé…ç½®æ–‡ä»¶ä¸­æ‰§è¡ŒSQLè¯­å¥åçš„ç»“æœä¼šè½¬æ¢ä¸ºä¸€ä¸ªJavaå¯¹è±¡ï¼Œè½¬æ¢æ—¶ä¹Ÿéœ€è¦éµå®ˆä¸€äº›è§„åˆ™ã€‚ æ˜ å°„çš„ç±»å‹ç”±Mapperé…ç½®æ–‡ä»¶ä¸­SQLè¯­å¥æ ‡ç­¾é‡Œçš„resultTypeæˆ–resultMapæŒ‡å®šï¼Œä¸”Mapperæ¥å£ä¸­çš„è¿”å›ç±»å‹è¦ä¸å…¶ä¸€è‡´ã€‚ å¦‚æœè¿”å›æœ‰å¤šä¸ªå€¼ï¼Œåœ¨Mapperæ¥å£ä¸­éœ€å®šä¹‰æ•°ç»„æˆ–é›†åˆï¼Œä½†æ˜¯resultTypeåªéœ€è¦æŒ‡å®šå•ä¸ªå…ƒç´ çš„ç±»å‹å³å¯ã€‚ å¦‚æœè¿”å›çš„æœ‰å¤šä¸ªåˆ—ï¼Œé‚£ä¹ˆéœ€è¦åœ¨javaæ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªJavaBeanå¯¹è±¡æ¥ä½œä¸ºè¿”å›ç±»å‹ã€‚æ­¤æ—¶Mybatisä¼šæŠŠå¯¹è±¡ä¸­çš„æˆå‘˜å˜é‡åå’ŒæŸ¥è¯¢ç»“æœçš„åˆ—åä¸€ä¸€æ˜ å°„ï¼Œå¦‚æœåŸå§‹è¡¨ä¸­çš„åˆ—åä¸æˆå‘˜å˜é‡åä¸ä¸€è‡´ï¼Œå¯ä»¥é€šè¿‡@Paramå–åˆ«åï¼Œæˆ–è€…æ˜¯resultMapæ¥è§£å†³ã€‚åœ¨å£°æ˜JavaBeanå¯¹è±¡çš„æˆå‘˜å˜é‡æ—¶ï¼Œå°½é‡ä½¿ç”¨åŒ…è£…ç±»å‹ï¼Œæ–¹ä¾¿å¯»æ‰¾é”™è¯¯ã€‚ resultMapä¸€èˆ¬ç”¨äºå¯¹SQLçš„æŸ¥è¯¢ç»“æœè¿›è¡Œå†æ¬¡æ˜ å°„ï¼Œä¸€èˆ¬ç”¨äºä¿®æ”¹åŸå§‹è¡¨åˆ—åå’Œå¤šè¡¨æŸ¥è¯¢ã€‚resultMapçš„ä½¿ç”¨æ ·ä¾‹å¦‚ä¸‹ã€‚ 12345678910111213141516171819&lt;resultMap id=&quot;studentMap&quot; type=&quot;com.cskaoyan.bean.Student&quot;&gt; &lt;!-- id:æ˜ å°„ä¸»é”®å€¼çš„æ ‡ç­¾ column: åˆ—å property: æˆå‘˜å˜é‡å result: æ˜ å°„æ™®é€šåˆ—çš„ --&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt; &lt;result column=&quot;age&quot; property=&quot;age&quot;/&gt; &lt;result column=&quot;gender&quot; property=&quot;gender&quot;/&gt;&lt;/resultMap&gt;&lt;select id=&quot;selectStudentByIdWithResultMap&quot; resultMap=&quot;studentMap&quot;&gt; select id,name,age,gender from student where id = #&#123;id&#125;&lt;/select&gt; åŠ¨æ€SQLMybatiså¯ä»¥æ ¹æ®ä¼ å…¥çš„æ¡ä»¶ï¼ŒåŠ¨æ€çš„æ”¹å˜SQLè¯­å¥ã€‚ ï¼šå¯ä»¥è‡ªåŠ¨æ‹¼æ¥whereå…³é”®å­—ï¼Œå¹¶å»é™¤ç›¸é‚»çš„andæˆ–orå…³é”®å­—ï¼›å¦‚æœwhereä¸­æ²¡æœ‰SQLç‰‡æ®µéœ€è¦æ‹¼æ¥ï¼Œä¸ä¼šæ‹¼æ¥whereå…³é”®å­—ã€‚ ï¼šå¯ä»¥åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ¤æ–­ä¸­çš„å¤§äºå·å’Œå°äºå·ä¸ºäº†é¿å…ä¸xmlæ–‡ä»¶ä¸­çš„æ ‡ç­¾ç¬¦å·å†²çªï¼Œéœ€è¦å†™ä¸º&amp;gt;å’Œ&amp;lt;ã€‚ å’Œï¼šå¯ä»¥æå–å…¬å…±çš„SQLè¯­å¥ï¼Œè´Ÿè´£å¼•å…¥ä¸­çš„å†…å®¹ã€‚ä¸ºäº†ä¿è¯SQLè¯­å¥çš„å¯è¯»æ€§ï¼Œå¹¶ä¸ä¼šæ»¥ç”¨è¿™ä¸¤ä¸ªæ ‡ç­¾ï¼Œå®ƒä»¬ä¸€èˆ¬ç”¨äºæå–åˆ—åã€‚ ï¼šå¯ä»¥è‡ªåŠ¨æ‹¼æ¥setå…³é”®å­—ï¼Œå¹¶å»é™¤æ ‡ç­¾ä¸­çš„æœ€åä¸€ä¸ª,ã€‚ ï¼šå¯ä»¥åœ¨SQLä¸­å¾ªç¯å–å€¼ã€‚ä¸€èˆ¬ç”¨äºinæŸ¥è¯¢ã€‚ä¾‹å­å¦‚ä¸‹ã€‚ Mapper.java 12// in æŸ¥è¯¢List&lt;User&gt; selectUserListByIds(List&lt;Integer&gt; ids); Mapper.xml 123456789&lt;select id=&quot;selectUserListByIds&quot; resultType=&quot;com.cskaoyan.bean.User&quot;&gt; &lt;!-- select * from user where id in (?,?,?,?,?,?,?)--&gt; select &lt;include refid=&quot;all_column&quot;/&gt; from user where id in &lt;foreach collection=&quot;collection&quot; item=&quot;id&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt; #&#123;id&#125; &lt;/foreach&gt;&lt;/select&gt; : å¯ä»¥åœ¨æ‰§è¡Œç›®æ ‡SQLè¯­å¥ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œä¸€æ¡é¢å¤–çš„SQLè¯­å¥ã€‚ä¾‹å­å¦‚ä¸‹ã€‚ 1234567891011&lt;insert id=&quot;insertUserWithReturnId&quot;&gt; insert into user values (null,#&#123;user.name&#125;,#&#123;user.age&#125;,#&#123;user.nickname&#125;)&lt;!--order: è¡¨ç¤ºåœ¨ç›®æ ‡SQLæ‰§è¡Œä¹‹å‰æˆ–è€…æ˜¯ä¹‹åæ‰§è¡Œ AFTER | BEFOREkeyPropertyï¼š è¡¨ç¤ºæ‰§è¡Œçš„ç»“æœæ˜ å°„åˆ°å“ªä¸ªå‚æ•°ä¸­resultType: SQLè¯­å¥è¿”å›çš„ç±»å‹--&gt;&lt;selectKey order=&quot;AFTER&quot; keyProperty=&quot;user.id&quot; resultType=&quot;int&quot;&gt; select LAST_INSERT_ID()&lt;/selectKey&gt;&lt;/insert&gt; useGeneratedKeysï¼šä»…åœ¨insertè¯­å¥ä¸­ä½¿ç”¨ï¼Œå¯ä»¥è·å–æ’å…¥æ•°æ®çš„è‡ªå¢ä¸»é”®ã€‚ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶å¯¹åº”çš„æ¥å£è¿”å›å€¼ä»ç„¶æ˜¯å½±å“è¡Œæ•°ï¼Œidå€¼åˆ™æ˜¯è¢«æ”¾åœ¨ä¼ å…¥çš„keyPropertyä¸­ï¼Œä¸Šé¢çš„åŒç†ï¼‰ä¾‹å­å¦‚ä¸‹ã€‚ 123456789&lt;!--å¼€å¯é…ç½®ï¼šuseGeneratedKeys=&quot;true&quot; æ˜ å°„åˆ°å¯¹åº”çš„å‚æ•°ä¸­ï¼škeyProperty=&quot;user.id&quot;--&gt;&lt;insert id=&quot;insertUserWithReturnIdUseGeneratedKeys&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;user.id&quot;&gt; insert into user values (null,#&#123;user.name&#125;,#&#123;user.age&#125;,#&#123;user.nickname&#125;)&lt;/insert&gt; å¤šè¡¨æŸ¥è¯¢å¤šè¡¨æŸ¥è¯¢çš„æ–¹å¼åˆ†ä¸ºåˆ†æ¬¡æŸ¥è¯¢å’Œè¿æ¥æŸ¥è¯¢ã€‚ é¦–å…ˆåœ¨å»ºç«‹JavaBeanå¯¹è±¡æ—¶ï¼Œéœ€è¦åœ¨ç›´æ¥æŸ¥è¯¢çš„Aè¡¨æ‰€æ˜ å°„çš„å¯¹è±¡ä¸­æ”¾å…¥Bè¡¨æ‰€æ˜ å°„çš„å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚ åˆ†æ¬¡æŸ¥è¯¢ï¼šåœ¨Mybatisä¸­ï¼Œä¸€ä¸ªSQLè¯­å¥æ ‡ç­¾åªèƒ½æ‰§è¡Œä¸€å¥SQLè¯­å¥ï¼Œåˆ†æ¬¡æŸ¥è¯¢å³æ˜¯ä½¿ç”¨resultMapæ¥è¿æ¥ä¸¤ä¸ªSQLè¯­å¥ï¼Œç”¨ä¸€ä¸ªSQLè¯­å¥çš„ç»“æœä½œä¸ºå¦ä¸€ä¸ªSQLè¯­å¥çš„ä¼ å…¥å€¼ã€‚ åˆ†æ¬¡æŸ¥è¯¢çš„æ ·ä¾‹å¦‚ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829303132&lt;!-- åˆ†æ¬¡æŸ¥è¯¢ --&gt;&lt;select id=&quot;selectUserByName&quot; resultMap=&quot;userMap&quot;&gt; select id,username,nickname,gender,age from user where username = #&#123;name&#125;&lt;/select&gt;&lt;resultMap id=&quot;userMap&quot; type=&quot;com.cskaoyan.bean.User&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;username&quot; property=&quot;username&quot;/&gt; &lt;result column=&quot;nickname&quot; property=&quot;nickname&quot;/&gt; &lt;result column=&quot;gender&quot; property=&quot;gender&quot;/&gt; &lt;result column=&quot;age&quot; property=&quot;age&quot;/&gt; &lt;!-- associationï¼šå…³è”å•ä¸ªbeançš„æ—¶å€™ï¼Œä½¿ç”¨ propertyï¼šæˆå‘˜å˜é‡çš„åå­— javaType: æˆå‘˜å˜é‡çš„ç±»å‹ selectï¼šå…³è”çš„ç¬¬äºŒæ¬¡æŸ¥è¯¢çš„SQLè¯­å¥çš„åæ ‡ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢å’Œç¬¬ä¸€æ¬¡æŸ¥è¯¢åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­çš„æ—¶å€™ï¼Œnamespaceå¯ä»¥çœç•¥ column: ç»™ç¬¬äºŒæ¬¡æŸ¥è¯¢ä¼ é€’çš„å€¼çš„åˆ—å --&gt; &lt;association property=&quot;userDetail&quot; javaType=&quot;com.cskaoyan.bean.UserDetail&quot; select=&quot;com.cskaoyan.mapper.UserDetailMapper.selectUserDetailById&quot; column=&quot;id&quot;/&gt; &lt;!-- ç¬¬äºŒæ¬¡æŸ¥è¯¢ --&gt; &lt;select id=&quot;selectUserDetailById&quot; resultType=&quot;com.cskaoyan.bean.UserDetail&quot;&gt; select id,user_id as userId,height,weight,pic from user_detail where user_id = #&#123;id&#125; &lt;/select&gt; è¿æ¥æŸ¥è¯¢ï¼šè¿æ¥æŸ¥è¯¢å³æ˜¯åˆ©ç”¨inner joinå’ŒresultMapæ¥è¿æ¥è¡¨ã€‚ è¿æ¥æŸ¥è¯¢çš„æ ·ä¾‹å¦‚ä¸‹ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940&lt;!-- è¿æ¥æŸ¥è¯¢ --&gt;&lt;select id=&quot;selectUserByNameUseCrossQuery&quot; resultMap=&quot;userCrossMap&quot;&gt; SELECT user.id, user.username, user.nickname, user.gender, user.age, user_detail.id as uid, user_detail.user_id as userId, user_detail.weight as weight, user_detail.height as height, user_detail.pic as pic FROM user left JOIN user_detail ON user.id = user_detail.user_id WHERE user.username = #&#123;name&#125;&lt;/select&gt;&lt;resultMap id=&quot;userCrossMap&quot; type=&quot;com.cskaoyan.bean.User&quot;&gt; &lt;!-- æ˜ å°„ user--&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;username&quot; property=&quot;username&quot;/&gt; &lt;result column=&quot;nickname&quot; property=&quot;nickname&quot;/&gt; &lt;result column=&quot;gender&quot; property=&quot;gender&quot;/&gt; &lt;result column=&quot;age&quot; property=&quot;age&quot;/&gt; &lt;!-- æ˜ å°„userDetail--&gt; &lt;association property=&quot;userDetail&quot; javaType=&quot;com.cskaoyan.bean.UserDetail&quot;&gt; &lt;id column=&quot;uid&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;userId&quot; property=&quot;userId&quot;/&gt; &lt;result column=&quot;weight&quot; property=&quot;weight&quot;/&gt; &lt;result column=&quot;height&quot; property=&quot;height&quot;/&gt; &lt;result column=&quot;pic&quot; property=&quot;pic&quot;/&gt; &lt;/association&gt;&lt;/resultMap&gt; æ‡’åŠ è½½å’Œç¼“å­˜æ‡’åŠ è½½æ˜¯æŒ‡åœ¨Mybatisè¿›è¡Œåˆ†æ¬¡æŸ¥è¯¢çš„æ—¶å€™ï¼Œå‡å¦‚ç¬¬äºŒæ¬¡æŸ¥è¯¢çš„å†…å®¹æ²¡æœ‰è¢«ä½¿ç”¨åˆ°çš„è¯ï¼Œé‚£ä¹ˆå°±ä¸å»æ‰§è¡Œç¬¬äºŒæ¬¡æŸ¥è¯¢çš„SQLè¯­å¥ï¼Œç­‰åˆ°ç”¨åˆ°ç¬¬äºŒæ¬¡æŸ¥è¯¢çš„å†…å®¹çš„æ—¶å€™å†å»æ‰§è¡Œç¬¬äºŒæ¡SQLè¯­å¥ã€‚ Mybatisçš„é»˜è®¤é…ç½®æ˜¯å…³é—­æ‡’åŠ è½½ï¼Œè¦å¼€å¯æ‡’åŠ è½½éœ€è¦åœ¨Mybatisçš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®ã€‚ 123456&lt;settings&gt; &lt;!-- æ‡’åŠ è½½ true: è¡¨ç¤ºå¼€å¯ false:é»˜è®¤å€¼ï¼Œè¡¨ç¤ºå…³é—­ --&gt; &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt; ç¼“å­˜æ˜¯æŒ‡åœ¨Mybatisä¸­ï¼Œå•ç‹¬å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ï¼ˆmapï¼‰ï¼Œæ¥å­˜å‚¨æŸ¥è¯¢çš„ä¿¡æ¯ã€‚åç»­å‡å¦‚å†æ¬¡è°ƒç”¨äº†åˆ°äº†åŒæ ·çš„æŸ¥è¯¢ï¼Œé‚£ä¹ˆå°±ç›´æ¥æŸ¥è¯¢ç¼“å­˜ã€‚ ç¼“å­˜åˆ†ä¸ºä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ã€‚ ä¸€çº§ç¼“å­˜æ˜¯ä¸€ä¸ªSqlSessionçº§åˆ«çš„ç¼“å­˜ã€‚ç¼“å­˜çš„å†…å®¹å­˜å‚¨åœ¨SQLSessionä¸­ã€‚ä¸€çº§ç¼“å­˜æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œä¸”æ— æ³•å…³é—­ï¼Œåªæœ‰åœ¨SqlSessionå…³é—­æ—¶ï¼Œæˆ–è€…SqlSessionè°ƒç”¨commitæ–¹æ³•ä¼šè®©ä¸€çº§ç¼“å­˜å¤±æ•ˆã€‚ äºŒçº§ç¼“å­˜æ˜¯ä¸€ä¸ªNameSpaceçº§åˆ«çš„ç¼“å­˜ï¼Œæ¯ä¸€ä¸ªNameSpaceéƒ½æœ‰è‡ªå·±çš„ç¼“å­˜ç©ºé—´ã€‚äºŒçº§ç¼“å­˜æ˜¯é»˜è®¤å¼€å¯çš„ã€‚ åœ¨å®é™…å·¥ä½œä¸­ï¼ŒMybatisçš„ç¼“å­˜æœºåˆ¶å¹¶ä¸å¥½ç”¨ï¼Œä¸»è¦æ˜¯å®ƒæ— æ³•è§£å†³è„æ•°æ®çš„é—®é¢˜ï¼Œä¸”ç”¨æˆ·ä¸èƒ½ç›´æ¥æ“ä½œç¼“å­˜ï¼Œæ‰€ä»¥åœ¨å®é™…å·¥ä½œä¸­ä¼šä½¿ç”¨Redisæ›¿ä»£ã€‚"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.05.10-2022.05.16ï¼‰","path":"2022/05/16/å­¦ä¹ æ€»ç»“ï¼ˆ2022-05-10-2022-05-16ï¼‰/","text":"å…³ç³»å‹æ•°æ®åº“ä¸éå…³ç³»å‹æ•°æ®åº“å…³ç³»å‹æ•°æ®åº“ï¼šä¸ä»…å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå­˜å‚¨æ•°æ®ä¸æ•°æ®é—´çš„å…³ç³»ã€‚ä¸€èˆ¬å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œè¯»å–è¾ƒæ…¢ã€‚ éå…³ç³»å‹æ•°æ®åº“ï¼šä»…ä»…ç”¨äºå­˜å‚¨æ•°æ®ï¼Œä¸èƒ½å­˜å‚¨æ•°æ®é—´çš„å…³ç³»ã€‚ä½†æ˜¯ä¸€èˆ¬å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¯»å–è¾ƒå¿«ã€‚ SQLè¯­å¥åº“çš„æ“ä½œ 123456create database dbName;# æ·»åŠ åº“drop database dbName;# åˆ é™¤åº“alter database dbName character set utf8 collate utf8_bin;# ä¿®æ”¹åº“çš„å­—ç¬¦é›†å’Œæ ¡å¯¹è§„åˆ™(ä¸èƒ½ä¿®æ”¹åå­—)show databases;# æŸ¥è¯¢æ‰€æœ‰çš„åº“show create database dbName;# æŸ¥è¯¢å¯¹åº”åº“çš„å»ºåº“è¯­å¥use dbName;# é€‰ä¸­åº“(é‡è¦) è¡¨çš„æ“ä½œ 123456789101112131415create table tableName( columnName1 dataType, columnName2 dataType, ... ) character set utf8 collate utf8_bin;# åˆ›å»ºè¡¨(åé¢ä¸ºè®¾ç½®è¡¨çš„å­—ç¬¦é›†å’Œæ ¡å¯¹è§„åˆ™)drop table tableName;# åˆ é™¤è¡¨rename table tableName to newTableName;# ä¿®æ”¹è¡¨åalter table tableName character set latin1 collate latin1_bin;# ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†å’Œæ ¡å¯¹è§„åˆ™alter table tableName add columnName dataType;# æ·»åŠ åˆ—(åˆ—ååè·Ÿåˆ—çš„æ•°æ®ç±»å‹)alter table tableName drop columnName;# åˆ é™¤åˆ—alter table tableName modify columnName dataType;# ä¿®æ”¹åˆ—çš„ç±»å‹alter table tableName change columnName newColumnName dataType;# ä¿®æ”¹åˆ—çš„ç±»å‹å’Œåå­—show tables;# æŸ¥è¯¢æ‰€æœ‰è¡¨describe tableName;# æŸ¥è¯¢è¡¨ç»“æ„show create table tableName;# æŸ¥è¯¢å»ºè¡¨è¯­å¥ æ•°æ®çš„æ“ä½œ 123456789insert into tableName values (...), (...), ...;# æ’å…¥æ•°æ®delete from tableName columnName = ...;# åˆ é™¤æ•°æ®update tableName set columnName = ... where columnName = ...;# ä¿®æ”¹æ•°æ®select * from tableName;# æŸ¥æ‰¾æ‰€æœ‰æ•°æ®select columnName from tableName;# æŸ¥æ‰¾è¯¥åˆ—æ•°æ® å…³é”®å­—ï¼š whereï¼šå¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„æŒ‡å®šæ•°æ®è¡Œã€‚ distinctï¼šè¿‡æ»¤ç»“æœç›¸åŒçš„è®°å½•ã€‚ limitï¼šé™åˆ¶æ˜¾ç¤ºçš„è¡Œæ•°ã€‚ asï¼šåˆ«åï¼Œå¯¹æŸ¥è¯¢ç»“æœçš„åˆ—å’Œè¡¨èµ·åã€‚ order byï¼šæ’åºã€‚å¯æ¥descè¡¨ç¤ºé™åºã€‚ group byï¼šåˆ†ç»„ã€‚å¯æ¥havingå¯¹åˆ†ç»„åçš„ç»“æœè¿›è¡Œè¿‡æ»¤ã€‚ èšåˆå‡½æ•°ï¼š maxï¼šæœ€å¤§å€¼ minï¼šæœ€å°å€¼ avgï¼šå¹³å‡å€¼ sumï¼šæ€»å’Œ countï¼šè®¡æ•° SQLè¯­å¥æ‰§è¡Œé¡ºåº 1234567(5) SELECT column_name, ... (1) FROM table_name, ... (2) [WHERE ...] (3) [GROUP BY ...] (4) [HAVING ...] (6) [ORDER BY ...](7) [Limit ...] æ•°æ®å®Œæ•´æ€§å®ä½“å®Œæ•´æ€§ï¼šç¡®å®šè¡¨ä¸­æ•°æ®æ˜¯å”¯ä¸€ä¸”ä¸é‡å¤çš„ï¼Œç¡®ä¿ç”¨æˆ·ä¸ä¼šè¾“å…¥é‡å¤çš„æ•°æ®ï¼Œå®ç°çš„å…³é”®æ˜¯ä¸»é”®ã€‚ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®ä¸­å”¯ä¸€ä¸å…è®¸é‡å¤å’Œå€¼ä¸ºnullçš„å­—æ®µã€‚ä¸»é”®ä¸€èˆ¬å¯ä»¥è‡ªå¢ã€‚åœ¨å»ºè¡¨æ—¶å¯ä»¥å£°æ˜ä¸€ä¸ªå­—æ®µä¸ºä¸»é”®ã€‚ 123create table tableName( columnName dataType PRIMARY KEY auto_increment# å£°æ˜ä¸ºä¸»é”®ä¸”è‡ªå¢) auto_increment=1000# è®¾ç½®è‡ªå¢çš„èµ·å§‹æ•° åŸŸå®Œæ•´æ€§ï¼šæ¯ä¸€ä¸ªå­—æ®µéƒ½åº”è¯¥æœ‰ç±»å‹ä»¥çº¦æŸå€¼ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨uniqueï¼ˆå€¼å”¯ä¸€ï¼‰å’Œnot nullï¼ˆå€¼ä¸ä¸ºç©ºï¼‰æ¥çº¦æŸå€¼ã€‚uniqueä¿®é¥°çš„å­—æ®µå¯ä»¥ä¸ºç©ºã€‚ å‚ç…§å®Œæ•´æ€§ï¼šä¸€ä¸ªè¡¨å¦‚æœå­˜åœ¨å¤–é”®ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤–é”®åº”è¯¥ä¸å¦ä¸€ä¸ªè¡¨çš„ä¸»é”®ç›¸å¯¹åº”ã€‚å¤–é”®ä½¿ç”¨foreign keyæ¥å£°æ˜ã€‚ ä¸‰å¤§èŒƒå¼ç¬¬ä¸€èŒƒå¼ï¼šæ¯ä¸€åˆ—åº”è¯¥ä¿æŒåŸå­æ€§ã€‚åŸå­æ€§è¡¨ç¤ºè¡¨ä¸­çš„æ•°æ®éƒ½æ˜¯ä¸€ä¸ªä¸å¯æ‹†åˆ†çš„æœ€å°å•å…ƒã€‚ ç¬¬äºŒèŒƒå¼ï¼šæ•°æ®åº”è¯¥æœ‰å”¯ä¸€æ€§ã€‚å”¯ä¸€æ€§è¡¨ç¤ºæ¯ä¸€æ¡æ•°æ®éƒ½æœ‰å”¯ä¸€çš„æ ‡è¯†ï¼Œå¦‚ä¸»é”®ã€‚ ç¬¬ä¸‰èŒƒå¼ï¼šæ•°æ®ä¸åº”è¯¥å†—ä½™ã€‚ å¤šè¡¨æŸ¥è¯¢å†…è¿æ¥inner join 12select * from user inner join user_detail on user.id = user_detail.user_id; å¤–è¿æ¥outer join å¤–è¿æ¥åˆ†ä¸ºå·¦è¿æ¥å’Œå³è¿æ¥ï¼Œä½¿ç”¨å·¦è¿æ¥æ—¶ä¼šä¿ç•™å·¦è¡¨æ•°æ®ï¼Œå³è¿æ¥åä¹‹ã€‚ 12select * from user left outer join user_detail on user.id = user_detail.user_id; åµŒå¥—æŸ¥è¯¢ ä¸€ä¸ªSQLè¯­å¥çš„ç»“æœå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªSQLè¯­å¥çš„æ¡ä»¶ã€‚ 12select * from student where clazz_id = (select id from clazz where name = &#x27;ä¸€ç­&#x27;); JDBCJDBCæ˜¯javaçš„ä¸€å¥—è¿æ¥æ•°æ®åº“çš„æ ‡å‡†æ¥å£ã€‚ä½†JDBCåªæä¾›æ¥å£ï¼Œå…·ä½“çš„å®ç°(å¦‚ä½•è¿æ¥æ•°æ®åº“)ç”±æ•°æ®åº“å‚å®¶çš„é©±åŠ¨å®ç°ï¼Œå¦‚MySQLçš„mysql-connectorã€‚ JDBCçš„ä½¿ç”¨å¦‚ä¸‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839// 1.åŠ è½½é©±åŠ¨ DriverManager.registerDriver(new Driver());// String url = &quot;åè®® + ip + ç«¯å£ + è·¯å¾„ + å‚æ•°&quot;; String url = &quot;jdbc:mysql://localhost:3306/40th?useSSL=false&amp;characterEncoding=utf8&quot;; String username = &quot;root&quot;; String password = &quot;123456&quot;; // 2.å‘é€ç”¨æˆ·åå’Œå¯†ç ï¼Œå»ºç«‹è¿æ¥ // è¿”å›çš„å½“å‰æ˜¯ä¸€ä¸ªConnectionæ¥å£ï¼Œä½†æ˜¯å®é™…ä¸Šåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œè¿”å›æ˜¯Connectionæ¥å£çš„å®ç°ç±»çš„å®ä¾‹ Connection connection = DriverManager.getConnection(url, username, password); // 3.è·å–statementå¯¹è±¡ Statement statement = connection.createStatement(); // 4.å‘é€SQLè¯­å¥// å¢åˆ æ”¹ä½¿ç”¨executeUpdateæ–¹æ³• int affectedRows = statement.executeUpdate(&quot;insert into stu values (4,&#x27;äº‘é£å…„&#x27;,20,&#x27;358ç­&#x27;)&quot;);// æŸ¥ä½¿ç”¨executeQueryæ–¹æ³•ResultSet resultSet = statement.executeQuery(&quot;select * from stu&quot;); // 5.è§£æç»“æœé›† System.out.println(&quot;affectedRows:&quot; + affectedRows);while (resultSet.next()) &#123; int id = resultSet.getInt(&quot;id&quot;); String name = resultSet.getString(&quot;name&quot;); int age = resultSet.getInt(&quot;age&quot;); String className = resultSet.getString(&quot;class&quot;); System.out.println(&quot;id:&quot; + id); System.out.println(&quot;name:&quot; + name); System.out.println(&quot;age:&quot; + age); System.out.println(&quot;className:&quot; + className);&#125; // 6.æ–­å¼€è¿æ¥resultSet.close(); statement.close(); connection.close(); æ•°æ®åº“æ³¨å…¥åœ¨ä½¿ç”¨Statementæ—¶ï¼Œå¦‚æœè¾“å…¥çš„SQLè¯­å¥æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥è€Œæˆçš„ï¼Œé‚£ä¹ˆç”¨æˆ·å°±å¯èƒ½è¾“å…¥ä¸€äº›åŒ…å«SQLå…³é”®å­—çš„å­—ç¬¦ï¼Œè¿™æ ·å°±å¯èƒ½æ”¹å˜SQLè¯­å¥çš„æ ¼å¼ï¼Œå¼•å‘å®‰å…¨æ€§çš„é—®é¢˜ã€‚ è§£å†³æ–¹å¼æ˜¯ä½¿ç”¨PreparedStatement(é¢„ç¼–è¯‘çš„Statement)ã€‚ 1234567891011// åœ¨åˆ›å»ºPreparedStatementçš„æ—¶å€™ï¼ŒPreparedStatementä¼šæŠŠå½“å‰è¿™ä¸ªæ²¡æœ‰å‚æ•°çš„SQLè¯­å¥ï¼Œå‘é€ç»™MySQLæœåŠ¡å™¨ï¼Œæ‰§è¡Œé¢„ç¼–è¯‘// é¢„ç¼–è¯‘ï¼šå…¶å®å°±æ˜¯å»è§£æè¿™ä¸ªSQLè¯­å¥ä¸­çš„å…³é”®å­—ï¼Œå˜æˆMySQLå¯ä»¥æ‰§è¡Œçš„å‘½ä»¤// åœ¨é¢„ç¼–è¯‘ä¹‹åï¼Œåç»­è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œå°±åªä¼šè¢«MySQLå½“æˆçº¯æ–‡æœ¬æ¥è§£æPreparedStatement preparedStatement = connection.prepareStatement(&quot;select * from user where name = ? and password = ?&quot;);// è®¾ç½®å‚æ•°preparedStatement.setString(1,username);preparedStatement.setString(2,password);// ä¼ é€’å‚æ•°ï¼Œæ‰§è¡ŒSQLè¯­å¥ResultSet resultSet = preparedStatement.executeQuery(); åœ¨å®‰å…¨æ€§ä¸Šï¼ŒPreparedStatementè¦æ¯”Statementå®‰å…¨ï¼›åœ¨æ•ˆç‡ä¸Šï¼Œå› ä¸ºPreparedStatementéœ€è¦ä¸æ•°æ®åº“é€šä¿¡ä¸¤æ¬¡ï¼Œä¸€æ¬¡ä¼ è¾“é¢„ç¼–è¯‘çš„SQLè¯­å¥ï¼Œä¸€æ¬¡ä¼ è¾“å‚æ•°ï¼Œæ‰€ä»¥ç›¸æ¯”äºåªé€šä¿¡ä¸€æ¬¡çš„Statementè¦æ…¢ä¸€äº›ã€‚ æ‰¹å¤„ç†å¯¹SQLè¯­å¥æœ‰ä¸‰ç§æ‰¹å¤„ç†çš„æ–¹å¼ï¼š forå¾ªç¯æ’å…¥ 12345678910111213// forå¾ªç¯public static void batchUseForEach() throws SQLException &#123; Statement statement = connection.createStatement(); for (int i = 0; i &lt; 10000; i++) &#123; String sql = &quot;insert into user values (&quot;+i+&quot;,&#x27;foreach&#x27;,null,null)&quot;; statement.executeUpdate(sql); &#125;&#125; statementæ‰¹å¤„ç† 12345678910111213// Statementå¤„ç†public static void batchUseStatement() throws SQLException &#123; Statement statement = connection.createStatement(); for (int i = 10000; i &lt; 20000; i++) &#123; String sql = &quot;insert into user values (&quot;+i+&quot;,&#x27;batchUseStatement&#x27;,null,null)&quot;; statement.addBatch(sql); &#125; // å‘é€SQLè¯­å¥ï¼Œæ‰§è¡Œ statement.executeBatch();&#125; PreparedStatementæ‰¹å¤„ç† éœ€è¦åœ¨æ•°æ®åº“çš„urlåé¢åŠ ä¸Šé…ç½®rewriteBatchedStatements=true ï¼Œè¡¨ç¤ºå¼€å¯æ‰¹å¤„ç†ã€‚ 12345678910111213141516// PreparedStatementå¤„ç†public static void batchUsePrepapreStatement() throws SQLException &#123; // è·å–PreparedStatement PreparedStatement preparedStatement = connection.prepareStatement(&quot;insert into user values (?,?,null,null)&quot;); // å¾ªç¯ï¼Œè®¾ç½®å‚æ•° for (int i = 20000; i &lt; 30000; i++) &#123; preparedStatement.setInt(1,i); preparedStatement.setString(2,&quot;PrepapreStatement&quot;); preparedStatement.addBatch(); &#125; // æŠŠå‚æ•°å‘é€ç»™MySQLæœåŠ¡å™¨ï¼Œæ‰§è¡ŒSQLè¯­å¥ preparedStatement.executeBatch();&#125; ç”±ä»£ç å¯çŸ¥ï¼Œä¸‰ç§æ–¹å¼ä¸SQLæœåŠ¡å™¨çš„é€šä¿¡æ¬¡æ•°ã€SQLè¯­å¥çš„ç¼–è¯‘æ¬¡æ•°å’Œæ‰§è¡Œæ¬¡æ•°å¦‚ä¸‹è¡¨ã€‚ é€šä¿¡æ¬¡æ•° ç¼–è¯‘æ¬¡æ•° æ‰§è¡Œæ¬¡æ•° æ—¶é—´ forå¾ªç¯ n n n æœ€é•¿ Statement 1 n n æ¬¡ä¹‹ PreparedStatement 2 1 1 æœ€çŸ­ ç„¶è€Œé€šè¿‡å®é™…æµ‹è¯•å‘ç°åœ¨æ•°æ®è¾ƒå¤§ï¼ˆ&gt;&#x3D; 1000000ï¼‰çš„æƒ…å†µä¸‹statementæ‰¹å¤„ç†çš„æ—¶é—´è¦é•¿äºforå¾ªç¯ï¼Œå¯èƒ½åŸå› æ˜¯æ“ä½œç³»ç»Ÿå¯¹å†…å­˜çš„åˆ†é…ï¼šåœ¨forå¾ªç¯ä¸­ï¼Œæ¯ä¸€æ¬¡å¾ªç¯æ—¶æ“ä½œç³»ç»Ÿä¸å¿…å»ä¸€ç›´ç»´æŠ¤å†…å­˜ï¼Œåœ¨ä¸€æ¬¡å¾ªç¯ç»“æŸåå¯ä»¥å°†å†…å­˜é‡Šæ”¾ï¼›è€Œstatementæ‰¹å¤„ç†æ—¶æ“ä½œç³»ç»Ÿéœ€è¦ç»´æŠ¤å†…å­˜å»è®°å½•sqlè¯­å¥ï¼Œè¿™å¯¼è‡´äº†statementæ‰¹å¤„ç†çš„æ—¶é—´å˜é•¿ã€‚ äº‹åŠ¡äº‹åŠ¡æ˜¯æŒ‡ç»„æˆäº‹åŠ¡çš„ä¸€ç»„æ“ä½œï¼Œè¿™äº›æ“ä½œè¦ä¹ˆä¸€èµ·æ“ä½œæˆåŠŸï¼Œè¦ä¹ˆä¸€èµ·æ“ä½œä¸æˆåŠŸã€‚ äº‹åŠ¡å…·æœ‰å››ä¸ªç‰¹æ€§ï¼š åŸå­æ€§ã€‚äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ“ä½œå•å…ƒï¼Œé‡Œé¢çš„ä¸€ç»„æ“ä½œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½ä¸æˆåŠŸã€‚ ä¸€è‡´æ€§ã€‚äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ï¼ˆæ¯”å¦‚æ— è®ºæ€ä¹ˆè½¬è´¦ï¼Œæ‰€æœ‰è´¦æˆ·çš„æ€»é‡‘é¢åº”è¯¥ä¸å˜ï¼‰ã€‚ éš”ç¦»æ€§ã€‚äº‹åŠ¡ä¸äº‹åŠ¡é—´åº”è¯¥äº’ç›¸éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚ æŒä¹…æ€§ã€‚ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦ç”Ÿæ•ˆï¼Œå¯¹æ•°æ®åº“çš„æ”¹å˜æ˜¯æ°¸ä¹…çš„ï¼Œå³äº‹åŠ¡æäº¤ä»¥åå°±æ— æ³•å›æ»šã€‚ é’ˆå¯¹äº‹åŠ¡çš„éš”ç¦»æ€§ï¼Œæå‡ºäº†äº‹åŠ¡çš„å››ä¸ªéš”ç¦»çº§åˆ«ï¼š è¯»æœªæäº¤ è¯»å·²æäº¤ å¯é‡å¤è¯» ä¸²è¡ŒåŒ– åœ¨è¿™äº›éš”ç¦»çº§åˆ«ä¸­ï¼Œä¼šå‡ºç°å¦‚ä¸‹ä¸‰ä¸ªéš”ç¦»é—®é¢˜ï¼š è„è¯»ã€‚å³ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡è¿˜æœªæäº¤çš„æ•°æ®ã€‚ ä¸å¯é‡å¤è¯»ï¼Œå³åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­è¯»å–åŒä¸€ä¸ªæ•°æ®ï¼Œå‰åè¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚ä¸€èˆ¬æ˜¯ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®ã€‚ è™šå¹»è¯»ï¼Œå³åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­è¯»å–åŒä¸€ä¸ªæ•°æ®ï¼Œå‰åè¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚ä¸€èˆ¬æ˜¯ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡æ’å…¥æˆ–åˆ é™¤çš„æ•°æ®ã€‚ å››ä¸ªéš”ç¦»çº§åˆ«åœ¨å¤„ç†ä¸‰ä¸ªéš”ç¦»é—®é¢˜çš„èƒ½åŠ›å¦‚ä¸‹ è„è¯» ä¸å¯é‡å¤è¯» è™šå¹»è¯» è¯»æœªæäº¤ï¼ˆread uncommittedï¼‰ âˆš âˆš âˆš è¯»å·²æäº¤ï¼ˆread committedï¼‰ X âˆš âˆš å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰ X X âˆš ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰ X X X åœ¨MySQLä¸­ï¼Œé»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ã€‚MySQLé€šè¿‡è‡ªèº«è§£å†³äº†éƒ¨åˆ†è™šå¹»è¯»çš„é—®é¢˜ï¼Œä½†å¹¶æ²¡æœ‰å®Œå…¨è§£å†³ã€‚ ä¸²è¡ŒåŒ–è™½ç„¶å®‰å…¨çº§åˆ«æœ€é«˜ï¼Œä½†æ˜¯æ­¤æ—¶æ•°æ®åº“å®Œå…¨ä¸§å¤±äº†å¤šçº¿ç¨‹çš„èƒ½åŠ›ï¼Œåœ¨ä¸€ä¸ªäº‹åŠ¡æ“ä½œæœŸé—´ï¼Œå…¶ä»–äº‹åŠ¡éƒ½ä¼šå˜æˆé˜»å¡çŠ¶æ€ï¼Œæ•°æ®åº“çš„æ•ˆç‡ä¼šå› æ­¤ä¸‹é™ã€‚ åœ¨JDBCä¸­ï¼Œå¼€å¯äº‹åŠ¡çš„APIå¦‚ä¸‹ã€‚ 12345678// å¼€å¯äº‹åŠ¡connection.setAutoCommit(false);// æäº¤äº‹åŠ¡connection.commit();// å›æ»šäº‹åŠ¡connection.rollback(); DatasourceDatasourceå…·ä½“æŒ‡çš„æ˜¯æ•°æ®åº“è¿æ¥æ± ã€‚æ•°æ®åº“è¿æ¥æ± æ˜¯åˆ©ç”¨æ± åŒ–çš„æ€æƒ³ï¼ŒæŠŠæ•°æ®åº“è¿æ¥å­˜æ”¾åœ¨æ± ä¸­ï¼Œåœ¨æˆ‘ä»¬éœ€è¦è¿æ¥æ—¶ï¼Œä»æ± é‡Œè·å–è¿æ¥ï¼›ç”¨å®Œä¹‹åå†æ”¾å›æ± ä¸­ï¼Œè¿™æ ·å°±é¿å…äº†åå¤åˆ›å»ºã€é”€æ¯è¿æ¥ï¼Œæé«˜ç¨‹åºçš„æ•ˆç‡ã€‚ ç›®å‰ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹æ•°æ®åº“è¿æ¥æ± æœ‰ä¸‰ä¸ªï¼šDBCPã€c3p0ã€Druidã€‚ DBCPï¼šéœ€è¦ä½¿ç”¨propertiesé…ç½®æ–‡ä»¶é…ç½®ã€‚ 123456username=rootpassword=123456url=jdbc:mysql://localhost:3306/40thdriverClassName=com.mysql.jdbc.DriverconnectionProperties=useSSL=false;characterEncoding=utf8initialSize=10 1234567// åŠ è½½é…ç½®æ–‡ä»¶Properties properties = new Properties();properties.load(new FileInputStream(&quot;dbcp.properties&quot;));// è·å–è¿æ¥DataSource dataSource = BasicDataSourceFactory.createDataSource(properties);Connection connection = dataSource.getConnection(); c3p0ï¼šéœ€è¦ä½¿ç”¨xmlæ–‡ä»¶é…ç½®ã€‚ 1234567891011121314151617181920212223&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;c3p0-config&gt; &lt;default-config&gt; &lt;property name=&quot;driverClass&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt; &lt;!-- åœ¨xmlæ–‡ä»¶ä¸­ï¼Œæœ‰ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä¼šæœ‰æ­§ä¹‰ï¼Œä¼šæŠ¥é”™ï¼Œè¿™äº›å­—ç¬¦éœ€è¦å†™è½¬ä¹‰å­—ç¬¦ &amp; &gt; &lt; è½¬ä¹‰å­—ç¬¦ &amp; &amp;amp; &lt; &amp;lt; &gt; &amp;gt; --&gt; &lt;property name=&quot;jdbcUrl&quot;&gt;jdbc:mysql://localhost:3306/40th?useSSL=false&amp;amp;characterEncoding=utf8&lt;/property&gt; &lt;property name=&quot;user&quot;&gt;root&lt;/property&gt; &lt;property name=&quot;password&quot;&gt;123456&lt;/property&gt; &lt;property name=&quot;initialPoolSize&quot;&gt;10&lt;/property&gt; &lt;property name=&quot;maxIdleTime&quot;&gt;30&lt;/property&gt; &lt;property name=&quot;maxPoolSize&quot;&gt;100&lt;/property&gt; &lt;property name=&quot;minPoolSize&quot;&gt;10&lt;/property&gt; &lt;property name=&quot;maxStatements&quot;&gt;200&lt;/property&gt; &lt;/default-config&gt;&lt;/c3p0-config&gt; ä½¿ç”¨æ–¹å¼åŒDBCPï¼Œåªæ˜¯dataSourceæ”¹ä¸ºc3p0çš„ã€‚ 1dataSource = new ComboPooledDataSource(); Druidï¼šéœ€è¦ä½¿ç”¨propertiesé…ç½®æ–‡ä»¶é…ç½®ã€‚ 1234username=rootpassword=123456url=jdbc:mysql://localhost:3306/40th?useSSL=false&amp;characterEncoding=utf8driverClassName=com.mysql.jdbc.Driver ä½¿ç”¨æ–¹å¼åŒDBCPï¼Œåªæ˜¯dataSourceæ”¹ä¸ºDruidçš„ã€‚ 1dataSource = DruidDataSourceFactory.createDataSource(properties); DBUtilsDBUtilsæ˜¯ä¸€ä¸ªå¯ä»¥å¸®åŠ©æé«˜JDBCå¼€å‘æ•ˆç‡çš„æ¡†æ¶ã€‚ä¸»è¦ä½¿ç”¨ä¸‹é¢ä¸‰ä¸ªç±»ã€‚ DBUtilsï¼šå¯ä»¥å…³é—­è¿æ¥ã€æäº¤äº‹åŠ¡ç­‰ã€‚ 1234567891011// å…³é—­è¿æ¥public static void close(Connection conn) throws SQLException;// å…³é—­ResultSetpublic static void close(ResultSet rs) throws SQLException;// å…³é—­statementpublic static void close(Statement stmt) throws SQLException;// æäº¤å¹¶ä¸”å…³é—­public static void commitAndClose(Connection conn) throws SQLException; QueryRunnerï¼šå¯ä»¥æ‰§è¡ŒSQLè¯­å¥å¹¶è·å–ç»“æœé›†ã€‚ 12345678// æ„é€ æ— å‚çš„queryRunnerQueryRunner queryRunner = new QueryRunner();// æ„é€ QueryRunnerDataSource dataSource = DruidUtils.getDataSource();QueryRunner queryRunner = new QueryRunner(dataSource);// è·å–å¢åˆ æ”¹å½±å“çš„è¡Œæ•°int affectedRows = queryRunner.update(&quot;update stu set name = ? where id = ?&quot;, &quot;å˜‰é–çš‡å¸&quot;, 4); ResultSetHandlerï¼šå¯ä»¥å¸®åŠ©è§£æç»“æœé›†ï¼Œä½†æœ¬èº«æ˜¯æ¥å£ï¼Œå®é™…ç”¨çš„æ˜¯ä»¥ä¸‹çš„å…·ä½“å®ç°ã€‚ // BeanHandlerï¼ŒæŠŠç»“æœé›†ä¸­çš„ç¬¬ä¸€è¡Œæ•°æ®è½¬åŒ–ä¸ºä¸€ä¸ªJavaBean Stu stu = queryRunner.query(&quot;select id,name,age,class as clazz from stu where id = ?&quot;,new BeanHandler&lt;&gt;(Stu.class),2); // BeanListHandlerï¼ŒæŠŠç»“æœé›†å¯¹è±¡è§£æä¸ºä¸€ä¸ª BeanList List&lt;Stu&gt; stuList = queryRunner.query(&quot;select id,name,age,class as clazz from stu&quot;,new BeanListHandler&lt;&gt;(Stu.class)); // MapHandlerï¼ŒæŠŠç»“æœé›†ä¸­çš„ç¬¬ä¸€è¡Œè®°å½•è§£æä¸ºä¸€ä¸ªMap Map&lt;String, Object&gt; map = queryRunner.query(&quot;select * from stu&quot;, new MapHandler()); // MapListHandlerï¼ŒæŠŠç»“æœé›†ä¸­çš„è®°å½• æ˜ å°„åˆ°ä¸€ä¸ª List&lt;map&lt;String,Object&gt;&gt; å¯¹è±¡ä¸­ List&lt;Map&lt;String, Object&gt;&gt; mapList = queryRunner.query(&quot;select * from stu&quot;, new MapListHandler()); // ColumnListHandlerï¼Œç”¨æ¥æ¥æ”¶å•åˆ—å€¼çš„è§£æç»“æœã€‚ List&lt;Object&gt; list = queryRunner.query(&quot;select name from student&quot;, new ColumnListHandler&lt;&gt;()); // ScalarHandlerï¼Œç”¨æ¥å¤„ç†æŸ¥è¯¢ç»“æœæ˜¯å•ä¸ªå€¼çš„æƒ…å†µã€‚ Long count = queryRunner.query(&quot;select count(*) from student&quot;, new ScalarHandler&lt;Long&gt;());"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.05.01-2022.05.09ï¼‰","path":"2022/05/10/å­¦ä¹ æ€»ç»“ï¼ˆ2022-05-01-2022-05-09ï¼‰/","text":"HTMLHTMLæ˜¯ä¸€ä¸ªç”¨æ ‡ç­¾æè¿°çš„æ–‡æœ¬è¯­è¨€ã€‚ HTMLåˆå§‹æ ¼å¼ä¸ºï¼š 12345678910&lt;!DOCTYPE html&gt; è¯­æ³•å£°æ˜: å£°æ˜ä½¿ç”¨HTML5è¯­æ³•&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; meta: æè¿°ç½‘é¡µçš„å…ƒä¿¡æ¯ &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;body&gt; ... &lt;/body&gt;&lt;/html&gt; é‡è¦æ ‡ç­¾ï¼ˆäº†è§£å³å¯ï¼‰ï¼š 123456789101112&lt;hr&gt; : æ¨ªçº¿æ ‡ç­¾, å•æ ‡ç­¾&lt;br&gt; : æ¢è¡Œæ ‡ç­¾, å•æ ‡ç­¾&lt;h1&gt;&lt;h2&gt;&lt;h3&gt;&lt;h4&gt;&lt;h5&gt;&lt;h6&gt; : æ ‡é¢˜æ ‡ç­¾, åŒæ ‡ç­¾&lt;div&gt; : åˆ†åŒºæˆ–è€…èŠ‚ç»™ä¸€ä¸ªé¡µé¢, åŒæ ‡ç­¾&lt;p&gt; : æ®µè½æ ‡ç­¾, åŒæ ‡ç­¾&lt;a&gt; : è¶…é“¾æ¥æ ‡ç­¾, åŒæ ‡ç­¾&lt;img&gt; : å›¾ç‰‡æ ‡ç­¾, å•æ ‡ç­¾&lt;ol&gt;: æœ‰åºåˆ—è¡¨, å’Œ&lt;li&gt;æ ‡ç­¾å…±åŒæ„æˆä¸€å¥—æ ‡ç­¾&lt;ul&gt;: æ— åºåˆ—è¡¨, å’Œ&lt;li&gt;æ ‡ç­¾å…±åŒæ„æˆä¸€å¥—æ ‡ç­¾&lt;table&gt;: è¡¨æ ¼æ ‡ç­¾, å®šä¹‰ä¸€ä¸ªè¡¨æ ¼ (å’Œtr, td, th ...æ„æˆæˆå¥—æ ‡ç­¾) &lt;tr&gt; : ä¸€ä¸ªè¡¨æ ¼ä¸­çš„ä¸€è¡Œ &lt;td&gt; : ä¸€è¡Œä¸­çš„ä¸€ä¸ªå•å…ƒæ ¼ è¡¨å•å…ƒç´ ï¼šè¡¨å•å…ƒç´ ä¼šæ ¹æ®å…ƒç´ å†…çš„å†…å®¹ç”Ÿæˆä¸€ä¸ªurlï¼Œå¯¹åç«¯å‘èµ·è¯·æ±‚ï¼Œå¹¶æ ¹æ®è¯·æ±‚è·å¾—å†…å®¹ã€‚ç”Ÿæˆçš„urlä¸­åˆ†ä¸ºéå‚æ•°éƒ¨åˆ†å’Œå‚æ•°éƒ¨åˆ†ï¼Œä¾‹å­å¦‚ä¸‹ï¼š 12https://s.taobao.com/search?q=é‹å­ éå‚æ•° | å‚æ•° éå‚æ•°éƒ¨åˆ†ç”±è¡¨å•å…ƒç´ çš„actionå±æ€§æä¾›ï¼Œå‚æ•°åˆ™ç”±è¡¨å•å…ƒç´ çš„å…¶ä»–å±æ€§æä¾›ã€‚ è¡¨å•å…ƒç´ ä¸­æœ‰ä¸€ä¸ªmethodå±æ€§ï¼Œå®ƒå†³å®šäº†è¡¨å•å…ƒç´ åœ¨æäº¤è¡¨å•æ—¶ä½¿ç”¨çš„HTTPæ–¹æ³•ï¼šGET&#x2F;POSTã€‚GETä¸€èˆ¬ç”¨äºè·å–æ•°æ®ï¼ŒPOSTä¸€èˆ¬ç”¨äºæäº¤æ•°æ®ï¼›GETè¯·æ±‚ä¸€èˆ¬æŠŠè¯·æ±‚å‚æ•°ç›´æ¥æ‹¼æ¥åœ¨urlä¹‹åï¼ŒPOSTè¯·æ±‚ä¸€èˆ¬æŠŠå‚æ•°æ”¾åœ¨ä¼ è¾“çš„æ­£æ–‡ä¸­ï¼›GETè¯·æ±‚ä¸å®‰å…¨ï¼ˆå¯ä»¥è¢«ç”¨æˆ·ç›´æ¥è§‚å¯Ÿåˆ°ï¼‰ï¼ŒPOSTè¯·æ±‚å®‰å…¨ã€‚ è¡¨å•å…ƒç´ æ ¹æ®è‡ªèº«çš„nameå±æ€§å’Œvalueå±æ€§ç”Ÿæˆä¸€ä¸ªé”®å€¼å¯¹æ•°æ®ï¼Œé€šè¿‡ä¼ è¾“è¯¥æ•°æ®å®Œæˆä¸åç«¯çš„äº¤äº’ã€‚ å¸¸è§è¡¨å•å…ƒç´ ï¼š 123&lt;input&gt; : å•æ ‡ç­¾, è¡¨ç¤ºä¸€ä¸ªè¾“å…¥æ¡†&lt;textarea&gt; : å¤šè¡Œæ–‡æœ¬, ç›¸å½“äºä¸€ä¸ªå¯ä»¥è¾“å…¥å¤šè¡Œå†…å®¹çš„input&lt;select&gt; : ä¸‹æ‹‰é€‰æ‹©, å’Œ&lt;option&gt; æ˜¯ä¸€å¥—æ ‡ç­¾ CSSCSSä¸»è¦ç”¨äºå¯¹HTMLçš„æ–‡æœ¬ã€å›¾ç‰‡å’Œç‰ˆé¢çš„å¸ƒå±€ç­‰æ˜¾ç¤ºæ ·å¼ã€‚ CSSé€šè¿‡é€‰æ‹©å™¨å°†HTMLä»£ç å’ŒCSSä»£ç å…³è”ã€‚é€‰æ‹©å™¨çš„ç±»å‹æœ‰æ ‡ç­¾é€‰æ‹©å™¨&#x2F;ç±»é€‰æ‹©å™¨&#x2F;idé€‰æ‹©å™¨ã€‚ 12345678910111213141516171819202122&lt;style&gt; /* æ ‡ç­¾é€‰æ‹©å™¨ */ div&#123; width: 100px; height: 100px; background: red; &#125; /* ç±»é€‰æ‹©å™¨ */ .div1&#123; width: 100px; height: 100px; background: red; color: white; font-size: 30px; &#125; /* idé€‰æ‹©å™¨ */ #div2&#123; width: 100px; height: 100px; background: #c9ffe3; &#125;&lt;/style&gt; é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§æ˜¯idé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾é€‰æ‹©å™¨ã€‚å¦‚æœå­˜åœ¨ä¸¤ä¸ªåŒä¼˜å…ˆçº§é€‰æ‹©å™¨ï¼Œä¼˜å…ˆé€‰æ‹©è¾ƒè¿‘çš„é€‰æ‹©å™¨ï¼ˆæœ¬è´¨æ˜¯HTMLçš„è§£ææ¨¡å¼ä¸ºä»ä¸Šåˆ°ä¸‹è§£æï¼‰ã€‚ ç›’å­æ¨¡å‹ï¼šä¸€ä¸ªHTMLæ ‡ç­¾åœ¨é¡µé¢ä¸Šå æ®çš„ç©ºé—´ã€‚è¿™ä¸ªç©ºé—´åˆ†ä¸ºå››ä¸ªç»“æ„ï¼šå…ƒç´ å†…å®¹åŒºåŸŸã€å†…è¾¹è·åŒºåŸŸ(padding)ã€è¾¹æ¡†åŒºåŸŸ(border)ã€å¤–è¾¹è·åŒºåŸŸ(margin)ã€‚ç›’å­æ¨¡å‹çš„ä½œç”¨æ˜¯ä½¿å¸ƒå±€æ¨¡å—åŒ–ï¼Œæ–¹ä¾¿æ•´ä¸ªå¸ƒå±€å’Œä¸ªä½“å¸ƒå±€çš„è®¾è®¡ã€‚æ ¹æ®ç›’å­æ¨¡å‹ç§ç±»çš„ä¸åŒï¼Œå¯ä»¥å°†æ ‡ç­¾å…ƒç´ åˆ†ä¸ºä¸‰ç§ï¼š å—çº§å…ƒç´ ï¼šç‹¬å ä¸€è¡Œï¼Œä»ä¸Šåˆ°ä¸‹æ’å¸ƒï¼›å¯ä»¥ç›´æ¥æ§åˆ¶å®½é«˜&#x2F;å†…å¤–è¾¹è·ï¼Œä¸€èˆ¬ç”¨äºå¤§å¸ƒå±€çš„æ­å»ºã€‚å¦‚ï¼šdivã€pã€formã€table è¡Œçº§å…ƒç´ ï¼šä¸ç‹¬å ä¸€è¡Œï¼Œä¸å…¶ä»–è¡Œçº§å…ƒç´ ä»å·¦åˆ°å³ä¸€è¡Œæ˜¾ç¤ºï¼›åªèƒ½æ§åˆ¶å†…å¤–è¾¹è·ï¼Œå®½é«˜å—æœ¬èº«å†…å®¹å¤§å°æ§åˆ¶ï¼›ä¸€èˆ¬ç”¨äºå°ç»“æ„çš„æ­å»ºã€‚å¦‚ï¼šspanã€aã€br è¡Œå†…å—ï¼šæœ¬è´¨å±äºè¡Œçº§å…ƒç´ ï¼Œä½†æ˜¯å¯ä»¥è®¾ç½®å®½é«˜ã€‚å¦‚ï¼šinputã€imgã€select JavaScriptJSæ˜¯ä¸€ç§è½»é‡çº§ã€å¼±ç±»å‹çš„è¯­è¨€ï¼Œä¸»è¦ç”¨äºåœ¨HTMLä¸­æ·»åŠ äº¤äº’è¡Œä¸ºã€‚ JSçš„å¼•å…¥æ–¹å¼æœ‰ä¸¤ç§ã€‚ä¸€ç§æ˜¯ç›´æ¥åœ¨HTMLä¸­çš„scriptæ ‡ç­¾å†…éƒ¨å¼•å…¥ï¼Œä¸€ç§æ˜¯åœ¨scriptæ ‡ç­¾çš„srcå±æ€§ä¸­å¯¼å…¥å¤–éƒ¨çš„JSæ–‡ä»¶ã€‚ ç±»å‹ï¼šç»Ÿä¸€ç”¨varå£°æ˜ï¼Œæ•°æ®ç±»å‹ç”±èµ‹å€¼ç±»å‹å†³å®šã€‚æ•°æ®ç±»å‹ä¸€èˆ¬æœ‰ï¼šNumberï¼ŒStringï¼ŒArray å‡½æ•°ï¼šä½¿ç”¨functionå£°æ˜ã€‚ DOMDOMå…¨ç§°ä¸ºæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œæ˜¯ä¸€ç§å°†HTMLæ–‡æ¡£è§†ä¸ºæ ‘ç»“æ„çš„ç†è®ºï¼Œè¿™ç§æ ‘ç»“æ„ä¹Ÿè¢«ç§°ä¸ºDOMæ ‘ã€‚ DOMæ ‘çš„èŠ‚ç‚¹æ‹¥æœ‰å±‚çº§å…³ç³»ï¼Œä»é¡¶ç«¯çš„æ–‡æ¡£èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å¾€ä¸‹æ˜¯ï¼š ç”±HTMLå…ƒç´ æ„æˆçš„å…ƒç´ èŠ‚ç‚¹ HTMLå±æ€§æ„æˆçš„å±æ€§èŠ‚ç‚¹ HTMLå…ƒç´ å†…æ–‡æœ¬æ„æˆçš„æ–‡æœ¬èŠ‚ç‚¹ æ ¹æ®DOMç†è®ºï¼Œå¯ä»¥çŸ¥é“ä¸€ä¸ªHTMLæ–‡ä»¶çš„åŠ è½½é¡ºåºï¼š è§£æHTMLç»“æ„ï¼Œæ„å»ºDOMæ ‘ åŠ è½½å¤–éƒ¨è„šæœ¬(JS)å’Œæ ·å¼è¡¨æ–‡ä»¶(CSS) è§£æå¹¶æ‰§è¡Œè„šæœ¬ä»£ç  æ„é€ DOMæ¨¡å‹ï¼Œå®Œæˆåæ ¹æ®DOMæ ‘æ˜¾ç¤ºé¡µé¢ã€‚ JSä¸­ä¸DOMç›¸å…³çš„æ“ä½œæœ‰ï¼š è·å–èŠ‚ç‚¹ï¼š document.getElementById()document.getElementsByName()document.getElementsByTagName() æ·»åŠ èŠ‚ç‚¹ï¼š document.appendChild() åˆ é™¤èŠ‚ç‚¹ï¼š document.removeChild() æ›¿æ¢èŠ‚ç‚¹ï¼š document.replaceChild()"},{"title":"Hexoç¾åŒ–è®°å½•","path":"2022/05/04/Hexoç¾åŒ–è®°å½•/","text":"ä¸€äº›Hexoç¾åŒ–æŠ€æœ¯åˆ†äº« live 2Dåœ¨gitä¸­è¾“å…¥$ npm install --save hexo-helper-live2då®‰è£…live 2Dæ’ä»¶ã€‚ åœ¨_config.ymlæ–‡ä»¶ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½® 1234567891011live2d: enable: true scriptFrom: local model: use: live2d-widget-model-haruto #æ¨¡å‹é€‰æ‹©ï¼Œä¸æ–‡ä»¶åŒ…åŒå display: position: right #æ¨¡å‹ä½ç½® width: 150 #æ¨¡å‹å®½åº¦ height: 300 #æ¨¡å‹é«˜åº¦ mobile: show: false #æ˜¯å¦åœ¨æ‰‹æœºç«¯æ˜¾ç¤º å†æ¬¡åœ¨gitä¸­è¾“å…¥npm install packagenameï¼Œpackagenameä¸ºhttps://github.com/xiazeyu/live2d-widget-modelsä¸‹çš„live 2Dæ–‡ä»¶åŒ…ã€‚ åŠ¨æ€èƒŒæ™¯åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„layout\\layout.ejsä¸­åŠ å…¥å¦‚ä¸‹ä»£ç  1234&lt;!--åŠ¨æ€çº¿æ¡èƒŒæ™¯--&gt;&lt;script type=&quot;text/javascript&quot;color=&quot;220,220,220&quot; opacity=&#x27;0.7&#x27; zIndex=&quot;-2&quot; count=&quot;200&quot; src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;&gt;&lt;/script&gt; æ³¨æ„ä¸€å®šè¦æ”¾åœ¨&lt;body&gt;ä¸­ã€‚ ç½‘é¡µæ ‡é¢˜ä¼˜åŒ–åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„source\\jsä¸­æ–°å»ºä¸€ä¸ªFunnyTitle.js æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å¡«å†™å¦‚ä¸‹ä»£ç ï¼š 12345678910111213141516var OriginTitle = document.title;var titleTime;document.addEventListener(&#x27;visibilitychange&#x27;, function () &#123; if (document.hidden) &#123; $(&#x27;[rel=&quot;icon&quot;]&#x27;).attr(&#x27;href&#x27;, &quot;/img/trhx2.png&quot;); document.title = &#x27;ãƒ½(â—-`Ğ”Â´-)ãƒä½ ä¸‘ä½ å°±èµ°ï¼&#x27;; clearTimeout(titleTime); &#125; else &#123; $(&#x27;[rel=&quot;icon&quot;]&#x27;).attr(&#x27;href&#x27;, &quot;/img/trhx2.png&quot;); document.title = &#x27;ãƒ¾(Åâˆ€Å3)ãƒä½ å¸…å°±å›æ¥ï¼&#x27; + OriginTitle; titleTime = setTimeout(function () &#123; document.title = OriginTitle; &#125;, 2000); &#125;&#125;); åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„layout\\layout.ejsä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š 12&lt;!--æµè§ˆå™¨æç¬‘æ ‡é¢˜--&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;\\js\\FunnyTitle.js&quot;&gt;&lt;/script&gt; æ›´å¤šç¾åŒ–å¯ä»¥è®¿é—®è¯¥çŸ¥ä¹æ–‡ç« ï¼šhttps://zhuanlan.zhihu.com/p/69211731"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.04.25-2022.04.30ï¼‰","path":"2022/04/30/å­¦ä¹ æ€»ç»“ï¼ˆ2022-04-25-2022-04-30ï¼‰/","text":"æ•°ç»„å’Œé“¾è¡¨æ•°ç»„æ·»åŠ çš„æ—¶é—´å¤æ‚åº¦: o(n) æ•°ç»„åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦: o(n) æ•°ç»„æŒ‰ä¸‹æ ‡æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦: o(1) æ— åºæ•°ç»„æŒ‰å€¼æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦: o(n) æœ‰åºæ•°ç»„æŒ‰å€¼æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦: o(logn) é“¾è¡¨çš„æ·»åŠ æ—¶é—´å¤æ‚åº¦: o(1) é“¾è¡¨çš„åˆ é™¤æ—¶é—´å¤æ‚åº¦: o(1) é“¾è¡¨çš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦: o(n) æ³›å‹æ³›å‹ï¼Œå°±æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œåœ¨ä¸ç¡®å®šä¼ å…¥çš„ç±»å‹æ—¶ï¼Œå¯ä»¥å…ˆè®¾ç½®ä¸€ä¸ªå‚æ•°æ¥ä»£æŒ‡ï¼ˆç±»ä¼¼äºå½¢å‚ï¼‰ã€‚ åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 123class ç±»å&lt;æ³›å‹ç±»å‹1,â€¦&gt;interface æ¥å£å&lt;æ³›å‹ç±»å‹1â€¦&gt;public &lt;æ³›å‹ç±»å‹&gt; è¿”å›ç±»å‹ æ–¹æ³•å(æ³›å‹ç±»å‹ .) å¯ä»¥å®šä¹‰å¤šä¸ªæ³›å‹ï¼Œä½†æ˜¯æœ€å¥½ä¸è¶…è¿‡ä¸¤ä¸ªï¼Œå¦‚æœéœ€è¦ä¸¤ä¸ªä»¥ä¸Šçš„æ³›å‹ï¼Œè¯´æ˜è®¾è®¡æœ‰é—®é¢˜ã€‚ åœ¨æ³›å‹ç±»ä¸Šå®šä¹‰çš„æ³›å‹ï¼Œä½œç”¨åŸŸä»…åœ¨ç±»åå’Œç±»ä½“å†…ï¼Œå³ä½¿æ˜¯å­ç±»ä¹Ÿä¸èƒ½ç»§æ‰¿ã€‚ æ³›å‹é€šé…ï¼šï¼Ÿä¸ºæ³›å‹é€šé…ç¬¦ï¼Œæ²¡æœ‰æ˜ç¡®ï¼Œå°±æ˜¯Objectä»¥åŠä»»æ„ç±»ï¼›ï¼Ÿ extends Eä¸ºå‘ä¸‹é™å®šï¼Œåªèƒ½æ˜¯EåŠå…¶å­ç±»ï¼›ï¼Ÿ super Eä¸ºå‘ä¸Šé™å®šï¼Œåªèƒ½æ˜¯EåŠå…¶çˆ¶ç±»ã€‚ æ³›å‹æ“¦é™¤ï¼šjavaä¸­çš„æ³›å‹å¹¶ä¸æ˜¯çœŸæ­£çš„æ³›å‹ï¼Œåœ¨ç¼–è¯‘ä¹‹åï¼Œæ³›å‹ä¼šå˜æˆObjectä»¥åŠç±»å‹å¼ºè½¬ï¼Œæ³›å‹åªæ˜¯é˜²æ­¢ç¨‹åºå‘˜å¯¹ç±»å‹çš„éšæ„è½¬æ¢ã€‚ çº¢é»‘æ ‘çº¢é»‘æ ‘æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„äºŒå‰æœç´¢æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰çº¢è‰²å’Œé»‘è‰²ä¸¤ç§é¢œè‰²ã€‚ å…¶ä¸­æ ¹èŠ‚ç‚¹å’Œå¶å­ï¼ˆnilï¼Œå¶å­èŠ‚ç‚¹ä¸‹çš„ç©ºèŠ‚ç‚¹ï¼‰å¿…é¡»æ˜¯é»‘è‰²ï¼›çˆ¶å­èŠ‚ç‚¹ä¸èƒ½éƒ½æ˜¯çº¢è‰²èŠ‚ç‚¹ï¼›ä»å¶å­åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ä¸Šï¼Œé»‘è‰²èŠ‚ç‚¹çš„æ•°ç›®æ˜¯ä¸€æ ·çš„ã€‚ï¼ˆé»‘é«˜å¹³è¡¡ï¼‰ çº¢é»‘æ ‘é€šè¿‡æ—‹è½¬ï¼ˆç±»ä¼¼äºäºŒå‰æœç´¢æ ‘ï¼‰å’Œåˆ†è£‚ï¼ˆç±»ä¼¼äºBæ ‘ï¼Œå‘ä¸Šå’Œå‘ä¸‹ï¼‰ä¿è¯é»‘é«˜å¹³è¡¡å’Œæ— è¿ç»­çº¢è‰²èŠ‚ç‚¹ã€‚ é›†åˆç±»CollectionCollectionæ˜¯Collectioné›†åˆä½“ç³»çš„é¡¶çº§æ¥å£ï¼Œå®šä¹‰ä¸ºä¸€ä¸ªæ•°æ®å®¹å™¨ã€‚ Collectionçš„å­å®ç°ä¸€äº›å­˜å‚¨å…ƒç´ æœ‰åºï¼Œä¸€äº›å­˜å‚¨å…ƒç´ æ— åºï¼›ä¸€äº›å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œä¸€äº›ä¸å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼›ä¸€äº›å…è®¸å­˜å‚¨nullï¼Œä¸€äº›ä¸å…è®¸å­˜å‚¨nullã€‚ APIï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// ------------------------------å¢åˆ æ”¹æŸ¥ç›¸å…³çš„api------------------------------// boolean add(E e)// ç¡®ä¿æ­¤ collection åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// boolean addAll(Collection&lt;? extends E&gt; c)// å°†æŒ‡å®š collection ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ·»åŠ åˆ°æ­¤ collection ä¸­ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// boolean contains(Object o)// å¦‚æœæ­¤ collection åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å› trueã€‚// boolean containsAll(Collection&lt;?&gt; c)// å¦‚æœæ­¤ collection åŒ…å«æŒ‡å®š collection ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œåˆ™è¿”å› trueã€‚ // boolean remove(Object o)// ä»æ­¤ collection ä¸­ç§»é™¤æŒ‡å®šå…ƒç´ çš„å•ä¸ªå®ä¾‹ï¼Œå¦‚æœå­˜åœ¨çš„è¯ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// boolean removeAll(Collection&lt;?&gt; c)// ç§»é™¤æ­¤ collection ä¸­é‚£äº›ä¹ŸåŒ…å«åœ¨æŒ‡å®š collection ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// boolean retainAll(Collection&lt;?&gt; c)// ä»…ä¿ç•™æ­¤ collection ä¸­é‚£äº›ä¹ŸåŒ…å«åœ¨æŒ‡å®š collection çš„å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚ // ---------------------------------------é›†åˆç±»éƒ½å…·æœ‰çš„è¾…åŠ©æ–¹æ³•----------------- // void clear()// ç§»é™¤æ­¤ collection ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// boolean equals(Object o)// æ¯”è¾ƒæ­¤ collection ä¸æŒ‡å®šå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚// int hashCode()// è¿”å›æ­¤ collection çš„å“ˆå¸Œç å€¼ã€‚// boolean isEmpty()// å¦‚æœæ­¤ collection ä¸åŒ…å«å…ƒç´ ï¼Œåˆ™è¿”å› trueã€‚// int size()// è¿”å›æ­¤ collection ä¸­çš„å…ƒç´ æ•°ã€‚ // ------------------------------------------ç‰¹æ®Šæ–¹æ³•--------------------------// Object[] toArray()// è¿”å›åŒ…å«æ­¤ collection ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ã€‚ // &lt;T&gt; T[] toArray(T[] a)// è¿”å›åŒ…å«æ­¤ collection ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ï¼›è¿”å›æ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹ä¸æŒ‡å®šæ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹ç›¸åŒã€‚// åªæœ‰æ•°ç»„ç±»å‹ä¸å­˜å‚¨çš„æ•°æ®ç±»å‹ç›¸åŒ¹é…ï¼Œæ‰èƒ½æ­£å¸¸è¿è¡Œï¼›å¦‚æœä¼ å…¥çš„æ•°ç»„å¤Ÿé•¿ï¼Œé‚£ä¹ˆè¿”å›çš„æ•°ç»„å’Œä¼ å…¥çš„æ•°ç»„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåä¹‹åˆ™ä¸æ˜¯ï¼›å¦‚æœä¼ å…¥çš„æ•°ç»„è¿‡é•¿ï¼Œé‚£ä¹ˆç©ºä½ä½ç½®ä¼šç½®ä¸ºnullã€‚// Iterator&lt;E&gt; iterator()// è¿”å›åœ¨æ­¤ collection çš„å…ƒç´ ä¸Šè¿›è¡Œè¿­ä»£çš„è¿­ä»£å™¨ã€‚// Iteratorç±»å‹çš„æ–¹æ³•ï¼š// hasNext(): å‘åè¿˜æœ‰æ²¡æœ‰å…ƒç´ å¯ä»¥éå†// next(): å‘åéå†// remove(): åˆ é™¤åˆšåˆšéå†è¿‡çš„å…ƒç´ ; // æ³¨æ„ï¼šjavaä¸­çš„å¢å¼ºforå¾ªç¯å°±æ˜¯ç”±iteratoræ–¹æ³•å®ç°çš„ï¼ˆæ•°ç»„ä¸ä¸€æ ·ï¼Œæ•°ç»„çš„å¢å¼ºforå¾ªç¯åœ¨ç¼–è¯‘ä¸­æ˜¯å˜æˆæ™®é€šçš„foriå¾ªç¯ï¼‰ å¹¶å‘ä¿®æ”¹å¼‚å¸¸ï¼šcollectionçš„ä¸€äº›å­å®ç°æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œåœ¨ä½¿ç”¨Iteratoréå†æ—¶ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚æ‰€ä»¥ä¸€äº›å­å®ç°ä¼šç»´æŠ¤ä¸€ä¸ªæ ‡è®°ï¼Œè®°å½•ä¿®æ”¹æ¬¡æ•°ï¼Œæ¯æ¬¡ä¿®æ”¹æ¬¡æ•°éƒ½ä¼šå¢åŠ ã€‚ Iteratorå¯¹è±¡éå†å‰ï¼Œéƒ½ä¼šæ£€æŸ¥ä¿®æ”¹æ¬¡æ•°æ˜¯å¦ä¸åŸé›†åˆç±»ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œå°±ä¼šè®¤ä¸ºæ•°æ®è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹ï¼Œä»è€ŒæŠ›å‡ºå¹¶å‘ä¿®æ”¹å¼‚å¸¸ã€‚ ä½†æ˜¯å³ä½¿åœ¨å•çº¿ç¨‹æƒ…å†µä¸‹ï¼Œå¦‚æœåœ¨éå†è¿‡ç¨‹ä¸­ç›´æ¥ä½¿ç”¨é›†åˆç±»çš„ä¿®æ”¹æ–¹æ³•ï¼Œä¹Ÿä¼šæŠ›å‡ºå¹¶å‘ä¿®æ”¹å¼‚å¸¸ã€‚æ‰€ä»¥åœ¨Iteratorå¯¹è±¡éå†æ—¶ä¸è¦ä¿®æ”¹æ•°æ®ã€‚ ListListæ˜¯Collectionçš„å­æ¥å£ï¼Œæè¿°çš„æ•°æ®ç»“æ„æ˜¯çº¿æ€§è¡¨ã€‚ Listæœ‰åºï¼Œå…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œå…è®¸å­˜å‚¨nullã€‚ APIï¼š 12345678910111213141516171819202122232425262728293031// void add(int index, E element)// åœ¨åˆ—è¡¨çš„æŒ‡å®šä½ç½®æ’å…¥æŒ‡å®šå…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚ // boolean addAll(int index, Collection&lt;? extends E&gt; c)// å°†æŒ‡å®š collection ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ’å…¥åˆ°åˆ—è¡¨ä¸­çš„æŒ‡å®šä½ç½®ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚ // E get(int index)// è¿”å›åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚ // int indexOf(Object o)// è¿”å›æ­¤åˆ—è¡¨ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ çš„ç´¢å¼•ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸åŒ…å«è¯¥å…ƒç´ ï¼Œåˆ™è¿”å› -1ã€‚ // int lastIndexOf(Object o)// è¿”å›æ­¤åˆ—è¡¨ä¸­æœ€åå‡ºç°çš„æŒ‡å®šå…ƒç´ çš„ç´¢å¼•ï¼›å¦‚æœåˆ—è¡¨ä¸åŒ…å«æ­¤å…ƒç´ ï¼Œåˆ™è¿”å› -1ã€‚// E remove(int index)// ç§»é™¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚ // E set(int index, E element)// ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// ListIterator&lt;E&gt; listIterator()// è¿”å›æ­¤åˆ—è¡¨å…ƒç´ çš„åˆ—è¡¨è¿­ä»£å™¨ï¼ˆæŒ‰é€‚å½“é¡ºåºï¼‰ã€‚// ListIterator&lt;E&gt; listIterator(int index)// è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„åˆ—è¡¨è¿­ä»£å™¨ï¼ˆæŒ‰é€‚å½“é¡ºåºï¼‰ï¼Œä»åˆ—è¡¨çš„æŒ‡å®šä½ç½®å¼€å§‹ã€‚// ListIteratorç±»å‹çš„æ–¹æ³•ï¼š// hasNext(): å‘åè¿˜æœ‰æ²¡æœ‰å…ƒç´ å¯ä»¥éå†// next(): å‘åéå†// remove(): åˆ é™¤åˆšåˆšéå†è¿‡çš„å…ƒç´ ; // hasPrevious(): å‘å‰æ˜¯å¦å¯ä»¥éå†// previous(): å‘å‰éå†// List&lt;E&gt; subList(int fromIndex, int toIndex)// è¿”å›åˆ—è¡¨ä¸­æŒ‡å®šçš„ fromIndexï¼ˆåŒ…æ‹¬ ï¼‰å’Œ toIndexï¼ˆä¸åŒ…æ‹¬ï¼‰ä¹‹é—´çš„éƒ¨åˆ†è§†å›¾ã€‚// subListå¹¶ä¸æ˜¯ä»æºé›†åˆç±»ä¸­å¤åˆ¶äº†æ•°æ®ï¼Œè€Œæ˜¯ç»´æŠ¤äº†ä¸€äº›æ ‡è®°æŒ‡å‘æºæ•°æ®ï¼Œåœ¨subListä¸Šæ“ä½œï¼Œæœ¬è´¨è¿˜æ˜¯åœ¨æ“ä½œæºæ•°æ®ã€‚// æ‰€ä»¥ä¸å»ºè®®åœ¨ä½¿ç”¨subListä¸­ä¿®æ”¹æºæ•°æ®ï¼Œå¯èƒ½æŠ›å‡ºå¹¶å‘ä¿®æ”¹å¼‚å¸¸ã€‚ ArrayListArrayListæ˜¯Listçš„å­å®ç°ï¼Œæè¿°çš„æ•°æ®ç»“æ„æ˜¯çº¿æ€§è¡¨ã€‚ å…¶åº•å±‚ç»“æ„æ˜¯æ•°ç»„ï¼Œæ•°ç»„é»˜è®¤é•¿åº¦ä¸º10ï¼Œæ‰©å®¹å€æ•°ä¸º1.5å€ã€‚ ArrayListå­˜å‚¨ç»“æ„æœ‰åºï¼Œå…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œå…è®¸å­˜å‚¨nullã€‚ ArrayListçº¿ç¨‹ä¸å®‰å…¨ã€‚ æ„é€ æ–¹æ³•ï¼š 123456// ArrayList() // æ„é€ ä¸€ä¸ªåˆå§‹å®¹é‡ä¸º 10 çš„ç©ºåˆ—è¡¨ã€‚ // ArrayList(Collection&lt;? extends E&gt; c) // æ„é€ ä¸€ä¸ªåŒ…å«æŒ‡å®š collection çš„å…ƒç´ çš„åˆ—è¡¨ï¼Œè¿™äº›å…ƒç´ æ˜¯æŒ‰ç…§è¯¥ collection çš„è¿­ä»£å™¨è¿”å›å®ƒä»¬çš„é¡ºåºæ’åˆ—çš„ã€‚ // ArrayList(int initialCapacity) // æ„é€ ä¸€ä¸ªå…·æœ‰æŒ‡å®šåˆå§‹å®¹é‡çš„ç©ºåˆ—è¡¨ã€‚ APIï¼š 123456// Object clone()// è¿”å›æ­¤ ArrayList å®ä¾‹çš„æµ…è¡¨å‰¯æœ¬ã€‚// void ensureCapacity(int minCapacity)// å¦‚æœ‰å¿…è¦ï¼Œå¢åŠ æ­¤ ArrayList å®ä¾‹çš„å®¹é‡ï¼Œä»¥ç¡®ä¿å®ƒè‡³å°‘èƒ½å¤Ÿå®¹çº³æœ€å°å®¹é‡å‚æ•°æ‰€æŒ‡å®šçš„å…ƒç´ æ•°ã€‚// void trimToSize()// å°†æ­¤ ArrayList å®ä¾‹çš„å®¹é‡è°ƒæ•´ä¸ºåˆ—è¡¨çš„å½“å‰å¤§å°ã€‚ VectorVectoræ˜¯Listçš„å­ç±»ã€‚æè¿°çš„æ•°æ®ç»“æ„æ˜¯çº¿æ€§è¡¨ã€‚ å…¶åº•å±‚ç»“æ„æ˜¯æ•°ç»„ï¼Œæ•°ç»„é»˜è®¤é•¿åº¦ä¸º10ï¼Œæ‰©å®¹å€æ•°ä¸º2å€ã€‚ Vectorå­˜å‚¨ç»“æ„æœ‰åºï¼Œå…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œå…è®¸å­˜å‚¨nullã€‚ Vectorçº¿ç¨‹å®‰å…¨ã€‚ LinkedListLinkedListæ˜¯Listçš„å­å®ç°ï¼Œä¹Ÿæ˜¯Dequeçš„å­å®ç°ã€‚æè¿°çš„æ•°æ®ç»“æ„æ˜¯çº¿æ€§è¡¨&#x2F;é˜Ÿåˆ—&#x2F;åŒç«¯é˜Ÿåˆ—&#x2F;æ ˆ å…¶åº•å±‚æ˜¯åŒå‘é“¾è¡¨ã€‚ LinkedListå­˜å‚¨ç»“æ„æœ‰åºï¼Œå…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œå…è®¸å­˜å‚¨nullã€‚ LinkedListçº¿ç¨‹ä¸å®‰å…¨ã€‚ æ„é€ æ–¹æ³•ï¼š 1234// LinkedList() // æ„é€ ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚ // LinkedList(Collection&lt;? extends E&gt; c) // æ„é€ ä¸€ä¸ªåŒ…å«æŒ‡å®š collection ä¸­çš„å…ƒç´ çš„åˆ—è¡¨ï¼Œè¿™äº›å…ƒç´ æŒ‰å…¶ collection çš„è¿­ä»£å™¨è¿”å›çš„é¡ºåºæ’åˆ—ã€‚ API: 123456789101112131415161718192021222324252627// é˜Ÿåˆ—API// boolean offer(E e)// å°†æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ ï¼‰ã€‚// E poll()// è·å–å¹¶ç§»é™¤æ­¤åˆ—è¡¨çš„å¤´ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰// E peek()// è·å–ä½†ä¸ç§»é™¤æ­¤åˆ—è¡¨çš„å¤´ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚// åŒç«¯é˜Ÿåˆ—API// boolean offerFirst(E e)// åœ¨æ­¤åˆ—è¡¨çš„å¼€å¤´æ’å…¥æŒ‡å®šçš„å…ƒç´ ã€‚// boolean offerLast(E e)// åœ¨æ­¤åˆ—è¡¨æœ«å°¾æ’å…¥æŒ‡å®šçš„å…ƒç´ ã€‚// E peekFirst()// è·å–ä½†ä¸ç§»é™¤æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚// E peekLast()// è·å–ä½†ä¸ç§»é™¤æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚// E pollFirst()// è·å–å¹¶ç§»é™¤æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚// E pollLast()// è·å–å¹¶ç§»é™¤æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚// æ ˆAPI// E pop()// ä»æ­¤åˆ—è¡¨æ‰€è¡¨ç¤ºçš„å †æ ˆå¤„å¼¹å‡ºä¸€ä¸ªå…ƒç´ ã€‚// void push(E e)// å°†å…ƒç´ æ¨å…¥æ­¤åˆ—è¡¨æ‰€è¡¨ç¤ºçš„å †æ ˆã€‚ QueueQueueæ˜¯Collectionçš„å­æ¥å£ï¼Œæè¿°çš„æ•°æ®ç»“æ„æ˜¯é˜Ÿåˆ—ã€‚ Queueå­˜å‚¨å…ƒç´ æœ‰åºï¼Œå…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œä¸å…è®¸å­˜å‚¨nullã€‚ï¼ˆå› ä¸ºQueueçš„pollæ–¹æ³•è¿”å›nullè¡¨ç¤ºé˜Ÿåˆ—æ— å…ƒç´ ï¼Œä¸ºé¿å…æ··æ·†ï¼Œæ‰€ä»¥ä¸å…è®¸å­˜å‚¨nullï¼‰ API: 123456789101112// boolean offer(E e)// åœ¨é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®// E peek()// æŸ¥çœ‹é˜Ÿå¤´å…ƒç´ // E poll()// å‡ºé˜Ÿå¤´// boolean add(E e)// æ·»åŠ æ•°æ®// E element()// æŸ¥çœ‹å¤´å…ƒç´ // E remove()// åˆ é™¤å¤´å…ƒç´  DequeDequeæ˜¯Queueæ¥å£çš„ä¸€ä¸ªå­æ¥å£ï¼Œæè¿°çš„æ•°æ®ç»“æ„æ˜¯é˜Ÿåˆ—&#x2F;åŒç«¯é˜Ÿåˆ—&#x2F;æ ˆã€‚ Dequeå­˜å‚¨å…ƒç´ æœ‰åºï¼Œå…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œä¸å…è®¸å­˜å‚¨nullã€‚ ArrayDequeArrayDequeæ˜¯Dequeæ¥å£çš„å­å®ç°ã€‚æè¿°çš„æ•°æ®ç»“æ„æ˜¯é˜Ÿåˆ—&#x2F;åŒç«¯é˜Ÿåˆ—&#x2F;æ ˆã€‚ å…¶åº•å±‚ç»“æ„æ˜¯å¾ªç¯æ•°ç»„ï¼Œæ•°ç»„é»˜è®¤é•¿åº¦ä¸º16ï¼Œæ‰©å®¹å€æ•°ä¸º2å€ã€‚ ArrayDequeå­˜å‚¨å…ƒç´ æœ‰åºï¼Œå…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼Œä¸å…è®¸å­˜å‚¨nullã€‚ ArrayDequeçº¿ç¨‹ä¸å®‰å…¨ã€‚ BlockingQueueBlockingQueueæ˜¯Queueçš„ä¸€ä¸ªå­æ¥å£ï¼Œæè¿°çš„æ•°æ®ç»“æ„æ˜¯é˜»å¡é˜Ÿåˆ—ã€‚ é˜»å¡é˜Ÿåˆ—ï¼šå¤§å°æœ‰é™çš„é˜Ÿåˆ—ï¼Œå¸¸ç”¨äºçº¿ç¨‹æ± ã€‚é˜Ÿæ»¡æ—¶ï¼Œæ·»åŠ çº¿ç¨‹ç­‰å¾…ï¼›é˜Ÿç©ºæ—¶ï¼Œåˆ é™¤çº¿ç¨‹ç­‰å¾…ã€‚ SetSetæ¥å£æ˜¯Collectionçš„ä¸€ä¸ªå­æ¥å£ï¼Œæè¿°çš„æ•°æ®ç»“æ„æ˜¯é›†åˆã€‚ Setçš„å­å®ç°ä¸€äº›æœ‰åºï¼Œä¸€äº›æ— åºï¼›éƒ½ä¸å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼›ä¸€äº›å…è®¸å­˜å‚¨nullï¼Œä¸€äº›ä¸å…è®¸å­˜å‚¨nullã€‚ HashSetHashSetæ˜¯Setæ¥å£çš„å­å®ç°ã€‚ å…¶åº•å±‚ç»“æ„æ˜¯HashMapï¼ŒHashSetæ·»åŠ çš„å¯¹è±¡å…¶å®æ˜¯HashMapçš„keyå€¼ã€‚ HashSetå­˜å‚¨å…ƒç´ æ— åºï¼›ä¸å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼›å…è®¸å­˜å‚¨nullã€‚ HashSetçº¿ç¨‹ä¸å®‰å…¨ã€‚ æ„é€ æ–¹æ³•ï¼š 12345678// HashSet() // æ„é€ ä¸€ä¸ªæ–°çš„ç©º setï¼Œå…¶åº•å±‚ HashMap å®ä¾‹çš„é»˜è®¤åˆå§‹å®¹é‡æ˜¯ 16ï¼ŒåŠ è½½å› å­æ˜¯ 0.75ã€‚ // HashSet(Collection&lt;? extends E&gt; c) // æ„é€ ä¸€ä¸ªåŒ…å«æŒ‡å®š collection ä¸­çš„å…ƒç´ çš„æ–° setã€‚ // HashSet(int initialCapacity) // æ„é€ ä¸€ä¸ªæ–°çš„ç©º setï¼Œå…¶åº•å±‚ HashMap å®ä¾‹å…·æœ‰æŒ‡å®šçš„åˆå§‹å®¹é‡å’Œé»˜è®¤çš„åŠ è½½å› å­ï¼ˆ0.75ï¼‰ã€‚ // HashSet(int initialCapacity, float loadFactor) // æ„é€ ä¸€ä¸ªæ–°çš„ç©º setï¼Œå…¶åº•å±‚ HashMap å®ä¾‹å…·æœ‰æŒ‡å®šçš„åˆå§‹å®¹é‡å’ŒæŒ‡å®šçš„åŠ è½½å› å­ã€‚ LinkedHashSetLinkedHashSetæ˜¯HashSetçš„å­ç±». å…¶åº•å±‚ç»“æ„æ˜¯LinkedHashMapã€‚ LinkedHashSetå­˜å‚¨å…ƒç´ æœ‰åºï¼›ä¸å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼›å…è®¸å­˜å‚¨nullã€‚ LinkedHashSetçº¿ç¨‹ä¸å®‰å…¨ã€‚ TreeSetTreeSetæ˜¯Setæ¥å£çš„å­å®ç°ã€‚ å…¶åº•å±‚ç»“æ„æ˜¯TreeMapã€‚ TreeSetå­˜å‚¨å…ƒç´ æœ‰åºï¼›ä¸å…è®¸å­˜å‚¨é‡å¤å…ƒç´ ï¼›ä¸å…è®¸å­˜å‚¨nullã€‚ TreeSetçº¿ç¨‹ä¸å®‰å…¨ã€‚ MapMapæ˜¯Mapé›†åˆä½“ç³»çš„é¡¶çº§æ¥å£ï¼Œå­˜å‚¨key-valueæ•°æ®ã€‚ Mapçš„å­å®ç°ä¸€äº›å­˜å‚¨å…ƒç´ æœ‰åºï¼Œä¸€äº›å­˜å‚¨å…ƒç´ æ— åºï¼›éƒ½ä¸å…è®¸å­˜å‚¨é‡å¤æ•°æ®ï¼›ä¸€äº›å…è®¸å­˜å‚¨nullï¼Œä¸€äº›ä¸å…è®¸å­˜å‚¨nullï¼ˆä»…ä»…æŒ‡keyï¼‰ APIï¼š 123456789101112131415161718192021222324252627282930313233 // -----------------------å¢åˆ æ”¹æŸ¥çš„api-------------------------// V put(K key, V value)// å°†æŒ‡å®šçš„å€¼ä¸æ­¤æ˜ å°„ä¸­çš„æŒ‡å®šé”®å…³è”ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// void putAll(Map&lt;? extends K,? extends V&gt; m)// ä»æŒ‡å®šæ˜ å°„ä¸­å°†æ‰€æœ‰æ˜ å°„å…³ç³»å¤åˆ¶åˆ°æ­¤æ˜ å°„ä¸­ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// V remove(Object key)// å¦‚æœå­˜åœ¨ä¸€ä¸ªé”®çš„æ˜ å°„å…³ç³»ï¼Œåˆ™å°†å…¶ä»æ­¤æ˜ å°„ä¸­ç§»é™¤ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// V get(Object key)// è¿”å›æŒ‡å®šé”®æ‰€æ˜ å°„çš„å€¼ï¼›å¦‚æœæ­¤æ˜ å°„ä¸åŒ…å«è¯¥é”®çš„æ˜ å°„å…³ç³»ï¼Œåˆ™è¿”å› nullã€‚// boolean containsKey(Object key)// å¦‚æœæ­¤æ˜ å°„åŒ…å«æŒ‡å®šé”®çš„æ˜ å°„å…³ç³»ï¼Œåˆ™è¿”å› trueã€‚// boolean containsValue(Object value)// å¦‚æœæ­¤æ˜ å°„å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°æŒ‡å®šå€¼ï¼Œåˆ™è¿”å› trueã€‚ // -----------------------é›†åˆç±»éƒ½æœ‰çš„api-------------------------// void clear()// ä»æ­¤æ˜ å°„ä¸­ç§»é™¤æ‰€æœ‰æ˜ å°„å…³ç³»ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚// boolean equals(Object o)// æ¯”è¾ƒæŒ‡å®šçš„å¯¹è±¡ä¸æ­¤æ˜ å°„æ˜¯å¦ç›¸ç­‰ã€‚// int hashCode()// è¿”å›æ­¤æ˜ å°„çš„å“ˆå¸Œç å€¼ã€‚// boolean isEmpty()// å¦‚æœæ­¤æ˜ å°„æœªåŒ…å«é”®-å€¼æ˜ å°„å…³ç³»ï¼Œåˆ™è¿”å› trueã€‚ // int size()// è¿”å›æ­¤æ˜ å°„ä¸­çš„é”®-å€¼æ˜ å°„å…³ç³»æ•°ã€‚ // -----------------------è§†å›¾æ–¹æ³•-------------------------// Set&lt;K&gt; keySet()// è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„é”®çš„ Set è§†å›¾ã€‚// Collection&lt;V&gt; values()// è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„å€¼çš„ Collection è§†å›¾ã€‚// Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()// è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„æ˜ å°„å…³ç³»çš„ Set è§†å›¾ã€‚ HashMapHashMapæ˜¯Mapæ¥å£çš„å…·ä½“å­å®ç°ï¼Œåº•å±‚ç»“æ„æ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ã€‚æ•°ç»„çš„é»˜è®¤åˆå§‹å®¹é‡ä¸º16ï¼Œæ‰©å®¹æœºåˆ¶ä¸º2å€ï¼Œé»˜è®¤çš„åŠ è½½å› å­ä¸º0.75ã€‚ ï¼ˆåŠ è½½å› å­ç”¨æ¥æ§åˆ¶HashMapçš„é¥±å’Œåº¦ï¼Œé»˜è®¤é˜ˆå€¼ä¸º16 * 0.75 &#x3D; 12ï¼Œå¦‚æœè¶…è¿‡12å¯¹é”®å€¼å¯¹ï¼ŒHashMapæ‰©å®¹ï¼‰ HashMapå­˜å‚¨å…ƒç´ æ— åºï¼›ä¸å…è®¸å­˜å‚¨é‡å¤çš„keyï¼›å…è®¸å­˜å‚¨nullä½œä¸ºkeyã€‚ HashMapçº¿ç¨‹ä¸å®‰å…¨ã€‚ HashMapä¸­é”®å€¼å¯¹çš„Hashå€¼è®¡ç®—ï¼š(key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16); å¦‚æœä¸€ä¸ªæ–°åŠ å…¥çš„key-valueå¯¹ï¼Œå®ƒçš„keyå€¼ä¸å·²ç»å­˜åœ¨çš„keyå€¼æ»¡è¶³hashå€¼ç›¸ç­‰ï¼Œè€Œä¸”ä¹Ÿæ»¡è¶³å€¼ç›¸ç­‰ï¼ˆ&#x3D;&#x3D;æˆ–equalsï¼‰ï¼Œè¯´æ˜keyå€¼é‡å¤ï¼Œæ­¤æ—¶ä¼šå°†æ–°valueå€¼è¦†ç›–æ‰æ—§valueå€¼ï¼Œå¹¶å°†æ—§valueå€¼è¿”å›å‡ºæ¥ã€‚ HashMapåœ¨æŸä¸€é“¾è¡¨é•¿åº¦å¤§äº8æ—¶è¿›è¡Œä»¥ä¸‹å…¶ä¸­ä¸€ç§æ“ä½œï¼šå½“æ•°ç»„é•¿åº¦å°äº64æ—¶ï¼Œä¼šæ‰©å®¹æ•°ç»„å¹¶è¿›è¡Œå†æ•£åˆ—ï¼›å½“æ•°ç»„é•¿åº¦å¤§äºç­‰äº64æ—¶ï¼Œåˆ™ä¼šå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ã€‚ HashMapåœ¨åˆ é™¤èŠ‚ç‚¹æ—¶ï¼Œå¦‚æœåˆ é™¤çš„æ˜¯çº¢é»‘æ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œä¸”è¯¥èŠ‚ç‚¹æ˜¯çº¢é»‘æ ‘çš„æ ¹èŠ‚ç‚¹&#x2F;æ ¹èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹&#x2F;æ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œæ­¤æ—¶ä¼šè®¤ä¸ºçº¢é»‘æ ‘ä¸ŠèŠ‚ç‚¹è¿‡å°‘ï¼Œä»è€Œä½¿çº¢é»‘æ ‘è½¬åŒ–ä¸ºé“¾è¡¨ï¼›HashMapåœ¨æ‰©å®¹è¿›è¡Œå†æ•£åˆ—æ—¶ï¼Œçº¢é»‘æ ‘ä¼šè¢«æ‹†åˆ†ï¼Œå¦‚æœæ‹†åˆ†åçº¢é»‘æ ‘ä¸­çš„èŠ‚ç‚¹å°äº6ä¸ªï¼Œçº¢é»‘æ ‘è½¬åŒ–ä¸ºé“¾è¡¨ã€‚ æ„é€ æ–¹æ³•ï¼š 12345678// HashMap() // æ„é€ ä¸€ä¸ªå…·æœ‰é»˜è®¤åˆå§‹å®¹é‡ (16) å’Œé»˜è®¤åŠ è½½å› å­ (0.75) çš„ç©º HashMapã€‚ // HashMap(int initialCapacity) // æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šåˆå§‹å®¹é‡å’Œé»˜è®¤åŠ è½½å› å­ (0.75) çš„ç©º HashMapã€‚ // HashMap(int initialCapacity, float loadFactor) // æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šåˆå§‹å®¹é‡å’ŒåŠ è½½å› å­çš„ç©º HashMapã€‚ // HashMap(Map&lt;? extends K,? extends V&gt; m) // æ„é€ ä¸€ä¸ªæ˜ å°„å…³ç³»ä¸æŒ‡å®š Map ç›¸åŒçš„æ–° HashMapã€‚ HashMapæ²¡æœ‰é¢å¤–çš„APIï¼ŒåŸºæœ¬ç»§æ‰¿äº†Mapæ¥å£çš„APIã€‚ LinkedHashMapLinkedHashMapæ˜¯HashMapçš„ä¸€ä¸ªå­ç±»ï¼ŒåŸºæœ¬ä¸Šå®Œå…¨å¤ç”¨äº†HashMapçš„åº•å±‚ç»“æ„å’Œæ–¹æ³•ã€‚ LinkedHashMapé¢å¤–ç»´æŠ¤äº†ä¸€ä¸ªåŒå‘é“¾è¡¨ä¿è¯è¿­ä»£é¡ºåºã€‚ LinkedHashMapå­˜å‚¨å…ƒç´ æœ‰åºï¼›ä¸å…è®¸å­˜å‚¨é‡å¤çš„keyï¼›å…è®¸å­˜å‚¨nullä½œä¸ºkeyã€‚ LinkedHashMapçº¿ç¨‹ä¸å®‰å…¨ã€‚ TreeMapTreeMapæ˜¯Mapæ¥å£çš„å­å®ç°ï¼Œæè¿°çš„æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ã€‚ å…¶åº•å±‚ç»“æ„æ˜¯é“¾è¡¨ã€‚ TreeMapå­˜å‚¨çš„å…ƒç´ æœ‰åºï¼›ä¸å…è®¸å­˜å‚¨é‡å¤çš„keyï¼›ä¸å…è®¸å­˜å‚¨nullä½œä¸ºkeyã€‚ å› ä¸ºTreeMapåº•å±‚çš„æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ï¼Œæ‰€ä»¥keyå€¼éœ€è¦æ¯”è¾ƒå¤§å°ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§å®ç°æ¯”è¾ƒçš„æ–¹å¼ï¼šå­˜å‚¨çš„keyå€¼è‡ªèº«å¯ä»¥å®ç°è‡ªç„¶æ’åºï¼›TreeMapæä¾›æ¯”è¾ƒå™¨ã€‚ æ„é€ æ–¹æ³•ï¼š 12345678// TreeMap() // ä½¿ç”¨é”®çš„è‡ªç„¶é¡ºåºæ„é€ ä¸€ä¸ªæ–°çš„ã€ç©ºçš„æ ‘æ˜ å°„ã€‚ // TreeMap(Comparator&lt;? super K&gt; comparator) // æ„é€ ä¸€ä¸ªæ–°çš„ã€ç©ºçš„æ ‘æ˜ å°„ï¼Œè¯¥æ˜ å°„æ ¹æ®ç»™å®šæ¯”è¾ƒå™¨è¿›è¡Œæ’åºã€‚ // TreeMap(Map&lt;? extends K,? extends V&gt; m) // æ„é€ ä¸€ä¸ªä¸ç»™å®šæ˜ å°„å…·æœ‰ç›¸åŒæ˜ å°„å…³ç³»çš„æ–°çš„æ ‘æ˜ å°„ï¼Œè¯¥æ˜ å°„æ ¹æ®å…¶é”®çš„è‡ªç„¶é¡ºåº è¿›è¡Œæ’åºã€‚ // TreeMap(SortedMap&lt;K,? extends V&gt; m) // æ„é€ ä¸€ä¸ªä¸æŒ‡å®šæœ‰åºæ˜ å°„å…·æœ‰ç›¸åŒæ˜ å°„å…³ç³»å’Œç›¸åŒæ’åºé¡ºåºçš„æ–°çš„æ ‘æ˜ å°„ã€‚ API: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// ------------------------TreeMapå®šä¹‰å¤§å°æ“ä½œç›¸å…³çš„api------------------------// Map.Entry&lt;K,V&gt; ceilingEntry(K key)// å¤§äºç­‰äºç»™å®škeyçš„æœ€å°é”®å€¼å¯¹// K ceilingKey(K key)// å¤§äºç­‰äºç»™å®škeyçš„æœ€å°key// Map.Entry&lt;K,V&gt; floorEntry(K key)// å°äºç­‰äºkeyçš„æœ€å¤§çš„é”®å€¼å¯¹// K floorKey(K key)// å°äºç­‰äºkeyæœ€å¤§çš„key// Map.Entry&lt;K,V&gt; higherEntry(K key)// å¤§äºç»™å®škeyçš„æœ€å°é”®å€¼å¯¹// K higherKey(K key)// å¤§äºç»™å®škeyçš„æœ€å°key// Map.Entry&lt;K,V&gt; lowerEntry(K key)// å°äºkeyçš„æœ€å¤§çš„é”®å€¼å¯¹// K lowerKey(K key)// å°äºkeyæœ€å¤§çš„key// Map.Entry&lt;K,V&gt; firstEntry()// è¿”å›æœ€å°çš„é”®å€¼å¯¹// K firstKey()// è¿”å›æœ€å°çš„key// Map.Entry&lt;K,V&gt; lastEntry()// è¿”å›æœ€å¤§çš„é”®å€¼å¯¹// K lastKey()// è¿”å›æœ€å¤§çš„key// Map.Entry&lt;K,V&gt; pollFirstEntry()// åˆ é™¤æœ€å°çš„é”®å€¼å¯¹// Map.Entry&lt;K,V&gt; pollLastEntry()// åˆ é™¤æœ€å¤§çš„é”®å€¼å¯¹// ---------------------è§†å›¾æ–¹æ³•-----------------------------// NavigableMap&lt;K,V&gt; subMap(K fromKey, boolean fromInclusive, K toKey, boolean toInclusive)// è¿”å›æ­¤æ˜ å°„çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶é”®çš„èŒƒå›´ä» fromKey åˆ° toKeyã€‚// SortedMap&lt;K,V&gt; subMap(K fromKey, K toKey)// è¿”å›æ­¤æ˜ å°„çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶é”®å€¼çš„èŒƒå›´ä» fromKeyï¼ˆåŒ…æ‹¬ï¼‰åˆ° toKeyï¼ˆä¸åŒ…æ‹¬ï¼‰ã€‚// SortedMap&lt;K,V&gt; tailMap(K fromKey)// è¿”å›æ­¤æ˜ å°„çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶é”®å¤§äºç­‰äº fromKeyã€‚// NavigableMap&lt;K,V&gt; tailMap(K fromKey, boolean inclusive)// è¿”å›æ­¤æ˜ å°„çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶é”®å¤§äºï¼ˆæˆ–ç­‰äºï¼Œå¦‚æœ inclusive ä¸º trueï¼‰fromKeyã€‚// SortedMap&lt;K,V&gt; headMap(K toKey)// è¿”å›æ­¤æ˜ å°„çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶é”®å€¼ä¸¥æ ¼å°äº toKeyã€‚// NavigableMap&lt;K,V&gt; headMap(K toKey, boolean inclusive)// è¿”å›æ­¤æ˜ å°„çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶é”®å°äºï¼ˆæˆ–ç­‰äºï¼Œå¦‚æœ inclusive ä¸º trueï¼‰toKeyã€‚ HashTableHashTableæ˜¯Mapçš„å­å®ç°ã€‚ å…¶åº•å±‚ç»“æ„æ˜¯æ•°ç»„+é“¾è¡¨ã€‚æ•°ç»„çš„åˆå§‹å®¹é‡ä¸º11ï¼Œæ‰©å®¹å€æ•°ä¸º2å€+1ã€‚ HashTableå­˜å‚¨çš„å…ƒç´ æ— åºï¼›ä¸å…è®¸å­˜å‚¨é‡å¤çš„keyï¼›ä¸å…è®¸å­˜å‚¨nullä½œä¸ºkeyï¼Œä¹Ÿä¸å…è®¸å­˜å‚¨nullä½œä¸ºvalueã€‚ HashTableçº¿ç¨‹å®‰å…¨ã€‚ StreamStreamæµæ˜¯jdk1.8æ—¶æä¾›çš„ä¸€ç§å¤„ç†é›†åˆæ•°æ®çš„æ–¹æ³•ã€‚å®ƒæä¾›ä¸€ç§å†…éƒ¨è¿­ä»£çš„æ–¹å¼ï¼Œå…è®¸æˆ‘ä»¬ç”¨å¤šä¸ªä¸­é—´æ“ä½œæ¥ä¸²è”æˆä¸€ä¸ªç®¡é“ï¼Œå¦‚åŒæµå¼é£æ ¼ï¼Œé¿å…äº†æˆ‘ä»¬åœ¨å¯¹æ•°æ®é›†åˆè¿›è¡Œæ“ä½œæ—¶å¸¦æ¥çš„ä»£ç å†—é•¿é—®é¢˜ã€‚ ä¸€ä¸ªStreamæµåŒ…æ‹¬ä¸‰ä¸ªæ¨¡å—ï¼š ä¸€ä¸ªæ•°æ®æºï¼Œåˆ›å»ºæµã€‚ å¤šä¸ªä¸­é—´æ“ä½œï¼Œå½¢æˆæµã€‚ ä¸€ä¸ªç»ˆæ­¢æ“ä½œï¼Œæ‰§è¡Œæµï¼Œç”Ÿæˆç»“æœã€‚ åˆ›å»ºæµï¼š 12Collection collection = new ArrayList();Stream stream = collection.stream(); å½¢æˆæµï¼š 12345678910111213141516171819202122232425262728293031323334353637383940 List&lt;Person&gt; personList = StudentList.personList;// filter:ç”¨äºé€šè¿‡è®¾ç½®æ¡ä»¶è¿‡æ»¤å…ƒç´  // è·å–æ‰€æœ‰åŒ—äº¬åœ°åŒºçš„åŒå­¦ List&lt;Person&gt; collect = personList.stream() .filter(d -&gt; d.getAddress().equals(Person.Address.BJ)) .collect(Collectors.toList());// distinct:å»é™¤é‡å¤å…ƒç´  // å»é™¤é‡å¤çš„åŒå­¦ List&lt;Person&gt; collect = personList.stream() .distinct() .collect(Collectors.toList());// limit:è·å–æŒ‡å®šæ•°é‡çš„å…ƒç´  // è·å–ä¸‰ä¸ªå¹´é¾„å¤§äº22å²çš„åŒå­¦ List&lt;Person&gt; collect = personList.stream() .filter(d -&gt; d.getAge() &gt; 22) .limit(3) .collect(Collectors.toList());// skip:è·³è¿‡å‰nä¸ªå…ƒç´  // è·å–å¹´é¾„å¤§äº22å²çš„åŒå­¦å¹¶è·³è¿‡ç¬¬ä¸€ä¸ª List&lt;Person&gt; collect2 = personList.stream() .filter(d -&gt; d.getAge() &gt; 22) .skip(1) .collect(Collectors.toList());// map:æ˜ å°„æ¯ä¸ªå…ƒç´ åˆ°å¯¹åº”çš„ç»“æœ // è·å–æ‰€æœ‰å­¦ç”Ÿå§“å List&lt;String&gt; collect = personList.stream() .map(a -&gt; a.getName()) .collect(Collectors.toList());// sorted:å¯¹æµè¿›è¡Œæ’åº // å¯¹é«˜äº180çš„åŒå­¦æ ¹æ®èº«é«˜è¿›è¡Œæ’åº List&lt;Person&gt; collect = personList.stream() .filter(a -&gt; a.getHeight() &gt; 180) .sorted(Comparator.comparing(Person::getHeight)) .collect(Collectors.toList()); æ‰§è¡Œæµï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// anyMatch:æ£€æŸ¥æ˜¯å¦åŒ¹é…ä¸€ä¸ªå…ƒç´  // åˆ¤æ–­æ˜¯å¦å­˜åœ¨åŒ—äº¬çš„åŒå­¦ boolean b1 = personList.stream() .anyMatch(a -&gt; &#123; return a.getAddress() == Person.Address.BJ; &#125;);// allMatch:æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´  // åˆ¤æ–­æ˜¯å¦éƒ½æ˜¯åŒ—äº¬çš„åŒå­¦ boolean b1 = personList.stream() .allMatch(a -&gt; &#123; return a.getAddress() == Person.Address.BJ; &#125;);// nonematch:æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…å…ƒç´  // åˆ¤æ–­æ˜¯å¦ä¸å­˜åœ¨æ·±åœ³çš„åŒå­¦ boolean b1 = personList.stream() .noneMatch(a -&gt; &#123; return a.getAddress() == Person.Address.SZ; &#125;);// findAny:è¿”å›ä»»æ„å…ƒç´ ï¼ˆé»˜è®¤ç¬¬ä¸€ä¸ªï¼‰ // Optionalç±»ä½œä¸ºä¸€ä¸ªå®¹å™¨ä»£è¡¨ä¸€ä¸ªå€¼å­˜åœ¨æˆ–ä¸å­˜åœ¨ï¼Œæ–¹æ³•å¦‚ä¸‹ // isPresent(): å¦‚æœ OptionalåŒ…å«å€¼è¿”å›true, å¦åˆ™è¿”å›false // ifPresent(ä»£ç å—): ä¼šå°†OptionalåŒ…å«çš„å€¼, ä¼ ç»™æŒ‡å®šçš„ä»£ç å— // get(): å¦‚æœOptionalåŒ…å«å€¼, è¿”å›åŒ…å«çš„å€¼, å¦åˆ™æŠ›å‡ºå¼‚å¸¸ // orElse(é»˜è®¤å€¼): å¦‚æœOptionalåŒ…å«å€¼, è¿”å›åŒ…å«çš„å€¼, å¦åˆ™è¿”å›é»˜è®¤å€¼ // è¿”å›ä»»æ„ä¸€ä¸ªåŒå­¦ Optional&lt;Person&gt; any = personList.stream() .findAny();// findFirst:è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  // è·å¾—å¹´é¾„æœ€å°çš„åŒå­¦ Optional&lt;Person&gt; first = personList.stream() .sorted(Comparator.comparing(Person::getAge)) .findFirst();// forEach:éå†è¾“å‡ºå…ƒç´  // éå†åˆ—è¡¨ï¼Œè¾“å‡ºå­¦ç”Ÿå§“å personList.stream() .sorted(Comparator.comparing(Person::getAge)) .forEach(a -&gt; System.out.println(a.getName()));// count:è¿”å›å…ƒç´ æ•°é‡ // åŒ—äº¬åŒå­¦çš„æ•°é‡ long count = personList.stream() .filter(a -&gt; a.getAddress() == Person.Address.BJ) .count();// reduce:è®¡ç®—å…ƒç´  // reduceæœ‰åŒå‚æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºidentityï¼Œä¸ºè®¡ç®—çš„åˆå§‹å€¼ // ç­çº§åŒå­¦å¹´é¾„æ€»å’Œ Optional&lt;Integer&gt; reduce1 = personList.stream() .map(Person::getAge) .reduce((a, b) -&gt; &#123; return a + b; &#125;);// collect:æ”¶é›†ç»“æœ // æ”¶é›†ç»“æœå¯ä»¥æ”¾è¿›Listã€Mapã€Setã€Collectionä¸­ // è·å–æ‰€æœ‰å­¦ç”Ÿå§“åï¼Œæ”¾è¿›Listä¸­ List&lt;String&gt; collect = personList.stream() .map(a -&gt; a.getName()) .collect(Collectors.toList());"},{"title":"å‰‘æŒ‡offer-day23","path":"2022/04/29/å‰‘æŒ‡offer-day23/","text":"æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—æœ€ç®€å•çš„æƒ³æ³•å½“ç„¶æ˜¯ç”¨å“ˆå¸Œè¡¨æˆ–è€…æ’åºï¼Œä½†æ˜¯æœ€ä¼˜è§£æ˜¯ä¸€ä¸ªç®—æ³•ï¼Œå«æ‘©å°”æŠ•ç¥¨æ³•ã€‚ ç®—æ³•çš„å¤§è‡´æ€æƒ³æ˜¯ï¼šè®°å½•ä¸€ä¸ªæŠ•ç¥¨æ•°ï¼Œä¸ä¼—æ•°ç›¸åŒåˆ™æŠ•ç¥¨æ•°+1ï¼Œå¦åˆ™-1ã€‚å› ä¸ºä¼—æ•°çš„æ•°é‡è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œé‚£ä¹ˆç»Ÿè®¡æ•´ä¸ªæ•°ç»„çš„æŠ•ç¥¨æ•°ä¼šå¤§äº0ã€‚çŸ¥é“è¿™ä¸ªè§„å¾‹åï¼Œå”¯ä¸€çš„é—®é¢˜æ˜¯æ€ä¹ˆç¡®å®šä¸€ä¸ªæ•°æ˜¯ä¼—æ•°ã€‚é‚£ä¹ˆå°±æ¶‰åŠåˆ°äº†ç¬¬äºŒä¸ªè§„å¾‹ï¼šæ•°ç»„ä¸­çš„æŸéƒ¨åˆ†çš„æŠ•ç¥¨æ•°æ€»å’Œä¸º0ï¼Œå¹¶ä¸ä¼šå½±å“æ•´ä½“çš„ç¥¨æ•°ã€‚ç°åœ¨å¯ä»¥å‡è®¾æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä¼—æ•°ï¼Œå‘åéå†ï¼Œé‡åˆ°ç›¸åŒçš„æ•°æ—¶ç¥¨æ•°+1ï¼Œå¦åˆ™-1ï¼Œå¦‚æœé‡åˆ°ç¥¨æ•°ä¸º0çš„æƒ…å†µï¼Œåˆ™æ”¾å¼ƒè¿™ä¸€å—çš„éå†æƒ…å†µï¼Œè½¬è€Œè®¾ç½®ä¸‹ä¸€ä¸ªæ•°ä¸ºä¼—æ•°â€¦ç›´åˆ°éå†å®Œæˆï¼Œæ­¤æ—¶ç¥¨æ•°ä¸€å®šå¤§äº0ï¼ŒæŒ‡å‘çš„æ•°å³ä¸ºä¼—æ•°ã€‚ 123456789101112131415161718192021class Solution &#123; public int majorityElement(int[] nums) &#123; int vote = 0; int x = 0; for(int num : nums)&#123; // å½“ç¥¨æ•°ä¸º0æ—¶ï¼Œå‡è®¾éå†è‡³æ­¤çš„æ•°ä¸ºä¼—æ•° if(vote == 0)&#123; x = num; &#125; // å¦‚æœåç»­éå†çš„æ•°ä¸è¯¥æ•°ç›¸ç­‰ï¼Œç¥¨æ•°+1ï¼Œå¦åˆ™-1 if(x == num)&#123; vote++; &#125; else&#123; vote--; &#125; &#125; // è¿”å›æœ€åæŒ‡å‘çš„æ•° return x; &#125;&#125; æ„å»ºä¹˜ç§¯æ•°ç»„æç¤ºäº†æ— æ³•ä½¿ç”¨é™¤æ³•ï¼Œé‚£ä¹ˆåªèƒ½ä½¿ç”¨ä¹˜æ³•ï¼Œæœ€ä¼˜è§£é€‰æ‹©çš„æ–¹å¼æ˜¯å¯¹åŸæ•°ç»„éå†ä¸¤éï¼šç¬¬ä¸€éåªç´¯ä¹˜åœ¨è‡ªå·±ä¹‹å‰çš„æ•°ï¼Œç¬¬äºŒéåˆ™ç´¯ä¹˜åœ¨è‡ªå·±ä¹‹åçš„æ•°ï¼Œè¿™æ ·å°±å¾—åˆ°ç­”æ¡ˆäº†ã€‚ 1234567891011121314151617181920212223class Solution &#123; public int[] constructArr(int[] a) &#123; // ç‰¹æ®Šæƒ…å†µï¼šaä¸ºç©ºæ•°ç»„ï¼Œè¿”å›ç©ºæ•°ç»„ if(a.length == 0)&#123; return new int[0]; &#125; int[] b = new int[a.length]; // å› ä¸ºç¬¬ä¸€ä¸ªæ•°åªæœ‰è‡ªå·±ä¹‹åçš„æ•°çš„ç´¯ä¹˜ï¼Œæ‰€ä»¥å°†bçš„ç¬¬ä¸€ä¸ªæ•°ç½®ä¸º1 b[0] = 1; // éå†ç¬¬ä¸€éï¼Œb[i]çš„å€¼éƒ½æ˜¯åœ¨è‡ªå·±ä¹‹å‰çš„æ•°çš„ç´¯ä¹˜ for(int i = 1; i &lt; a.length; i++)&#123; b[i] = b[i - 1] * a[i - 1]; &#125; // è®°å½•ä¸€ä¸ªä¸´æ—¶å€¼ï¼Œç”¨æ¥è®°å½•b[i]ä¹‹åçš„æ•°çš„ç´¯ä¹˜ int tmp = 1; // å› ä¸ºæœ€åä¸€ä¸ªæ•°åªæœ‰è‡ªå·±ä¹‹å‰çš„æ•°çš„ç´¯ä¹˜ï¼Œä¹‹å‰å·²ç»è®¡ç®—å®Œæ¯•ï¼Œæ‰€ä»¥ä»å€’æ•°ç¬¬äºŒä¸ªæ•°å¼€å§‹ for(int i = a.length - 2; i &gt;= 0; i--)&#123; tmp *= a[i + 1]; b[i] *= tmp; &#125; return b; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day22","path":"2022/04/28/å‰‘æŒ‡offer-day22/","text":"æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°â… è¯´å®è¯ï¼Œä½è¿ç®—æ–¹é¢çš„ç®—æ³•çœŸçš„å¾ˆéš¾æƒ³ï¼ŒåŸºæœ¬éƒ½è¦é åˆ«äººçš„æ€è·¯ï¼Œä»£ç è™½ç„¶ç®€æ´ä½†æ˜¯å¾ˆéš¾çœ‹æ‡‚ã€‚ è¿™é“é¢˜ç›®éå¸¸åƒåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œä½†æ˜¯åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—å˜æˆäº†ä¸¤ä¸ªï¼Œè¿™è¯´æ˜åŸæ¥éå†å¹¶å¼‚æˆ–çš„æ€è·¯è¡Œä¸é€šäº†ï¼Œä½†æ˜¯è¿™ä¸ªæ€è·¯æ˜¯ä¸ªå‡ºå‘ç‚¹ã€‚åœ¨éå†å¹¶å¼‚æˆ–åï¼Œå°±å¯ä»¥è·å¾—ä¸¤ä¸ªä¸åŒçš„æ•°å¼‚æˆ–çš„å€¼ï¼Œç”±äºå¼‚æˆ–çš„ç‰¹æ€§ï¼ˆä¸€è€…ä¸º0ä¸€è€…ä¸º1ï¼Œç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0ï¼‰ï¼Œå¯ä»¥ç¡®å®šåœ¨ç»“æœçš„äºŒè¿›åˆ¶ä¸­ï¼Œæœ€ä½ä½çš„1æ‰€åœ¨çš„ä½ï¼Œåœ¨ä¸¤ä¸ªæ•°ä¸­åˆ†åˆ«æ˜¯1å’Œ0ï¼Œé‚£ä¹ˆå¯ä»¥æ ¹æ®è¿™ä¸ªçº¿ç´¢å°†æ•°ç»„åˆ†æˆä¸¤ä¸ªï¼Œä¸€ä¸ªåœ¨è¯¥ä½å…¨æ˜¯1ï¼Œå¦ä¸€ä¸ªåˆ™å…¨æ˜¯0ï¼Œè€Œä¸”ç›¸åŒçš„æ•°ï¼Œå®ƒä»¬åœ¨è¯¥ä½çš„æ•°ä¸€å®šç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°ç»„ä¸­å°±æ˜¯æ•°å¯¹ç›¸åŒçš„æ•°å’Œä¸€ä¸ªä¸åŒçš„æ•°ï¼Œå¯¹è¿™ä¸¤ä¸ªæ•°ç»„è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¾—å‡ºæ¥çš„å°±æ˜¯ç»“æœäº†ã€‚ 1234567891011121314151617181920212223242526272829class Solution &#123; public int[] singleNumbers(int[] nums) &#123; int sum = 0; // è·å¾—æ•´ä¸ªæ•°ç»„å¼‚æˆ–åçš„å€¼ for(int i : nums)&#123; sum ^= i; &#125; int n = 1; // ç»“æœè·Ÿ1è¿›è¡Œä¸è¿ç®—ï¼Œç­‰äº0è¯´æ˜ç»“æœçš„å€’æ•°ç¬¬ä¸€ä½æ˜¯0ï¼Œnå·¦ç§»ä¸€ä½è®©1ä»æœ€ä½ä½ç§»åˆ°å€’æ•°ç¬¬äºŒä½ï¼Œé‡å¤è‡³æ‰¾åˆ°ç¬¬ä¸€ä¸ªå’Œç»“æœè¿›è¡Œä¸è¿ç®—çš„å€¼ä¸º1çš„nï¼Œæ­¤æ—¶nå°±æ˜¯ç»“æœé‡Œæœ€ä½ä½ä¸º1ï¼Œå…¶ä»–ä½ä¸º0çš„å€¼ã€‚ while((sum &amp; n) == 0)&#123; n &lt;&lt;= 1; &#125; int x = 0; int y = 0; // æ ¹æ®næ¥å¯¹æ•°ç»„é‡Œæ¯ä¸ªæ•°è¿›è¡Œä¸è¿ç®—ï¼Œæ•°çš„äºŒè¿›åˆ¶åœ¨è¯¥ä½ä¸º0å’Œåœ¨è¯¥ä½ä¸º1çš„å€¼åˆ†æˆä¸¤ç»„ï¼Œå¯¹è¿™ä¸¤ç»„åˆ†åˆ«è¿›è¡Œå¼‚æˆ–è¿ç®— for(int i : nums)&#123; if((i &amp; n) != 0)&#123; x ^= i; &#125; else&#123; y ^= i; &#125; &#125; int[] res = &#123;x,y&#125;; return res; &#125;&#125; æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°â…¡è¿™é“é¢˜ç›®çš„æœ€ä¼˜è§£å¼•å…¥äº†ä¸€ä¸ªç®—æ³•ï¼Œå«æœ‰é™çŠ¶æ€è½¬æ¢æœºï¼Œä½†æ˜¯æˆ‘çœ‹ä¸æ‡‚è¿™ä¸ªç®—æ³•ï¼Œåªèƒ½ä½œç½¢ï¼Œç›´æ¥èƒŒä»£ç ç®—äº†ã€‚ 123456789101112// çœ‹ä¸æ‡‚class Solution &#123; public int singleNumber(int[] nums) &#123; int one = 0; int two = 0; for(int i : nums)&#123; one = one ^ i &amp; ~two; two = two ^ i &amp; ~one; &#125; return one; &#125;&#125; å…¶å®é¢˜ç›®å¹¶æ²¡æœ‰é™åˆ¶o(n)æ—¶é—´å’Œo(1)ç©ºé—´ï¼Œå®Œå…¨æ˜¯å¯ä»¥ç”¨hashmapåšçš„ã€‚"},{"title":"å‰‘æŒ‡offer-day21","path":"2022/04/27/å‰‘æŒ‡offer-day21/","text":"åé¢å¼€å§‹æ¶‰åŠä½è¿ç®—ä¸æ•°å­¦çŸ¥è¯†äº†ï¼Œç”±äºè¿™æ–¹é¢æ¯”è¾ƒè–„å¼±ï¼Œé¢˜ç›®åŸºæœ¬éƒ½æ˜¯ä¸ä¼šåšçš„ï¼Œå°±ç›´æ¥çœ‹ç­”æ¡ˆå§ï¼Œäº‰å–æŠŠç­”æ¡ˆçœ‹æ‡‚å°±è¡Œã€‚ äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°æœ€ç®€å•çš„æƒ³æ³•å°±æ˜¯æŠŠäºŒè¿›åˆ¶è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œéå†å¾—åˆ°1çš„ä¸ªæ•°ï¼Œå½“ç„¶è¿™ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæœ€ä¼˜è§£æ˜¯å¯¹æ¯ä¸€ä½çš„æ•°å’Œ1è¿›è¡Œä¸è¿ç®—ï¼ˆä¸è¿ç®—ï¼Œå³åªæœ‰åœ¨ä¸¤æ•°éƒ½æ˜¯1æ—¶æ‰è¿”å›1ï¼Œå…¶ä½™å¯èƒ½éƒ½è¿”å›0ï¼‰ï¼Œå½“è¿”å›å€¼æ˜¯1ï¼Œè¯´æ˜è¯¥ä½ä½æ•°æ˜¯1ï¼Œå¯¹è®¡ç®—æ€»å’Œ+1ï¼Œå¦åˆ™+0ã€‚ç„¶åå†å°†äºŒè¿›åˆ¶æ•°å¾€å³ç§»1ä½ï¼Œä¸€ç›´ç§»è‡³nçš„æ‰€æœ‰ä½æ•°éƒ½ä¸º0ï¼ˆå³æ•°çš„åè¿›åˆ¶ä¸º0ï¼‰å³å¯ã€‚ï¼ˆjavaä¸­ï¼Œ&gt;&gt; æ˜¯å³ç§»ä½æ•°çš„æ„æ€ï¼Œåé¢è·Ÿçš„å€¼æ˜¯å³ç§»å‡ ä½çš„æ„æ€ï¼Œè€Œ &gt;&gt;&gt; åˆ™æ˜¯å³ç§»çš„åŒæ—¶åœ¨ç¼ºå¤±çš„é«˜ä½è¡¥0ï¼‰ã€‚ 1234567891011public class Solution &#123; // you need to treat n as an unsigned value public int hammingWeight(int n) &#123; int res = 0; while(n != 0)&#123;// å½“n=0æ—¶ï¼Œè·³å‡ºå¾ªç¯ res += (n &amp; 1);// resç´¯åŠ nå’Œ1è¿›è¡Œä¸è¿ç®—çš„ç»“æœ n &gt;&gt;&gt;= 1;// nå³ç§»1ä½ï¼Œé«˜ä½è¡¥0 &#125; return res; &#125;&#125; ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•é¢˜ç›®æ‘†æ˜äº†è¦ç”¨ä½è¿ç®—ï¼Œæœ€ä¼˜è§£æ˜¯é€šè¿‡è§‚å¯ŸåŠ æ³•çš„è§„å¾‹æ¥å¾—å‡ºä½è¿ç®—çš„è§£å†³æ–¹æ¡ˆã€‚ è§‚å¯Ÿå¾—çŸ¥ï¼Œå½“ä½æ•°éƒ½æ˜¯0æ—¶ï¼Œå®ƒä»¬çš„å’Œæ˜¯0ï¼Œè¿›ä½æ˜¯0ï¼›å½“ä½æ•°æœ‰ä¸€ä¸ªæ˜¯1æ—¶ï¼Œå®ƒä»¬çš„å’Œæ˜¯1ï¼Œè¿›ä½æ˜¯0ï¼›å½“ä½æ•°éƒ½æ˜¯1æ—¶ï¼Œå®ƒä»¬çš„å’Œæ˜¯0ï¼Œè¿›ä½æ˜¯1ã€‚å¯ä»¥å‘ç°å’Œçš„è®¡ç®—è·Ÿå¼‚æˆ–è¿ç®—æ˜¯ä¸€æ ·çš„ï¼ˆå¼‚æˆ–è¿ç®—ï¼Œå³æ˜¯å½“ä¸¤æ•°ä¸ç›¸åŒæ—¶ï¼Œè¿”å›å€¼ä¸º1ï¼Œä¸¤æ•°ç›¸åŒåˆ™è¿”å›0ï¼‰ï¼Œè¿›ä½çš„è®¡ç®—è·Ÿä¸è¿ç®—åæ˜¯ä¸€æ ·çš„ã€‚é‚£ä¹ˆåŠ æ³•å¯ä»¥æ¢ç®—æˆå’Œä¸è¿›ä½çš„å’Œï¼ˆå…¶ä¸­è¿›ä½éœ€è¦å·¦ç§»ä¸€ä½ï¼Œè¿™æ ·æ‰èƒ½ä½“ç°è¿›ä½ï¼‰ã€‚ 12345678910class Solution &#123; public int add(int a, int b) &#123; while(b != 0) &#123; // å½“è¿›ä½ä¸º 0 æ—¶è·³å‡º int c = (a &amp; b) &lt;&lt; 1; // c = è¿›ä½ a ^= b; // a = éè¿›ä½å’Œ b = c; // b = è¿›ä½ &#125; return a; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day20","path":"2022/04/26/å‰‘æŒ‡offer-day20/","text":"é‡å»ºäºŒå‰æ ‘åˆæ˜¯ä¸€é“çŸ¥é“æ€è·¯ä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆå®ç°çš„é¢˜ç›®ï¼Œç›´æ¥æ”¾ç­”æ¡ˆå§ã€‚ 12345678910111213141516171819202122232425262728293031/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; int[] preorder; Map&lt;Integer, Integer&gt; inorderMap = new HashMap&lt;&gt;(); public TreeNode buildTree(int[] preorder, int[] inorder) &#123; this.preorder = preorder; for(int i = 0; i &lt; inorder.length; i++)&#123; inorderMap.put(inorder[i], i); &#125; return recur(0, 0, inorder.length - 1); &#125; public TreeNode recur(int root, int left, int right)&#123; if(left &gt; right)&#123;// å‘ç”Ÿè¶Šç•Œï¼Œè¿”å›null return null; &#125; int i = inorderMap.get(preorder[root]);// è·å¾—æ ¹èŠ‚ç‚¹åœ¨ä¸­åºåºåˆ—çš„ä¸‹æ ‡ TreeNode node = new TreeNode(preorder[root]);// æ–°å»ºæ ¹èŠ‚ç‚¹ node.left = recur(root + 1, left, i-1);// æ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹è¿æ¥é€’å½’ç”Ÿæˆçš„å·¦å­æ ‘ node.right = recur(root + 1 + i - left, i+1, right);// å³èŠ‚ç‚¹è¿æ¥é€’å½’ç”Ÿæˆçš„å³å­æ ‘ return node; &#125;&#125; æ•°å€¼çš„æ•´æ¬¡æ–¹å¦‚æœç”¨ç®€å•çš„è¿­ä»£ä¼šè¶…æ—¶ï¼Œå°±æ˜¯æ‘†æ˜äº†ä¸å‡†ç”¨è¿­ä»£ï¼Œæ­£ç¡®çš„æ–¹å¼æ˜¯ç”¨å˜åŒ–çš„äºŒåˆ†æ³•ï¼Œæ¯æ¬¡å°†å¹‚æ•°æŠ˜åŠï¼Œå°†è¦ç´¯ä¹˜çš„æ•°æ¢æˆè¯¥æ•°çš„äºŒæ¬¡æ–¹ï¼Œå¦‚æœå¹‚æ•°æ˜¯å¥‡æ•°çš„è¯å°±æŠŠå¤šå‡ºæ¥çš„ä¸€ä¸ªæ•°ä¹˜è¿›è¿”å›å€¼é‡Œã€‚ 123456789101112131415161718class Solution &#123; public double myPow(double x, int n) &#123; double res = 1; long b = n;// ç”¨longæ¥æ¥intå€¼ï¼Œé˜²æ­¢è´Ÿæ•°è½¬æ­£æ•°æ—¶å‘ç”Ÿæº¢å‡º if(b &lt; 0)&#123;// å¹‚æ•°å°äº0ï¼Œåº•æ•°è¦å˜ä¸ºåˆ†æ•° b = -b; x = 1 / x; &#125; while(b &gt; 0)&#123; if(b % 2 == 1)&#123;// å¹‚æ•°ä¸ºå¥‡æ•°ï¼Œå°†å¤šå‡ºçš„æ•°æ”¾å…¥ç­”æ¡ˆ res *= x; &#125; x *= x;// åº•æ•°å˜æˆå¹³æ–¹ b /= 2;// å¹‚æ•°å˜ä¸ºä¸€åŠï¼Œå‘ä¸‹å–æ•´ &#125; return res; &#125;&#125; äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—å®Œå…¨ä¸ä¼šï¼Œç›´æ¥æ”¾ç­”æ¡ˆã€‚ 1234567891011121314151617class Solution &#123; public boolean verifyPostorder(int[] postorder) &#123; // ç”¨æ ˆå­˜å‚¨å€’åºçš„ååºéå†ï¼Œå³æ˜¯â€œæ ¹ï¼Œå³ï¼Œå·¦â€çš„é€†åºå…ˆåºéå† Stack&lt;Integer&gt; stack = new Stack&lt;&gt;(); int root = Integer.MAX_VALUE; for(int i = postorder.length - 1; i &gt;= 0; i--) &#123; // å› ä¸ºæŒ‰ç…§éå†é€»è¾‘å½“å‰èŠ‚ç‚¹ä¸€å®šæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œå¦‚æœå‡ºç°å·¦å­©å­çš„å€¼å¤§äºçˆ¶èŠ‚ç‚¹ï¼Œè¯´æ˜ä¸æ˜¯ååºéå†åºåˆ—ï¼Œè¿”å›false if(postorder[i] &gt; root) return false; // å¦‚æœæ ˆé¡¶å¤§äºå½“å‰èŠ‚ç‚¹ï¼Œè¯´æ˜æ ˆå†…æœ‰å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå‡ºæ ˆè‡³æ ˆç©ºï¼Œæ ˆåº•ä¸ºçˆ¶èŠ‚ç‚¹ while(!stack.isEmpty() &amp;&amp; stack.peek() &gt; postorder[i]) root = stack.pop(); // å½“å‰èŠ‚ç‚¹å‹æ ˆ stack.add(postorder[i]); &#125; return true; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day19","path":"2022/04/25/å‰‘æŒ‡offer-day19/","text":"æ±‚1+2+â€¦+næ„Ÿè§‰æœ¬è´¨ä¸Šæ˜¯ä¸€é“è„‘ç­‹æ€¥è½¬å¼¯é¢˜ç›®ï¼Œå› ä¸ºè¿­ä»£å’Œé€’å½’çš„æ–¹å¼éƒ½è¢«é”æ­»äº†ï¼Œåªèƒ½å¦è¾Ÿè¹Šå¾„å®Œæˆï¼Œç­”æ¡ˆç”¨çš„æ˜¯é€»è¾‘è¿ç®—ç¬¦çš„çŸ­è·¯ï¼Œä¹Ÿè§åˆ°æœ‰äººç”¨å¼‚å¸¸çš„ï¼Œæˆ‘æ²¡æœ‰æƒ³å‡ºæ¥ï¼Œå°±ä»¥ç­”æ¡ˆä¸ºæ ‡å‡†å§ã€‚ 123456789class Solution &#123; int res = 0; public int sumNums(int n) &#123; // è¿ç”¨é€»è¾‘è¿ç®—ç¬¦çŸ­è·¯ï¼Œé€’å½’è‡³n=1æ—¶å‘ç”ŸçŸ­è·¯ï¼Œåé¢çš„é€’å½’è®¡ç®—ç»ˆæ­¢ boolean x = n &gt; 1 &amp;&amp; sumNums(n-1) &gt; 0; res += n; return res; &#125;&#125; äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆè‡ªå·±æƒ³å‡ºæ¥äº†é€’å½’ï¼Œç­”æ¡ˆç»™çš„æœ€ä¼˜è§£æ˜¯è¿­ä»£ï¼Œä½†æ˜¯å®é™…å®éªŒè¿‡å‘ç°ä¸¤è€…å¹¶æ²¡æœ‰å·®åˆ«ï¼Œé‚£å°±æ”¾è‡ªå·±çš„ç­”æ¡ˆå§ã€‚ å› ä¸ºæ˜¯äºŒå‰æœç´¢æ ‘ï¼Œå¯ä»¥åˆ©ç”¨æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦åœ¨ä¸€ä¾§ï¼Œåœ¨å“ªä¸€ä¾§åˆ™å¾€å“ªè¾¹éå†ï¼Œå¦åˆ™å°±è¿”å›å½“å‰çš„æ ¹èŠ‚ç‚¹ã€‚ 12345678910111213141516171819202122/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) &#123; // åœ¨å·¦å­æ ‘å¾€å·¦éå†ï¼Œåœ¨å³å­æ ‘å¾€å³éå† if(root.val &gt; p.val &amp;&amp; root.val &gt; q.val)&#123; return lowestCommonAncestor(root.left,p,q); &#125; else if(root.val &lt; p.val &amp;&amp; root.val &lt; q.val)&#123; return lowestCommonAncestor(root.right,p,q); &#125; // ä¸¤è¾¹å„ä¸€ä¸ªè¿”å›å½“å‰æ ¹èŠ‚ç‚¹ return root; &#125;&#125; äºŒå‰æ ‘çš„æœ€è¿‘ç¥–å…ˆç›¸æ¯”ä¸Šé¢˜å°‘äº†ä¸€ä¸ªæœç´¢æ ‘çš„æ¡ä»¶ï¼Œæ˜¾ç„¶å˜éš¾äº†ï¼Œè‡ªå·±å†™çš„æ˜¯é€’å½’+éå†ï¼Œæœ‰å¾ˆé«˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ€ä¼˜è§£åªä½¿ç”¨äº†é€’å½’ã€‚ 1234567891011121314class Solution &#123; public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) &#123; // é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šrootä¸ºç©ºï¼Œæˆ–rootä¸ºpã€qä¸­çš„ä¸€ä¸ª if(root == null || root == p || root == q) return root; // é€’å½’éå†æ ¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼Œè¿”å›nullã€pæˆ–q TreeNode left = lowestCommonAncestor(root.left, p, q); TreeNode right = lowestCommonAncestor(root.right, p, q); // leftä¸ºç©ºè¡¨ç¤ºpã€qéƒ½åœ¨å³å­æ ‘ï¼Œè¿”å›å³å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œåä¹‹åŒç† if(left == null) return right; if(right == null) return left; // ä¸¤è€…éƒ½ä¸ä¸ºç©ºè¡¨ç¤ºpã€qåœ¨å¼‚ä¾§ï¼Œç›´æ¥è¿”å›æ ¹èŠ‚ç‚¹ return root; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day18","path":"2022/04/25/å‰‘æŒ‡offer-day18/","text":"äºŒå‰æ ‘çš„æ·±åº¦ç¬¬ä¸€é“è‡ªå·±å†™å‡ºæ¥çš„æ ‘é¢˜ï¼å¯ä»¥è¯´éå¸¸å…·æœ‰çºªå¿µæ„ä¹‰äº†ï¼Œæ—¶ç©ºå¤æ‚åº¦ä¹Ÿä¸è¾“æœ€ä¼˜è§£ï¼Œè‡ªè±ªåœ°æ”¾ä¸Šè‡ªå·±çš„è§£ã€‚ 12345678910111213141516171819202122232425262728293031323334/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; int depth; int max; public int maxDepth(TreeNode root) &#123; if(root == null)&#123; return 0; &#125; depth = 0; max = 0; preorder(root); return max; &#125; public void preorder(TreeNode root)&#123;// å‰åºéå† depth++;// éå†è¯¥èŠ‚ç‚¹ï¼Œæ·±åº¦+1 if(root == null)&#123;// è‹¥èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜åˆ°è¾¾å¶èŠ‚ç‚¹ï¼Œæ·±åº¦-1å¹¶è®°å½•æ­¤æ—¶çš„æœ€å¤§æ·±åº¦ depth--; max = Math.max(max,depth); return; &#125; preorder(root.left);// é€’å½’éå†å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ preorder(root.right); depth--;// éå†å®Œæˆï¼Œæ·±åº¦-1 &#125;&#125; å¹³è¡¡äºŒå‰æ ‘åŠå†™åŠæŠ„å®Œæˆçš„ï¼Œç”¨çš„æ˜¯ä»ä¸Šåˆ°ä¸‹çš„é€’å½’ï¼Œç„¶è€Œå¹¶ä¸æ˜¯æœ€ä¼˜è§£ï¼Œæœ€ä¼˜è§£æ˜¯ä»ä¸‹åˆ°ä¸Šçš„é€’å½’+å‰ªæã€‚ä½¿ç”¨ååºéå†ä»å¶å­èŠ‚ç‚¹å¾€ä¸Šéå†ï¼Œæ¯æ¬¡éå†æ—¶çœ‹ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œå¦‚æœæ˜¯åˆ™è¿”å›è¯¥å­æ ‘çš„é«˜åº¦ï¼Œå¦åˆ™è¿”å›-1ï¼Œè¡¨ç¤ºè¯¥æ ‘ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚ 123456789101112131415161718class Solution &#123; public boolean isBalanced(TreeNode root) &#123; return recur(root) != -1; &#125; private int recur(TreeNode root) &#123;// è¿”å›å¹³è¡¡äºŒå‰æ ‘çš„é«˜åº¦ï¼Œä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘åˆ™è¿”å›-1 if (root == null) return 0;// éå†è‡³å¶å­èŠ‚ç‚¹ï¼Œè¿”å›é«˜åº¦ä¸º0 // éå†å·¦å³å­æ ‘ï¼Œå¦‚æœå·¦å³å­æ ‘ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œè¿”å›-1 int left = recur(root.left); if(left == -1) return -1; int right = recur(root.right); if(right == -1) return -1; // å¦‚æœå·¦å³å­æ ‘çš„é«˜åº¦å·®&lt;2,è¡¨ç¤ºæ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œè¿”å›è¯¥æ ¹èŠ‚ç‚¹çš„é«˜åº¦ï¼Œå¦åˆ™è¿”å›-1 return Math.abs(left - right) &lt; 2 ? Math.max(left, right) + 1 : -1; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day17","path":"2022/04/23/å‰‘æŒ‡offer-day17/","text":"æœ€å°çš„kä¸ªæ•°éå¸¸ç®€å•çš„é¢˜ç›®ï¼Œå¦‚æœåˆ©ç”¨Arrays.sort()åŸºæœ¬ç­‰äºç™½ç»™ï¼Œå¯æ˜¯è¿™å°±æ˜¯æ˜ç€è€ƒä½ æ’åºç®—æ³•çš„ã€‚æˆ‘è‡ªå·±æ‰‹åŠ¨å†™äº†ä¸€ä¸ªå¿«æ’ï¼Œè™½ç„¶è¿˜æ˜¯ä¸å¤ªç†Ÿæ‚‰ï¼Œå¤šå†™å†™å°±å¥½äº†ã€‚ æœ€ä¼˜è§£æ˜¯åˆ©ç”¨å¿«æ’çš„ç‰¹ç‚¹ï¼Œåœ¨åŸºå‡†å€¼å·¦è¾¹çš„æ•°éƒ½å°äºåŸºå‡†å€¼ï¼Œå½“åŸºå‡†å€¼çš„ä¸‹æ ‡ä¸ºkæ—¶ï¼Œå·¦è¾¹åˆ™æ˜¯ç­”æ¡ˆäº†ã€‚ 1234567891011121314151617181920212223242526class Solution &#123; public int[] getLeastNumbers(int[] arr, int k) &#123; if (k &gt;= arr.length)&#123;// ç‰¹æ®Šå€¼è¿”å›ï¼šå¦‚æœkå¤§äºæ•°ç»„çš„é•¿åº¦ï¼Œç›´æ¥è¿”å›æ•°ç»„ return arr; &#125; return quickSort(arr, k, 0, arr.length - 1); &#125; private int[] quickSort(int[] arr, int k, int l, int r) &#123; int i = l, j = r;// å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘æ•°ç»„çš„å¤´å’Œå°¾ while (i &lt; j) &#123; while (i &lt; j &amp;&amp; arr[j] &gt;= arr[l]) j--;// æ‰¾åˆ°åŸºå‡†å€¼å³è¾¹å°äºåŸºå‡†å€¼çš„å€¼ while (i &lt; j &amp;&amp; arr[i] &lt;= arr[l]) i++;// æ‰¾åˆ°åŸºå‡†å€¼å·¦è¾¹å¤§äºåŸºå‡†å€¼çš„å€¼ swap(arr, i, j);// äº¤æ¢å€¼ &#125; swap(arr, i, l);// äº¤æ¢å¤´/å°¾æŒ‡é’ˆå’ŒåŸºå‡†å€¼æŒ‡é’ˆï¼Œä½¿å¾—åŸºå‡†å€¼å·¦è¾¹éƒ½å°äºåŸºå‡†å€¼ï¼Œå³è¾¹éƒ½å¤§äºåŸºå‡†å€¼ if (i &gt; k) return quickSort(arr, k, l, i - 1);// å¦‚æœåŸºå‡†å€¼åœ¨kçš„å³è¾¹ï¼Œåˆ™å¯¹åŸºå‡†å€¼å·¦è¾¹çš„æ•°ç»„è¿›è¡Œå¿«æ’ if (i &lt; k) return quickSort(arr, k, i + 1, r);// å¦‚æœåŸºå‡†å€¼åœ¨kçš„å·¦è¾¹ï¼Œåˆ™å¯¹åŸºå‡†å€¼å³è¾¹çš„æ•°ç»„è¿›è¡Œå¿«æ’ return Arrays.copyOf(arr, k);// è¿”å›0-(k-1)çš„ä¸‹æ ‡çš„æ•°ç»„ &#125; private void swap(int[] arr, int i, int j) &#123;// äº¤æ¢æ–¹æ³• int tmp = arr[i]; arr[i] = arr[j]; arr[j] = tmp; &#125;&#125; æ•°æ®æµä¸­çš„ä¸­ä½æ•°çœ‹å®Œé¢˜ç›®æˆ‘è¿˜å—¤ä¹‹ä»¥é¼»ï¼Œè¿™ä¹Ÿå«hardé¢˜ï¼Ÿåˆ·åˆ·å†™å®Œä¸€æäº¤ï¼Œè¿‡æ˜¯è¿‡äº†ï¼Œè·‘äº†1600msâ€¦ çœ‹äº†æœ€ä¼˜è§£ï¼Œç”¨åˆ°äº†å¤§æ ¹å †å’Œå°æ ¹å †çš„çŸ¥è¯†ï¼Œä»£ç æ˜¯ä¸ä¸€å®šçœ‹å¾—æ‡‚äº†ï¼Œåªèƒ½è¯´å°½åŠ›è€Œä¸ºå§ã€‚ 12345678910111213141516171819class MedianFinder &#123; Queue&lt;Integer&gt; A, B; public MedianFinder() &#123; A = new PriorityQueue&lt;&gt;(); // å°é¡¶å †ï¼Œä¿å­˜è¾ƒå¤§çš„ä¸€åŠ B = new PriorityQueue&lt;&gt;((x, y) -&gt; (y - x)); // å¤§é¡¶å †ï¼Œä¿å­˜è¾ƒå°çš„ä¸€åŠ &#125; public void addNum(int num) &#123; if(A.size() != B.size()) &#123;// æ’å…¥æ•°é‡ä¸ºå¥‡æ•°ï¼Œ A.add(num); B.add(A.poll()); &#125; else &#123; B.add(num); A.add(B.poll()); &#125; &#125; public double findMedian() &#123; return A.size() != B.size() ? A.peek() : (A.peek() + B.peek()) / 2.0;// å¦‚æœä¸¤å †å®¹é‡ç›¸ç­‰ï¼Œè¯´æ˜æ­¤æ—¶ä¸ºå¶æ•°ï¼Œå„å–å †é¡¶å€¼/2ï¼›åä¹‹è¯´æ˜ä¸ºå¥‡æ•°ï¼Œåªå–å°é¡¶å †ä¸­çš„å€¼ã€‚ &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day16","path":"2022/04/23/å‰‘æŒ‡offer-day16/","text":"æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°çœ‹åˆ°é¢˜ç›®å°±æƒ³åˆ°è‡ªç„¶æ’åºäº†ï¼Œä½†æ˜¯ç›´æ¥ä½¿ç”¨æ˜¯ä¸å¯ä»¥çš„ï¼Œæ­£ç¡®çš„æ’åºæ–¹å¼åº”è¯¥æ˜¯çœ‹ä¸¤å­—ç¬¦ä¸²xå’Œyï¼Œæ˜¯å¦æ»¡è¶³x+y&lt;y+xï¼ˆæ¯”å¦‚3å’Œ30ï¼Œå¦‚æœæŒ‰é»˜è®¤çš„å­—å…¸åºæ’åˆ—åº”è¯¥æ˜¯3åœ¨å‰ï¼Œä½†æ˜¯ä¸¤è€…çš„ç»„åˆ330æ˜æ˜¾å¤§äº303ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯çœ‹æ˜¯å¦æ»¡è¶³330&lt;303,ä¸æ»¡è¶³åˆ™30æ’åœ¨å‰é¢ï¼‰ 1234567891011121314class Solution &#123; public String minNumber(int[] nums) &#123; StringBuffer res = new StringBuffer(); String[] s = new String[nums.length]; for(int i = 0; i &lt; nums.length; i++)&#123;// å°†intè½¬ä¸ºString s[i] = String.valueOf(nums[i]); &#125; Arrays.sort(s, (s1,s2) -&gt; (s1+s2).compareTo(s2+s1));// å®ç°comparableæ¥å£çš„è‡ªç„¶æ’åº for(String str : s)&#123; res.append(str); &#125; return res.toString(); &#125;&#125; æ‰‘å…‹ç‰Œçš„é¡ºå­ä¸€å¼€å§‹æ²¡æœ‰å¾ˆå¥½çš„æƒ³æ³•ï¼Œå°±æ”¾å¼ƒçœ‹ç­”æ¡ˆäº†ã€‚ 123456789101112131415class Solution &#123; public boolean isStraight(int[] nums) &#123; int zeroCount = 0; Arrays.sort(nums);// å¯¹æ•°ç»„æ’åº for(int i = 0; i &lt; nums.length - 1; i++)&#123; if(nums[i] == 0)&#123; zeroCount++;// è®°å½•å¤§å°ç‹çš„ä¸ªæ•°ï¼Œåœ¨0-2ä¹‹é—´ &#125; else if(nums[i] == nums[i+1])&#123;// å‡ºç°ç›¸ç­‰çš„æ•°è¡¨ç¤ºæ— æ³•æˆä¸ºé¡ºå­ return false; &#125; &#125; return nums[nums.length-1] - nums[zeroCount] &lt; 5;// ç”¨æœ€å¤§çš„æ•°å‡å»æœ€å°çš„é0æ•°ï¼Œå¦‚æœå·®å€¼å°äº5è¯´æ˜å¯ä»¥æˆä¸ºé¡ºå­ &#125;&#125;"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.04.19-2022.04.24ï¼‰","path":"2022/04/22/å­¦ä¹ æ€»ç»“ï¼ˆ2022-04-19-2022-04-24ï¼‰/","text":"ç±»åŠ è½½å™¨åˆ†ç±»ï¼š Bootstrap ClassLoader æ ¹ç±»åŠ è½½å™¨ï¼Œè´Ÿè´£æ ¸å¿ƒç±»çš„åŠ è½½ Extension ClassLoader æ‰©å±•ç±»åŠ è½½å™¨ï¼Œè´Ÿè´£æ‰©å±•ç›®å½•ä¸­jaråŒ…çš„åŠ è½½ Sysetm(App) ClassLoader ç³»ç»Ÿç±»åŠ è½½å™¨&#x2F;åº”ç”¨åŠ è½½å™¨ï¼Œè´Ÿè´£è‡ªå®šä¹‰ç±»çš„åŠ è½½ User ClassLoader è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œè‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ åŒäº²å§”æ´¾æ¨¡å‹ï¼šå½“è‡ªå®šä¹‰ç±»è¿›è¡Œç±»åŠ è½½æ—¶ï¼Œå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±ç”±ç³»ç»Ÿç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½çš„ï¼Œè€Œæ˜¯ä¼šäº¤ç»™æ‰©å±•ç±»åŠ è½½å™¨ï¼Œæ‰©å±•ç±»åŠ è½½å™¨åˆä¼šäº¤ç»™æ ¹ç±»åŠ è½½å™¨ï¼Œä½†æ˜¯æ ¹ç±»åŠ è½½å™¨åœ¨æ ¸å¿ƒç±»çš„jaråŒ…ä¸­æ‰¾ä¸åˆ°è‡ªå®šä¹‰çš„ç±»ï¼Œäºæ˜¯åˆä¼šåŸè·¯è¿”å›è‡³ç³»ç»Ÿç±»åŠ è½½å™¨ï¼Œæœ€åè¿˜æ˜¯ç”±ç³»ç»Ÿç±»åŠ è½½å™¨æ‰§è¡Œã€‚ æ³¨è§£æ³¨è§£æ˜¯ä»£ç é‡Œé¢çš„ä¸€äº›ç‰¹æ®Šæ ‡è®°ï¼Œå¯ä»¥åœ¨ç¼–è¯‘ã€ç±»åŠ è½½ã€è¿è¡Œæ—¶è¢«è¯»å–ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„å¤„ç†ã€‚æ³¨è§£å¯ä»¥åœ¨ä¸æ”¹å˜åŸæœ‰é€»è¾‘çš„æƒ…å†µä¸‹ï¼Œè¡¥å……ä¸€äº›ä¿¡æ¯ã€‚æ³¨è§£ä½œä¸ºä¸€ç§æ•°æ®ç±»å‹ï¼Œè·Ÿclassã€interfaceå…·æœ‰åŒç­‰åœ°ä½ã€‚ æ³¨è§£çš„ä½¿ç”¨æ–¹å¼ä¸ä¿®é¥°ç¬¦ä¸€æ ·ï¼Œå¯ä»¥ç»™ä»»ä½•ä¸€ç§æ•°æ®å†™ä¸Šæ³¨è§£ï¼ˆç±»ã€æ¥å£ã€æ„é€ å™¨ã€å˜é‡â€¦ï¼‰ è‡ªå®šä¹‰æ³¨è§£ï¼š 123456789101112// è¯­æ³•æƒé™ä¿®é¥°ç¬¦ @interface æ³¨è§£åå­—&#123; // æ³¨è§£ä½“ å±æ€§ç±»å‹ å±æ€§å(); å±æ€§ç±»å‹ å±æ€§å(); å±æ€§ç±»å‹ å±æ€§å(); .....&#125;//ä¸¾ä¾‹public @interface MyAnno &#123;&#125; æ³¨è§£çš„ä½¿ç”¨ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// @æ³¨è§£å(å±æ€§1 = value1,å±æ€§2 = value2) // æ³¨è§£ä½¿ç”¨ @MyAnno3(name = &quot;zs&quot;,age = 20) public static void func() &#123; &#125;// ä¾‹å­ï¼šè·å–æ³¨è§£ä¿¡æ¯public class Demo &#123; public static void main(String[] args) throws Exception&#123; //è·å–Loginæ³¨è§£é‡Œçš„ä¿¡æ¯ æ‰“å°ä¸€ä¸‹ // è·å–å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ Class&lt;?&gt; c = Class.forName(&quot;_23annotation.com.cskaoyan._04handle.Demo&quot;); // è·å–æ–¹æ³•å¯¹è±¡ Method method = c.getDeclaredMethod(&quot;login&quot;); // å†åˆ¤æ–­æ–¹æ³•ä¸Šä½¿ç”¨äº†æ³¨è§£ isAnnotationPresent boolean annotationPresent = method.isAnnotationPresent(Login.class); System.out.println(annotationPresent); if (annotationPresent) &#123; // æ˜¯ , è·å–è¿™ä¸ªæ³¨è§£å®ä¾‹ getAnnotation Login annotation = method.getAnnotation(Login.class); // è·å–å±æ€§ String name = annotation.name(); String password = annotation.password(); System.out.println(name); System.out.println(password); &#125; &#125; @Login public static void login() &#123; &#125;&#125;// ä½¿ç”¨å…ƒæ³¨è§£ä¿®é¥°@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.METHOD)@interface Login &#123; // å®šä¹‰å±æ€§ String name() default &quot;root&quot;; String password() default &quot;123456&quot;;&#125; å…ƒæ³¨è§£ï¼šæè¿°æ³¨è§£çš„æ³¨è§£ã€‚å¸¸ç”¨çš„å…ƒæ³¨è§£æœ‰ï¼š @Retentionå…ƒæ³¨è§£ï¼Œæ¥å®šä¹‰æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„æ³¨è§£çš„ä¿ç•™çº§åˆ«. 123RetentionPolicy.RUNTIMERetentionPolicy.CLASS // é»˜è®¤RetentionPolicy.SOURCE @Targetå…ƒæ³¨è§£ï¼Œæ³¨è§£å¯ä»¥ä½œç”¨çš„ç›®æ ‡ 1234ElementType.TYPE// æ•´ä¸ªç±»ElementType.FIELD// æˆå‘˜å˜é‡ ElementType.CONSTRUCTOR// æ„é€ æ–¹æ³• ElementType.METHO// æˆå‘˜æ–¹æ³• GCå¦‚ä½•ç¡®å®šåƒåœ¾ï¼š å¼•ç”¨è®¡æ•°ç®—æ³•ï¼šç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œæ¯å½“æœ‰å¼•ç”¨æŒ‡å‘å®ƒï¼Œè®¡æ•°å™¨+1ï¼›æ¯å½“å¼•ç”¨å¤±æ•ˆï¼Œè®¡æ•°å™¨-1ã€‚å½“è®¡æ•°å™¨ä¸º0ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ä¸å¯è¢«å¼•ç”¨ã€‚ä½†æ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•æ— æ³•åº”ç”¨åœ¨å¾ªç¯å¼•ç”¨ä¸­ã€‚ æ ¹æœç´¢ç®—æ³•ï¼šä»¥ä¸€ä¸ªå«â€GC Rootsâ€çš„å¯¹è±¡ä¸ºèµ·ç‚¹å‘ä¸‹æœç´¢ï¼Œçœ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨è¿æ¥è‡³GC Rootçš„å¼•ç”¨é“¾ï¼Œå¦‚æœæ²¡æœ‰è¡¨ç¤ºè¯¥å¯¹è±¡ä¸å¯è¢«å¼•ç”¨ã€‚GCä½¿ç”¨æ ¹æœç´¢ç®—æ³•ã€‚ å¦‚ä½•å›æ”¶åƒåœ¾ï¼š æ ‡è®°æ¸…é™¤ç®—æ³•ï¼šé¦–å…ˆæ ‡è®°å‡ºæ‰€æœ‰éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œå†ç»Ÿä¸€å›æ”¶ï¼›æˆ–è€…æ ‡è®°å‡ºæ‰€æœ‰å­˜æ´»çš„å¯¹è±¡ï¼Œç»Ÿä¸€å›æ”¶æœªè¢«æ ‡è®°çš„å¯¹è±¡ã€‚è™½ç„¶å®ç°ç®€å•ï¼Œä½†æ˜¯ä¼šäº§ç”Ÿå¾ˆå¤šå†…å­˜ç¢ç‰‡ã€‚ æ ‡è®°å¤åˆ¶ç®—æ³•ï¼šå°†ä¸€å—å†…å­˜åˆ’åˆ†æˆå®¹é‡ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­ä¸€å—ï¼Œå½“å†…å­˜ç”¨å®Œåï¼Œå°†è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶è‡³å¦ä¸€å—å†…å­˜ä¸­ï¼Œå†æŠŠå·²æ»¡çš„å†…å­˜å…¨éƒ¨æ¸…ç†ã€‚è™½ç„¶å®ç°ç®€å•ä¸”ä¸å®¹æ˜“äº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œä½†æ˜¯å†…å­˜åˆ©ç”¨ç‡é™ä½äº†ï¼Œä¸”å­˜æ´»å¯¹è±¡è¾ƒå¤šæ—¶ï¼Œä¼šäº§ç”Ÿè®¸å¤šä¸å¿…è¦çš„å¼€é”€ï¼Œé™ä½æ•ˆç‡ã€‚ æ ‡è®°æ•´ç†ç®—æ³•ï¼šåŒæ ‡è®°æ¸…é™¤ç®—æ³•ä¸€æ ·ï¼Œå°†æ‰€æœ‰éœ€è¦å›æ”¶çš„å¯¹è±¡æ ‡è®°ï¼Œä½†æ˜¯å®ƒä¸ä¼šç›´æ¥æ¸…ç†ï¼Œè€Œæ˜¯å°†å­˜æ´»çš„å¯¹è±¡éƒ½å¾€ä¸€ç«¯ç§»åŠ¨ï¼Œç§»åŠ¨å®Œæˆåæ¸…é™¤è¾¹ç•Œå¤–çš„æ‰€æœ‰å¯¹è±¡ã€‚è¿™æ ·è™½ç„¶ä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œä½†æ˜¯æ•ˆç‡å´é™ä½äº†ã€‚ åˆ†ä»£æ”¶é›†ç®—æ³•ï¼šæ ¹æ®å¯¹è±¡çš„å­˜æ´»æ—¶é—´å°†å†…å­˜åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£ã€è€å¹´ä»£å’Œæ°¸ä¹…ä»£ï¼Œæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡å¤§éƒ¨åˆ†éƒ½æ˜¯å­˜æ´»æ—¶é—´è¾ƒçŸ­çš„ï¼Œè€å¹´ä»£ä¸­çš„å¯¹è±¡åˆ™æ˜¯å­˜æ´»æ—¶é—´è¾ƒé•¿çš„ã€‚ æ–°åˆ›å»ºçš„å¯¹è±¡ä¼šæ”¾å…¥æ–°ç”Ÿä»£ä¸­ï¼Œæ–°ç”Ÿä»£ç©ºé—´ä½¿ç”¨çš„æ˜¯æ ‡è®°å¤åˆ¶ç®—æ³•ï¼Œå°†æ–°ç”Ÿä»£ç©ºé—´åˆ’ä¸ºä¸€ä¸ªedenç©ºé—´å’Œä¸¤ä¸ªsurvivorç©ºé—´ï¼ˆsurvivor1ã€survivor2ï¼‰ï¼Œå…¶ä¸­edenç©ºé—´ç”¨æ¥æ”¾ç½®æ–°å»ºçš„å¯¹è±¡ï¼Œsurvivor1å’Œsurvivor2åˆ™ç”¨æ¥æ”¾ç½®å¤åˆ¶ä¸€éå’Œå¤åˆ¶ä¸¤éåå­˜æ´»çš„å¯¹è±¡ã€‚å½“è¿‡äº†ä¸€å®šæ—¶é—´åï¼Œsurvivor2ä¸­çš„å¯¹è±¡ä¼šæ”¾è‡³è€å¹´ä»£ã€‚ è€å¹´ä»£ä¸­å› ä¸ºå­˜æ´»å¯¹è±¡è¾ƒå¤šï¼Œä¸€èˆ¬ä½¿ç”¨æ ‡è®°æ•´ç†ç®—æ³•ã€‚ ä½•æ—¶å›æ”¶åƒåœ¾ï¼š ç”³è¯·å †ç©ºé—´å¤±è´¥ï¼Œè¡¨ç¤ºå †ç©ºé—´å·²æ»¡ï¼Œè§¦å‘GCã€‚ ç³»ç»Ÿè¿›å…¥ä¼‘çœ ä¸€æ®µæ—¶é—´è§¦å‘GCã€‚ ä¸»åŠ¨è°ƒç”¨GCã€‚ è®¾è®¡æ¨¡å¼äº”å¤§åŸåˆ™ï¼š å•ä¸€èŒè´£åŸåˆ™ï¼šæ¯ä¸ªç±»åªè´Ÿè´£è‡ªå·±çš„éƒ¨åˆ†ã€‚ å¼€é—­åŸåˆ™ï¼šä¸€ä¸ªç±»æˆ–æ¨¡å—åº”è¯¥å¯¹æ‹“å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šä»»ä½•çˆ¶ç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»éƒ½å¯ä»¥å‡ºç°ã€‚ æ¥å£éš”ç¦»åŸåˆ™ï¼šä¸€ä¸ªæ¥å£åªæä¾›ä¸€ä¸ªå¯¹å¤–çš„åŠŸèƒ½ã€‚ ä¾èµ–å€’ç½®åŸåˆ™ï¼šä¸Šå±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼Œè€Œåº”è¯¥ä¾èµ–äºæŠ½è±¡ç±»æˆ–æ¥å£ï¼›æŠ½è±¡ç±»æˆ–æ¥å£ä¸åº”è¯¥ä¾èµ–äºå…·ä½“å®ç°ç±»ï¼Œå…·ä½“å®ç°ç±»åº”è¯¥ä¾èµ–äºæŠ½è±¡ç±»æˆ–æ¥å£ã€‚ å•ä¾‹è®¾è®¡æ¨¡å¼ï¼š ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œé˜²æ­¢é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œé¿å…å¯¹å…±äº«èµ„æºçš„å¤šé‡å ç”¨ã€‚ å®ç°æ–¹æ³•ï¼šæ„é€ æ–¹æ³•ç§æœ‰ï¼›æä¾›è¿”å›å®ä¾‹çš„é™æ€æ–¹æ³•ï¼›æä¾›è‡ªèº«ç±»å‹çš„å…¨å±€å˜é‡ã€‚ 123456789101112131415161718public class Singleton1 &#123; //- æä¾›è‡ªèº«ç±»å‹çš„å…¨å±€çš„æˆå‘˜å˜é‡ private static Singleton1 instance; // - æ„é€ æ–¹æ³•ç§æœ‰ private Singleton1() &#123; &#125; //- æä¾›é™æ€æ–¹æ³•,è¿”å›å®ä¾‹ public static Singleton1 getInstance() &#123; // æœ€ç»ˆè¦è¿”å›singleton1å¯¹è±¡ // åšåˆ¤æ–­ if (instance == null) &#123; instance = new Singleton1(); &#125; return instance; &#125;&#125; å·¥å‚è®¾è®¡æ¨¡å¼ï¼š å¯ä»¥é€šè¿‡ä¸€ä¸ªå·¥å‚æ‰¹é‡ç”Ÿäº§å¯¹è±¡ï¼ŒåŒæ—¶éšè—åˆ›å»ºå¯¹è±¡çš„ä¸€äº›ç»†èŠ‚ï¼Œæ ‡å‡†åŒ–äº§ç”Ÿå®ä¾‹ã€‚ 123456789101112131415161718192021222324252627282930313233public class FruitFactory &#123; // æä¾›1ä¸ªé™æ€æ–¹æ³• è¿”å›å…·ä½“æ°´æœå¯¹è±¡ public static Fruit getInstance(String name) &#123; Fruit fruit = null; if (&quot;apple&quot;.equals(name)) &#123; fruit = new Apple(); &#125; else if (&quot;orange&quot;.equals(name)) &#123; fruit = new Orange(); &#125; else if (&quot;banana&quot;.equals(name)) &#123; fruit = new Banana(); &#125; else &#123; System.out.println(&quot;ç”Ÿäº§ä¸äº†!&quot;); &#125; // è¿”å›æ°´æœå¯¹è±¡ return fruit; &#125; // ä¸ä¿®æ”¹åŸæœ‰çš„ä»£ç é€»è¾‘ å®ç°åŠŸèƒ½ public static Fruit getInstance2(String className) throws Exception &#123; // æ ¹æ®å…¨é™å®šå è·å–å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ Class&lt;?&gt; c = Class.forName(className); // è·å–æ„é€ æ–¹æ³• Constructor&lt;?&gt; declaredConstructor = c.getDeclaredConstructor(); // å®ä¾‹åŒ–å¯¹è±¡ Fruit fruit = (Fruit) declaredConstructor.newInstance(); // è¿”å›å¯¹è±¡ return fruit; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day15","path":"2022/04/22/å‰‘æŒ‡offer-day15/","text":"äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„å®Œå…¨æ²¡æ€è·¯ï¼Œç›´æ¥æ”¾ç­”æ¡ˆã€‚ 12345678910111213141516171819202122232425262728293031323334353637/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode() &#123;&#125; * TreeNode(int val) &#123; this.val = val; &#125; * TreeNode(int val, TreeNode left, TreeNode right) &#123; * this.val = val; * this.left = left; * this.right = right; * &#125; * &#125; */class Solution &#123; LinkedList&lt;Integer&gt; path = new LinkedList&lt;&gt;();// å®šä¹‰ä¸€ä¸ªpathæ¥è®°å½•æ¯æ¬¡é€’å½’ç»“æŸåçš„ç»“æœ LinkedList&lt;List&lt;Integer&gt;&gt; res = new LinkedList&lt;&gt;(); public List&lt;List&lt;Integer&gt;&gt; pathSum(TreeNode root, int target) &#123; firstOrder(root,target);// å…ˆåºéå† return res; &#125; public void firstOrder(TreeNode root, int target)&#123; if(root == null)&#123;// èŠ‚ç‚¹ä¸ºç©ºæ—¶è¿”å› return; &#125; path.add(root.val);// pathæ·»åŠ é€’å½’çš„å€¼ target -= root.val;// ç›®æ ‡å€¼å‡å»å½“å‰é€’å½’çš„å€¼ if(target == 0 &amp;&amp; root.left == null &amp;&amp; root.right == null)&#123;// å¦‚æœç›®æ ‡å€¼ä¸º0ä¸”è¯¥èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œå°†å·²ç»é€’å½’å®Œæˆçš„pathæ”¾å…¥ç­”æ¡ˆåˆ—è¡¨ä¸­ res.add(new LinkedList(path)); &#125; pathSum(root.left,target);// é€’å½’éå†å·¦èŠ‚ç‚¹ pathSum(root.right,target);// é€’å½’éå†å³èŠ‚ç‚¹ path.removeLast();// æ‰§è¡Œè‡³æ­¤è¡¨ç¤ºå¯»æ‰¾ç¬¦åˆçš„å¶å­èŠ‚ç‚¹å¤±è´¥ï¼Œå°†æœ¬æ¬¡éå†çš„èŠ‚ç‚¹é€€å‡ºï¼Œå›æº¯è‡³ä¸Šä¸ªèŠ‚ç‚¹ &#125;&#125; äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨è¿™é“é¢˜æƒ³åˆ°äº†ä¸­åºéå†ï¼Œä½†æ˜¯å¯¹åŒé“¾è¡¨è¿˜æ˜¯ä¸å¤ªç†Ÿæ‚‰ï¼Œæ²¡åšå‡ºæ¥ï¼ŒåŠæŠ„äº†ä¸€ä¸ªç­”æ¡ˆã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/*// Definition for a Node.class Node &#123; public int val; public Node left; public Node right; public Node() &#123;&#125; public Node(int _val) &#123; val = _val; &#125; public Node(int _val,Node _left,Node _right) &#123; val = _val; left = _left; right = _right; &#125;&#125;;*/class Solution &#123; Node head;// å®šä¹‰å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ Node pre; public Node treeToDoublyList(Node root) &#123; if(root == null)&#123;// æ ‘ä¸ºç©ºè¿”å›null return null; &#125; inorder(root);// ä»¥å°¾èŠ‚ç‚¹ä¸ºæŒ‡é’ˆï¼Œè¿›è¡Œä¸­åºéå† head.left = pre;// éå†å®Œæˆï¼Œå°†å¤´å°¾èŠ‚ç‚¹è¿æ¥ pre.right = head; return head; &#125; public void inorder(Node root)&#123; if(root == null)&#123;// éå†è‡³ç©ºèŠ‚ç‚¹è¿”å› return; &#125; inorder(root.left); if(pre != null)&#123;// æ­¤æ—¶å°¾èŠ‚ç‚¹è‹¥è¿˜æ²¡èµ‹å€¼è¡¨ç¤ºå¤´å°¾èŠ‚ç‚¹æœªåˆå§‹åŒ–ï¼Œéœ€è¦åˆå§‹åŒ–å¤´èŠ‚ç‚¹ï¼›åä¹‹åˆ™è®©å°¾èŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ pre.right = root; &#125; else&#123; head = root; &#125; root.left = pre;// å½“å‰èŠ‚ç‚¹çš„å°¾æŒ‡é’ˆæŒ‡å‘å°¾èŠ‚ç‚¹ pre = root;//å°¾èŠ‚ç‚¹è·³è‡³å½“å‰èŠ‚ç‚¹ inorder(root.right); &#125;&#125; äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹è¿™é“é¢˜å€’æ˜¯å†™å‡ºæ¥äº†ï¼Œä½†æ˜¯è¿˜æ˜¯è€é—®é¢˜ï¼Œæ—¶ç©ºå¤æ‚åº¦éå¸¸æ„Ÿäººï¼Œçœ‹äº†ç­”æ¡ˆå‘ç°ç”¨äº†ä¸€ä¸ªé€†åºçš„ä¸­åºéå†ï¼Œè€Œä¸”æå‰ç»ˆæ­¢äº†éå†ï¼Œæ‰€ä»¥èƒ½æœ‰éå¸¸ä¼˜ç§€çš„æ—¶ç©ºå¤æ‚åº¦ã€‚ 123456789101112131415161718192021222324252627282930/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; int res; int k; public int kthLargest(TreeNode root, int k) &#123; this.k = k; inorder(root);// é€†åºä¸­åºéå† return res; &#125; public void inorder(TreeNode root)&#123; if(root == null || k == 0)&#123;// å½“éå†è‡³ç©ºèŠ‚ç‚¹æ—¶è¿”å›ï¼›å½“kå·²ç»ä¸º0æ—¶ï¼Œæå‰ç»ˆæ­¢éå† return; &#125; inorder(root.right); if(--k == 0)&#123;// å½“k-1 = 0æ—¶ï¼Œè¡¨ç¤ºå½“å‰éå†çš„èŠ‚ç‚¹å°±æ˜¯ç­”æ¡ˆï¼Œèµ‹å€¼ç»™res res = root.val; &#125; inorder(root.left); &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day14","path":"2022/04/21/å‰‘æŒ‡offer-day14/","text":"çŸ©é˜µä¸­çš„è·¯å¾„æ¶‰åŠåˆ°å›¾çš„èŒƒå›´äº†ï¼Œåªèƒ½è¯´æ˜¯åŠ›æ‰€ä¸èƒ½åŠï¼Œç›´æ¥æ”¾ç­”æ¡ˆå§ï¼Œä¸»è¦æ˜¯DFSçš„æ€æƒ³æ€æ ·ç”¨ä»£ç è¡¨ç°å‡ºæ¥ã€‚ 123456789101112131415161718192021222324252627282930class Solution &#123; public boolean exist(char[][] board, String word) &#123; char[] words = word.toCharArray(); for(int i = 0; i &lt; board.length; i++)&#123; for(int j = 0; j &lt; board[0].length; j++)&#123; if(dfs(board,words,i,j,0))&#123;// éå†æ‰¾åˆ°ç¬¬ä¸€ä¸ªç­‰äºå­—ç¬¦ä¸²å¤´çš„å­—æ¯ï¼Œå¼€å§‹DFS return true; &#125; &#125; &#125; // æ²¡æœ‰æ‰¾åˆ°æˆ–è€…æ²¡æœ‰è·¯å¾„ï¼Œè¿”å›false return false; &#125; public boolean dfs(char[][] board, char[] word, int i, int j, int k)&#123; // ç»ˆæ­¢æ¡ä»¶æœ‰ï¼šéå†æ—¶è¶…å‡ºè¾¹ç•Œå€¼ï¼›éå†çš„å€¼ä¸ç­‰äºå­—ç¬¦ä¸²ä¸­çš„å€¼ if(i &lt; 0 || i &gt;= board.length || j &lt; 0 || j &gt;= board[0].length || board[i][j] != word[k])&#123; return false; &#125; // kä¸ºå­—ç¬¦ä¸²çš„ä¸‹æ ‡ï¼Œå¦‚æœæ­¤æ—¶kç­‰äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œè¯´æ˜å¯»æ‰¾åˆ°è·¯å¾„ï¼Œç›´æ¥è¿”å›true if(k == word.length - 1)&#123; return true; &#125; board[i][j] = &#x27;\\0&#x27;;// éå†è¿‡çš„åœ°æ–¹è®¾ä¸ºç©ºï¼Œé˜²æ­¢éå†å›æ¥ boolean res = (dfs(board,word,i+1,j,k+1) || dfs(board,word,i-1,j,k+1) || dfs(board,word,i,j+1,k+1) || dfs(board,word,i,j-1,k+1));// åˆ†åˆ«éå†ä¸Šä¸‹å·¦å³ï¼Œåªè¦æœ‰ä¸€ä¸ªç¬¦åˆæ¡ä»¶å³å¯ board[i][j] = word[k];// å°†éå†è¿‡çš„åœ°æ–¹é‡æ–°èµ‹å€¼ï¼Œé˜²æ­¢å½±å“ä¸‹ä¸€æ¬¡éå† return res;// è¿”å›ç»“æœ &#125;&#125; æœºå™¨äººçš„è¿åŠ¨èŒƒå›´è·Ÿä¸Šé¢˜æœ‰äº›ç›¸ä¼¼ï¼Œå°±æ˜¯è¿”å›å€¼ä»booleanæ”¹æˆäº†intï¼Œå‚è€ƒç€ç­”æ¡ˆè·Œè·Œæ’æ’åœ°å†™ä¸‹æ¥äº†ã€‚ 123456789101112131415161718192021222324class Solution &#123; boolean[][] visited;// å®šä¹‰ä¸€ä¸ªbooleanæ•°ç»„ï¼Œæ¥è¡¨ç¤ºè¯¥å…ƒç´ æ˜¯å¦è¢«è®¿é—®è¿‡ public int movingCount(int m, int n, int k) &#123; visited = new boolean[m][n]; return dfs(0,0,m,n,k);// ä»å·¦ä¸Šè§’å¼€å§‹éå† &#125; public int bitSum(int m, int n)&#123;// è®¡ç®—ä½æ•°å’Œï¼Œå› ä¸ºé¢˜ç›®åªå–ä¸¤ä½æ•°ï¼Œå°±æ–¹ä¾¿ç€å†™ int m1 = m % 10; int m2 = m / 10; int n1 = n % 10; int n2 = n / 10; return m1+m2+n1+n2; &#125; public int dfs(int i,int j, int m, int n,int k)&#123; // éå†å¤±è´¥æ¡ä»¶ï¼šéå†è¶…å‡ºèŒƒå›´ï¼›éå†çš„ä½ç½®çš„ä½æ•°å’Œå¤§äºè¦æ±‚æ•°ï¼›è¯¥ä½ç½®æ—©è¢«éå†è¿‡ if(i &lt; 0 || i &gt;= m || j &lt; 0 || j &gt;= n || bitSum(i,j) &gt; k || visited[i][j])&#123; return 0;// è¿”å›0è¡¨ç¤ºæ­¤å¤„ä¸æ˜¯æœºå™¨äººèƒ½åˆ°è¾¾çš„åœ°æ–¹ï¼Œä¸èƒ½è®¡å…¥æ€»æ•° &#125; visited[i][j] = true;// éå†æˆåŠŸï¼Œå°†è¿™ä¸ªä½ç½®è®¾ä¸ºå·²è®¿é—®è¿‡ return 1+dfs(i+1,j,m,n,k)+dfs(i-1,j,m,n,k)+dfs(i,j+1,m,n,k)+dfs(i,j-1,m,n,k);// å› ä¸ºæˆåŠŸï¼Œæ‰€ä»¥æ€»æ•°+1 &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day13","path":"2022/04/21/å‰‘æŒ‡offer-day13/","text":"è°ƒæ•´æ•°ç»„é¡ºåºä¸€å¼€å§‹æ˜¯æƒ³çš„æœ€ç®€å•çš„æ–¹æ³•ï¼Œç”¨ä¸¤ä¸ªæ•°ç»„æ¥è®°å½•å¥‡æ•°å’Œå¶æ•°ï¼Œéå†åŸæ•°ç»„ä¸€éå°±è¡Œï¼Œä½†æ˜¯æ˜æ˜¾ä¸æ˜¯æœ€ä¼˜è§£ã€‚æœ€ä¼˜è§£æ˜¯ç”¨åŒæŒ‡é’ˆä»æ•°ç»„ä¸¤è¾¹å¾€ä¸­é—´éå†ï¼Œå¤´æŒ‡é’ˆè®°å½•å¥‡æ•°ï¼Œå°¾æŒ‡é’ˆè®°å½•å¶æ•°ï¼Œå¦‚æœå¤´æŒ‡é’ˆé‡åˆ°å¶æ•°å°±åœæ­¢ï¼Œè½¬è€Œéå†å°¾æŒ‡é’ˆï¼›å°¾æŒ‡é’ˆé‡åˆ°å¥‡æ•°å°±è·Ÿå¤´æŒ‡é’ˆçš„å¶æ•°äº¤æ¢ï¼Œéå†ç›´è‡³ä¸¤æŒ‡é’ˆç›¸é‡ã€‚ 123456789101112131415161718class Solution &#123; public int[] exchange(int[] nums) &#123; int i = 0; int j = nums.length - 1; while(i &lt; j)&#123;// éå†ç›´è‡³ä¸¤æŒ‡é’ˆç›¸é‡ while(nums[i] % 2 != 0 &amp;&amp; i &lt; j)&#123;// å¤´æŒ‡é’ˆé‡åˆ°å¶æ•°åœæ­¢ i++; &#125; while(nums[j] % 2 == 0 &amp;&amp; i &lt; j)&#123;// å°¾æŒ‡é’ˆé‡åˆ°å¥‡æ•°åœæ­¢ j--; &#125; int tmp = nums[i];// äº¤æ¢ nums[i] = nums[j]; nums[j] = tmp; &#125; return nums;// è¿”å›åŸæ•°ç»„ &#125;&#125; å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—è¿˜æ˜¯åŒæŒ‡é’ˆâ€¦ç”¨ä¸€ä¸ªå¤´æŒ‡é’ˆå’Œä¸€ä¸ªå°¾æŒ‡é’ˆæŒ‡å‘æ•°ç»„ä¸¤ç«¯ï¼Œæ±‚ä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å…ƒç´ çš„å’Œï¼Œå¤§äºç›®æ ‡å€¼å°¾æŒ‡é’ˆå‘å‰ç§»ï¼Œåä¹‹å¤´æŒ‡é’ˆå‘åç§»ï¼Œç›´è‡³ç­‰äºç›®æ ‡å€¼ï¼Œè¿”å›ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ã€‚ 12345678910111213141516171819class Solution &#123; public int[] twoSum(int[] nums, int target) &#123; int i = 0;// ç»´æŠ¤ä¸€ä¸ªå¤´æŒ‡é’ˆå’Œä¸€ä¸ªå°¾æŒ‡é’ˆ int j = nums.length - 1; while(i &lt; j)&#123;// å¦‚æœå¤´æŒ‡é’ˆè¶…è¿‡å°¾æŒ‡é’ˆï¼Œæ¨å‡ºå¾ªç¯ while(nums[i] + nums[j] &lt; target &amp;&amp; i &lt; j)&#123;// å°äºtargetï¼Œå¤´æŒ‡é’ˆåç§» i++; &#125; while(nums[i] + nums[j] &gt; target &amp;&amp; i &lt; j)&#123;// å¤§äºtargetï¼Œå°¾æŒ‡é’ˆå‰ç§» j--; &#125; if(nums[i] + nums[j] == target)&#123;// ç­‰äºtargetï¼Œé€€å‡ºå¾ªç¯ break; &#125; &#125; int[] res = &#123;nums[i],nums[j]&#125;; return res; &#125;&#125; ç¿»è½¬å•è¯é¡ºåºä¸€å¼€å§‹æ˜¯ç”¨split()æ–¹æ³•æ¥åˆ†å‰²å­—ç¬¦ä¸²çš„ï¼Œè™½ç„¶å†™å‡ºæ¥äº†ä½†æ˜¯æ—¶ç©ºå¤æ‚åº¦ä¸å¥½ï¼Œçœ‹äº†ç­”æ¡ˆä¹Ÿå‘ç°å¹¶ä¸æ¨èè¿™ç§åšæ³•ï¼Œåˆ©ç”¨åŒæŒ‡é’ˆä¼šæ›´å¥½ã€‚ ç”¨ä¸¤ä¸ªæŒ‡é’ˆéƒ½æŒ‡å‘stringçš„å°¾éƒ¨ï¼Œå‰æŒ‡é’ˆiéå†è‡³ç©ºæ ¼ï¼Œä¸åæŒ‡é’ˆjä¸€èµ·è·å–äº†ç¬¬ä¸€ä¸ªä¸å«ç©ºæ ¼çš„å­å­—ç¬¦ä¸²ï¼Œç”¨ä¸€ä¸ªStringBufferæ¥ä½è¯¥å­—ç¬¦ä¸²ï¼Œiåˆ™ç»§ç»­éå†ï¼Œä¸è¿‡æ­¤æ—¶æ˜¯éå†è‡³ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œå†å°†jç§»åˆ°æ­¤å¤„ï¼Œé‡å¤è‡³éå†å®Œæˆã€‚ 12345678910111213141516171819class Solution &#123; public String reverseWords(String s) &#123; s.trim();// å°†så¤´å°¾çš„ç©ºæ ¼å»æ‰ int i = s.length() - 1;// ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆ int j = i; StringBuffer sb = new StringBuffer(); while(i &gt;= 0)&#123; while(i &gt;= 0 &amp;&amp; s.charAt(i) != &#x27; &#x27;)&#123;// æ‰¾åˆ°ç¬¬ä¸€ä¸ªç©ºæ ¼ i--; &#125; sb.append(s.substring(i+1,j+1) + &quot; &quot;);// è·å–å¹¶æ·»åŠ å­å­—ç¬¦ä¸²+&quot; &quot; while(i &gt;= 0 &amp;&amp; s.charAt(i) == &#x27; &#x27;)&#123;// æ‰¾åˆ°ç¬¬ä¸€ä¸ªå­—ç¬¦ i--; &#125; j = i;// åæŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªå­—ç¬¦ &#125; return sb.toString().trim();// å®Œæˆåå°¾éƒ¨ä¼šå¤šå‡ºä¸€ä¸ªç©ºæ ¼ï¼Œé™¤å»ç©ºæ ¼ &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day12","path":"2022/04/21/å‰‘æŒ‡offer-day12/","text":"åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨è¿˜æ˜¯åŒæŒ‡é’ˆçš„é¢˜ç›®ï¼Œä¸€å¼€å§‹æ˜¯æƒ³ç›´æ¥åœ¨ä¸¤ä¸ªé“¾è¡¨ä¸Šå¤„ç†çš„ï¼Œåæ¥å‘ç°ä¼šå‡ºç°æ¼å…ƒç´ çš„é—®é¢˜ï¼Œå°±è·Ÿç€ç­”æ¡ˆè€è€å®å®åœ°ç”¨ä¸€æ¡æ–°é“¾è¡¨æ¥æ¥ã€‚ æ€è·¯å¾ˆç®€å•ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆpå’Œqéå†ä¸¤ä¸ªé“¾è¡¨ï¼Œp&lt;&#x3D;qæ—¶å°†pæŒ‡å‘çš„å…ƒç´ æ”¾å…¥æ–°å»ºçš„é“¾è¡¨ï¼Œåä¹‹åˆ™æ”¾å…¥qæŒ‡å‘çš„å…ƒç´ ï¼Œéå†è‡³ä¸€ä¸ªæŒ‡é’ˆéå†å®Œæˆï¼Œå°†æ–°é“¾è¡¨æŒ‡å‘æœªéå†å®Œçš„é‚£ä¸ªæŒ‡é’ˆå°±å®Œæˆäº†ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode mergeTwoLists(ListNode l1, ListNode l2) &#123; if(l1 == null)&#123; return l2; &#125; if(l2 == null)&#123; return l1; &#125; ListNode p = l1;// åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆ ListNode q = l2; ListNode head = new ListNode(-1);// åˆ›å»ºæ–°é“¾è¡¨å¤´å’Œä¸€ä¸ªå¤´æŒ‡é’ˆ ListNode pre = head; while(p != null &amp;&amp; q != null)&#123;// éå†ä¸¤ä¸ªé“¾è¡¨ if(p.val &lt;= q.val)&#123; ListNode cp = p; head.next = cp; head = head.next; p = p.next; &#125; else&#123; ListNode cq = q; head.next = cq; head = head.next; q = q.next; &#125; &#125; if(p != null)&#123;// å…¶ä¸­ä¸€ä¸ªé“¾è¡¨éå†å®Œæˆï¼Œéå†å¦ä¸€ä¸ªé“¾è¡¨ head.next = p; &#125; if(q != null)&#123; head.next = q; &#125; return pre.next; &#125;&#125; ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹è¿™ä¸ªå¹¶æ²¡æœ‰æƒ³å‡ºæ¥æ€ä¹ˆåšï¼Œè¿˜æ˜¯çœ‹ç­”æ¡ˆå§ã€‚ 123456789101112131415161718192021222324252627282930313233343536/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; * val = x; * next = null; * &#125; * &#125; */public class Solution &#123; public ListNode getIntersectionNode(ListNode headA, ListNode headB) &#123; if(headA == null || headB == null)&#123;// å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å›null return null; &#125; ListNode p = headA;// å»ºç«‹ä¸¤ä¸ªæŒ‡é’ˆ ListNode q = headB; while(p != q)&#123; if(p == null)&#123;// å½“headAçš„æŒ‡é’ˆéå†å®Œæˆåï¼Œæ”¹ä¸ºä»headBå†éå†ä¸€æ¬¡ p = headB; &#125; else&#123; p = p.next; &#125; if(q == null)&#123;// å½“headBçš„æŒ‡é’ˆéå†å®Œæˆåï¼Œæ”¹ä¸ºä»headAå†éå†ä¸€æ¬¡ q = headA; &#125; else&#123; q = q.next; &#125; &#125; // pã€qç›¸ç­‰æ—¶ï¼Œè·³å‡ºå¾ªç¯å¹¶è¾“å‡ºpï¼Œè¿™å°±æ˜¯å…¬å…±èŠ‚ç‚¹ return p; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day11","path":"2022/04/21/å‰‘æŒ‡offer-day11/","text":"åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹æ€è·¯å¾ˆç®€å•ï¼Œç»´æŠ¤ä¸€ä¸ªåŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ç°èŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘å‰èŠ‚ç‚¹ï¼Œæ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œè®©å‰èŠ‚ç‚¹æŒ‡å‘ç°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå†è®©ç°èŠ‚ç‚¹æŒ‡å‘ç©ºæŒ‡é’ˆå³å¯ã€‚ä¸»è¦æ˜¯åˆ é™¤å¤´èŠ‚ç‚¹çš„é—®é¢˜ï¼Œæˆ‘é€‰æ‹©å†ç»´æŠ¤ä¸€ä¸ªå¤´æŒ‡é’ˆpreHeadï¼Œè€Œç­”æ¡ˆæ˜¯å°†å…¶ä½œä¸ºç‰¹æ®Šæƒ…å†µå¤„ç†ï¼Œç›´æ¥è¿”å›å¤´èŠ‚ç‚¹æŒ‡å‘çš„é“¾è¡¨ã€‚ 12345678910111213141516171819202122232425/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode deleteNode(ListNode head, int val) &#123; ListNode pre = new ListNode(-1);// preæŒ‡å‘å¤´æŒ‡é’ˆ ListNode preHead = pre;// preHeadæŒ‡å‘å¤´æŒ‡é’ˆ ListNode cur = head;// curæŒ‡å‘é“¾è¡¨ä¸­çš„å¤´æŒ‡é’ˆ pre.next = cur;// å°†è‡ªå»ºçš„å¤´æŒ‡é’ˆå’Œé“¾è¡¨ä¸­çš„å¤´æŒ‡é’ˆè¿æ¥ while(cur != null)&#123; if(cur.val == val)&#123;// åˆ é™¤èŠ‚ç‚¹ pre.next = cur.next; cur.next = null; &#125; pre = cur; cur = cur.next; &#125; return preHead.next; &#125;&#125; é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹è·Ÿä¸Šé¢ä¸€æ ·ï¼Œç»´æŠ¤ä¸€ä¸ªåŒæŒ‡é’ˆï¼Œéƒ½å…ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œæ ¹æ®kå€¼è®©pèŠ‚ç‚¹å‘å‰ç§»åŠ¨ï¼Œå½“ä¸¤ä¸ªèŠ‚ç‚¹ç›¸è·k-1æ—¶qèŠ‚ç‚¹å’ŒpèŠ‚ç‚¹ä¸€èµ·å‰ç§»ï¼Œåˆ°pèŠ‚ç‚¹æŒ‡å‘é“¾è¡¨å°¾èŠ‚ç‚¹æ—¶ç»“æŸï¼Œè¿”å›qèŠ‚ç‚¹æ‰€æŒ‡å‘çš„é“¾è¡¨å³å¯ã€‚ 12345678910111213141516171819202122/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode getKthFromEnd(ListNode head, int k) &#123; ListNode p = head;// ç»´æŠ¤ä¸¤ä¸ªèŠ‚ç‚¹pã€q ListNode q = head; for(int i = 0; i &lt; k-1; i++)&#123;// è¿ç§»pèŠ‚ç‚¹ p = p.next; &#125; while(p.next != null)&#123;// pèŠ‚ç‚¹å’ŒqèŠ‚ç‚¹ä¸€èµ·å‰ç§» q = q.next; p = p.next; &#125; return q;// è¿”å›qèŠ‚ç‚¹æŒ‡å‘çš„é“¾è¡¨ &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day10","path":"2022/04/20/å‰‘æŒ‡offer-day10/","text":"æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²æœ‰ä¸€ç‚¹åƒé’è›™è·³å°é˜¶ï¼Œä½†æ˜¯é€’å½’æ¡ä»¶æœ‰ç‚¹ä¸ä¸€æ ·ã€‚ ç»´æŠ¤ä¸‰ä¸ªæŒ‡é’ˆa&#x3D;f(0)&#x3D;1ã€b&#x3D;f(1)&#x3D;1ã€c &#x3D; 1ï¼Œéå†æ•´ä¸ªæ•°å­—ï¼ˆä¸ºäº†æ–¹ä¾¿éå†éœ€è¦æŠŠæ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²ï¼‰ï¼Œä»ç¬¬äºŒä¸ªæ•°å­—å¼€å§‹ï¼Œå¦‚æœè¯¥æ•°å­—å’Œå‰ä¸€ä¸ªæ•°å­—ç»„æˆçš„æ•°&gt;&#x3D;10ä¸”&lt;&#x3D;25ï¼Œè¯´æ˜è¿™ä¸ªæ•°å­—çš„ç¿»è¯‘æ–¹æ³•æœ‰f(0)+f(1)ç§ï¼Œå¦åˆ™åªæœ‰f(1)ç§ã€‚cçš„å€¼ç­‰äºè¿™ä¸ªæ•°çš„ç¿»è¯‘æ–¹æ³•ï¼Œæ­¤æ—¶cæŒ‡å‘è¯¥æ•°å­—ï¼ŒaæŒ‡å‘bï¼ŒbæŒ‡å‘cï¼Œå¾ªç¯è‡³éå†ç»“æŸã€‚ 1234567891011121314151617181920class Solution &#123; public int translateNum(int num) &#123; String s = String.valueOf(num); int a = 1;// ä»£è¡¨f(0) int b = 1;// ä»£è¡¨f(1) int c = 1;// ä»£è¡¨f(0)+f(1)ï¼Œé˜²æ­¢åªæœ‰ä¸€ä¸ªæ•°çš„ç‰¹æ®Šæƒ…å†µï¼Œåˆå§‹å€¼ä¸º1 for(int i = 1; i &lt; s.length(); i++)&#123; int n = Integer.parseInt(s.substring(i-1,i+1)); if(n &gt;= 10 &amp;&amp; n &lt;= 25)&#123;// å¦‚æœéå†çš„æ•°ä¸å‰ä¸€ä¸ªæ•°ç»„åˆç¬¦åˆèŒƒå›´ï¼Œè¯´æ˜éå†è‡³è¯¥æ•°æ—¶çš„ç¿»è¯‘æ–¹æ³•æœ‰f(n-1)+f(n-2)ç§ c = a + b; &#125; else&#123;// ä¸ç¬¦åˆï¼Œæ˜éå†è‡³è¯¥æ•°æ—¶çš„ç¿»è¯‘æ–¹æ³•æœ‰f(n-1)ç§ c = b; &#125; a = b;// aè·³è‡³f(n-2) b = c;// bè·³è‡³f(n-1) &#125; return c; &#125;&#125; æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²è‡ªå·±å†™äº†ä¸€ä¸ªè™½ç„¶è¿‡äº†ï¼Œä½†æ˜¯æ—¶ç©ºå¤æ‚åº¦çœŸçš„ä¸¢äººâ€¦ç®—æ˜¯ä¸€ä¸ªæš´åŠ›è§£å§ã€‚ åŒæ ·æ˜¯åŠ¨æ€è§„åˆ’æ€æƒ³ï¼Œç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®°å½•æ¯ä¸ªå­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®ï¼Œéå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè·å¾—ä¸€ä¸ªå­—ç¬¦è¿‡å»å‡ºç°çš„æœ€åä½ç½®å’Œç°åœ¨å‡ºç°çš„ä½ç½®ï¼Œç›¸å‡è·å¾—é‡å¤å‰çš„å­å­—ç¬¦ä¸²é•¿åº¦ã€‚ç”¨ä¸€ä¸ªæ•°tmpæ¥è®°å½•ã€‚æœ€åè¿”å›æ¯æ¬¡è®°å½•åtmpçš„æœ€å¤§å€¼ã€‚ 12345678910111213141516171819class Solution &#123; public int lengthOfLongestSubstring(String s) &#123; Map&lt;Character,Integer&gt; map = new HashMap&lt;&gt;(); int tmp = 0; int res = 0; for(int i = 0; i &lt; s.length(); i++)&#123; int j = map.getOrDefault(s.charAt(i),-1);//æ— å€¼åˆ™åˆå§‹åŒ–mapï¼Œåˆå§‹å€¼è®¾ä¸º-1ï¼Œæœ‰å€¼åˆ™è·å–è¯¥å­—ç¬¦å‰ä¸€æ¬¡å‡ºç°çš„ä½ç½® map.put(s.charAt(i),i);// ä¿®æ”¹ä½ç½®è‡³å½“å‰ if(tmp &lt; i - j)&#123;// å¦‚æœtmp&lt;i-jï¼Œè¯´æ˜è¿˜æœªæ‰¾åˆ°ç›¸åŒçš„å­—ç¬¦ï¼Œtmpé•¿åº¦+1 tmp++; &#125; else&#123;// å¦‚æœtmp&gt;=i-jï¼Œè¯´æ˜å‡ºç°äº†ç›¸åŒçš„å­—ç¬¦ï¼Œtmp=i-j tmp = i - j; &#125; res = Math.max(tmp,res);// è·å–tmpçš„æœ€å¤§å€¼ &#125; return res; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day9","path":"2022/04/20/å‰‘æŒ‡offer-day9/","text":"è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œæ€è·¯è·Ÿä¹‹å‰çš„è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦æ˜¯ä¸€æ ·çš„ï¼Œéå†ä¸€æ¬¡æ•°ç»„ï¼Œå¦‚æœä¹‹å‰éå†çš„å€¼çš„å’ŒsumåŠ ä¸Šè¿™æ¬¡éå†çš„å€¼numéƒ½å°äºè¯¥å€¼ï¼Œé‚£ä¹ˆå°±å°†èµ·ç‚¹æ”¹ä¸ºnumï¼Œå¹¶ç”¨ä¸€ä¸ªå€¼resæ¥è®°å½•æ¯æ¬¡éå†åçš„æœ€å¤§å€¼ã€‚ 1234567891011121314class Solution &#123; public int maxSubArray(int[] nums) &#123; int res = Integer.MIN_VALUE; int sum = 0; for(int num : nums)&#123; sum += num;// è®°å½•éå†è‡³è¯¥å€¼çš„å’Œ if(sum &lt;= num)&#123; sum = num;// å¦‚æœæ€»å’Œéƒ½æ²¡æœ‰è¯¥å€¼å¤§ï¼Œå°†è®°å½•çš„èµ·ç‚¹æ”¹ä¸ºè¯¥å€¼ &#125; res = Math.max(res,sum);// è®°å½•æ¯æ¬¡éå†åæ€»å’Œé—´çš„æœ€å¤§å€¼ &#125; return res; &#125;&#125; ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼ç›¸å½“äºä¸Šé¢˜çš„åŠ å¼ºç‰ˆï¼Œä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå¹¶ä¸”å¢åŠ äº†ä¸€ä¸ªå‘ä¸‹è¿˜æ˜¯å‘å³çš„åˆ¤æ–­ï¼Œä½†æ˜¯æ ¸å¿ƒæ€æƒ³æ˜¯ä¸å˜çš„ã€‚ éå†æ•°ç»„æ¥è®°å½•æ¯æ¬¡è¡Œè¿›çš„æœ€å¤§æ€»å’Œï¼Œæ”¾åœ¨è¿™æ¬¡è¡Œè¿›çš„èŠ‚ç‚¹ä¸­ã€‚ä»å·¦ä¸Šè§’å¼€å§‹éå†ï¼Œå› ä¸ºä»ç¬¬ä¸€è¡Œéå†å’Œä»ç¬¬ä¸€åˆ—éå†éƒ½æ˜¯ç´¯åŠ çš„ï¼Œå¯ä»¥åšä¸€ä¸ªåˆ¤æ–­ï¼šå½“è¦éå†çš„å€¼ä½äºè¿™ä¸¤ä¸ªç‰¹æ®Šä½ç½®æ—¶ï¼Œåªéœ€è¦è·å–å®ƒçš„å·¦è¾¹ï¼ˆæˆ–ä¸Šè¾¹ï¼‰çš„å’Œï¼Œç´¯åŠ è‡³è¯¥å€¼å¹¶æ›¿æ¢ã€‚å…¶ä»–æ—¶å€™åˆ™éœ€è¦å¯¹å·¦è¾¹çš„å€¼å’Œä¸Šè¾¹çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå–è¾ƒå¤§çš„ç´¯åŠ è‡³è¯¥å€¼å¹¶æ›¿æ¢ã€‚æœ€åè¾“å‡ºå³ä¸‹è§’çš„æ€»å’Œã€‚ 123456789101112131415161718192021class Solution &#123; public int maxValue(int[][] grid) &#123; for(int m = 0; m &lt; grid.length; m++)&#123; for(int n = 0; n &lt; grid[0].length; n++)&#123; if(m == 0 &amp;&amp; n == 0)&#123;// ä½äºèµ·ç‚¹ï¼Œè·³è¿‡éå† continue; &#125; if(m == 0)&#123;// ä½äºç¬¬ä¸€è¡Œï¼Œåªç´¯åŠ å·¦è¾¹çš„å€¼ grid[m][n] += grid[m][n-1]; &#125; else if(n == 0)&#123;// ä½äºç¬¬ä¸€åˆ—ï¼Œåªç´¯åŠ ä¸Šè¾¹çš„å€¼ grid[m][n] += grid[m-1][n]; &#125; else&#123;// å…¶ä»–æƒ…å†µéœ€è¦åˆ¤æ–­å·¦è¾¹å’Œä¸Šè¾¹çš„å€¼ï¼Œå–è¾ƒå¤§å€¼ç´¯åŠ  grid[m][n] += Math.max(grid[m][n-1],grid[m-1][n]); &#125; &#125; &#125; return grid[grid.length - 1][grid[0].length - 1];// è¿”å›å³ä¸‹è§’å€¼ &#125;&#125;"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.04.12-2022.04.20ï¼‰","path":"2022/04/18/å­¦ä¹ æ€»ç»“ï¼ˆ2022-04-12-2022-04-18ï¼‰/","text":"IOçš„åˆ†ç±»æŒ‰ç…§æ•°æ®æµå‘åˆ†(ä»¥å†…å­˜ä¸ºå‚ç…§ç‰©)ï¼š è¾“å…¥ï¼šå¤–è®¾-&gt;å†…å­˜ è¾“å‡ºï¼šå†…å­˜-&gt;å¤–è®¾ æŒ‰ç…§æ•°æ®ç±»å‹åˆ†ï¼š å­—èŠ‚æµ(1B &#x3D; 0000 0000) å­—ç¬¦æµ å­—èŠ‚æµä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶ï¼›å­—ç¬¦æµä¸€èˆ¬ç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚ ä¸ºä»€ä¹ˆä¼šæœ‰å­—ç¬¦æµï¼Ÿå› ä¸ºç”¨å­—èŠ‚æµè¯»å–éè‹±æ–‡å’Œæ•°å­—çš„æ•°æ®å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ 4ä¸ªæŠ½è±¡åŸºç±»åŠå…¶å­ç±» å­—èŠ‚è¾“å‡ºæµ å­—èŠ‚è¾“å…¥æµ å­—ç¬¦è¾“å‡ºæµ å­—ç¬¦è¾“å…¥æµ æŠ½è±¡çˆ¶ç±» OutputStream&lt;br&gt;void write(byte[] b) InputStream&lt;br/&gt;int read(byte[] b) Writer&lt;br&gt;void write(char[] c)&lt;br/&gt;void writer(String s) Reader&lt;br&gt;int read(char[] c) æ–‡ä»¶ FileOutputStream(File file, boolean append) FileInputStream(File file) FileWriter(File file, boolean append) FileReader(File file) ç¼“å†² BufferedOutputStream(OutputSteam out, int size) BufferedInputStream(InputStream in, int size) BufferedWriter(Writer out, int size) BufferedReader(Reader in, int size)&lt;br&gt;String readLine() è½¬æ¢(å­—èŠ‚è½¬å­—ç¬¦) OutputStreamWriter(OutputStream out, String charsetName) InputStreamReader(InputStream in, String charsetName) æ•°æ®(è¾“å…¥&#x2F;è¾“å‡ºjavaåŸºæœ¬ç±»å‹) DataOutputStream(OutputStream out)&lt;br&gt;void writeInt(int a)... DataInputStream(InputStream in)&lt;br&gt;int readInt()... æ‰“å°(è¾“å…¥&#x2F;è¾“å‡ºå­—ç¬¦ä¸²) PrintStream(OutputStream out) &lt;br&gt;int print(int a)... PrintWriter(Writer out)&lt;br&gt;int print(int a) å¯¹è±¡(åºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–) ObjectOutputStream(OutputStream out)&lt;br&gt;void writeObject(Object obj) ObjectInputStream(InputStream in)&lt;br&gt;Object readObject() æ¢è¡Œæ–¹å¼â€œ\\r\\nâ€ System.lineSeparator() æ ‡å‡†IOæµSystem.inæœ¬è´¨æ˜¯InputStream System.outæœ¬è´¨æ˜¯PrintStream è¿›ç¨‹&#x2F;çº¿ç¨‹ åŒæ­¥&#x2F;å¼‚æ­¥è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯cpuè°ƒåº¦çš„åŸºæœ¬å•ä½ åŒæ­¥æ˜¯è°ƒç”¨å¯ä»¥ç«‹å³å¾—åˆ°ç»“æœï¼Œä½†æ˜¯éœ€è¦ç­‰å¾…ï¼›å¼‚æ­¥æ˜¯è°ƒç”¨ä¸èƒ½ç«‹å³å¾—åˆ°ç»“æœï¼Œä½†æ˜¯å¯ä»¥ä¸ç­‰å¾… javaç¨‹åºè¿è¡ŒåŸç†jvmæ˜¯å¤šçº¿ç¨‹çš„ï¼Œæ¯æ¬¡è¿è¡Œè‡³å°‘æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼šmainçº¿ç¨‹å’ŒGCçº¿ç¨‹ javaæ˜¯æŠ¢å å¼çº¿ç¨‹è°ƒåº¦ï¼Œä½†æ˜¯javaè‡ªå¸¦çš„setPriority()æ–¹æ³•å¹¶ä¸èƒ½æ”¹å˜çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼Œå› ä¸ºjavaä¸­çš„ä¼˜å…ˆçº§æ˜¯é™æ€çš„ï¼Œåªèƒ½ç»™æ“ä½œç³»ç»Ÿä¸€ä¸ªå»ºè®®ï¼Œå®é™…ä¸Šæ“ä½œç³»ç»Ÿæœ‰è‡ªå·±çš„ä¸€å¥—çº¿ç¨‹ä¼˜å…ˆçº§ å¤šçº¿ç¨‹çš„å®ç°æ–¹å¼ å®šä¹‰ä¸€ä¸ªç±»ç»§æ‰¿Threadç±»ï¼Œé‡å†™run()æ–¹æ³•ï¼Œåˆ›å»ºè¯¥ç±»å¯¹è±¡ï¼Œé€šè¿‡start()åˆ›å»ºçº¿ç¨‹(å¦‚æœä½¿ç”¨run()åªæ˜¯æ™®é€šçš„è°ƒç”¨å­ç±»æ–¹æ³•ï¼Œå¹¶ä¸èƒ½è¾¾åˆ°åˆ›å»ºå¤šçº¿ç¨‹çš„æ•ˆæœ)ç‰¹ç‚¹ï¼šå•ç»§æ‰¿ å®šä¹‰ä¸€ä¸ªç±»å®ç°Runnableæ¥å£ï¼Œé‡å†™run()æ–¹æ³•ï¼Œåˆ›å»ºRunnableå­ç±»å¯¹è±¡ï¼Œå†åˆ›å»ºThreadå¯¹è±¡ï¼Œå¹¶å°†è¯¥å­ç±»å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ç‰¹ç‚¹ï¼šå®ç°æ¥å£ å®šä¹‰ä¸€ä¸ªç±»å®ç°Callableæ¥å£ï¼Œé‡å†™call()æ–¹æ³•ï¼Œåˆ›å»ºFutureTaskå¯¹è±¡å¹¶å°†è¯¥ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œå†åˆ›å»ºThreadå¯¹è±¡å°†FutureTaskå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ç‰¹ç‚¹ï¼šæœ‰è¿”å›å€¼ çº¿ç¨‹API123456789String getName();// è·å¾—è¯¥çº¿ç¨‹çš„åç§°void setName(String name);// è®¾ç½®è¯¥çº¿ç¨‹çš„åç§°Static Thread currentThread();// è¿”å›å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨static void sleep(long millis);// çº¿ç¨‹ä¼‘çœ ï¼Œè¿›å…¥é˜»å¡ï¼Œä½†æ˜¯ä¸é‡Šæ”¾èµ„æºvoid join();// ä¸»çº¿ç¨‹ç­‰å¾…æ‰§è¡Œè¯¥æ–¹æ³•çš„å­çº¿ç¨‹ç»ˆæ­¢ã€‚joinåœ¨å“ªä¸ªçº¿ç¨‹çš„ä»£ç å—ä¸­è¢«è°ƒç”¨ï¼Œè¯¥çº¿ç¨‹å°±æ˜¯ä¸»çº¿ç¨‹ï¼›å“ªä¸ªçº¿ç¨‹è°ƒç”¨äº†joinï¼Œè¯¥çº¿ç¨‹å°±æ˜¯å­çº¿ç¨‹void setDaemon(boolean on);// è®¾ç½®ä¸€ä¸ªçº¿ç¨‹ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚å½“æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹éƒ½ä¸ºå®ˆæŠ¤çº¿ç¨‹æ—¶ï¼Œjvmåœæ­¢è¿è¡Œï¼›è¯¥æ–¹æ³•å¿…é¡»åœ¨çº¿ç¨‹å¯åŠ¨å‰è°ƒç”¨ï¼›GCçº¿ç¨‹æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚void wait();// çº¿ç¨‹è¿›å…¥é˜»å¡å¹¶é‡Šæ”¾èµ„æºã€‚void notify();// çº¿ç¨‹å”¤é†’éšæœºä¸€ä¸ªé˜»å¡çš„è¿›ç¨‹ã€‚void notifyAll();// çº¿ç¨‹å”¤é†’å…¨éƒ¨è¿›å…¥é˜»å¡çš„è¿›ç¨‹ã€‚ å®‰å…¨ä¸­æ–­çº¿ç¨‹çº¿ç¨‹æ‰§è¡Œå®Œæ¯•å°±ä¼šä¸­æ–­ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦è‡ªå·±æ§åˆ¶çº¿ç¨‹ç»ˆæ­¢ï¼Œç„¶è€ŒAPIä¸­çš„stop()æ–¹æ³•å­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨é—®é¢˜ï¼Œæ‰€ä»¥ä¸€èˆ¬å®šä¹‰ä¸€ä¸ªæˆå‘˜å˜é‡boolean flagæ¥æ§åˆ¶ã€‚ synchronizedå…³é”®å­—åŸºæœ¬è¯­æ³• 123synchronized(é”å¯¹è±¡)&#123; // å¯¹å…±äº«æ•°æ®çš„è®¿é—®æ“ä½œ&#125; é”å¯¹è±¡å¯ä»¥æ˜¯ï¼š ä»»æ„ä¸€ä¸ªObjectåŠå…¶å­ç±»å¯¹è±¡ï¼Œjavaä¸­çš„ä»»æ„å¯¹è±¡éƒ½å¯ä»¥å½“é”ï¼Œéƒ½å­˜åœ¨wait()ã€notify()å’ŒnotifyAll()æ–¹æ³•ã€‚ thiså…³é”®å­—ï¼Œå³æ˜¯ä»¤åŒ…å«è¯¥ä»£ç å—çš„ç±»å¯¹è±¡å½“é”ã€‚ å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡(ç±»å.class) Lockç±»æˆå‘˜æ–¹æ³•ï¼š 12lock();// è·å–é”unlock();// é‡Šæ”¾é” lockæ˜¯ä¸€æŠŠçœŸæ­£çš„é”ç±»ï¼Œå¯ä»¥è®©æˆ‘ä»¬çœ‹åˆ°åŠ é”è§£é”çš„è¿‡ç¨‹ã€‚ æ­»é”çš„åŸå› åŠè§£å†³æ–¹æ³•åŸå› ï¼šä¸€èˆ¬å‡ºç°åœ¨åŒæ­¥ä»£ç å—åµŒå¥—ï¼Œå› ä¸º2ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹æŠ¢å¤ºèµ„æºè€Œé€ æˆäº’ç›¸ç­‰å¾…ã€‚ 12345678910synchronized(ObjA)&#123; synchronized(objB)&#123; &#125;&#125;synchronized(objB)&#123; synchronized(ObjA)&#123; &#125;&#125; è§£å†³æ–¹å¼ï¼š æ›´æ”¹åŠ é”é¡ºåº 12345678910synchronized(ObjA)&#123; synchronized(objB)&#123; &#125;&#125;synchronized(ObjA)&#123; synchronized(objB)&#123; &#125;&#125; å†åŠ ä¸€æŠŠé”ï¼Œå°†éåŸå­æ“ä½œæ”¹ä¸ºåŸå­æ“ä½œ 1234567891011121314synchronized(ObjC)&#123; synchronized(objB)&#123; synchronized(objA)&#123; &#125; &#125;&#125;synchronized(objC)&#123; synchronized(ObjA)&#123; synchronized(objB)&#123; &#125; &#125;&#125; çº¿ç¨‹æ± çº¿ç¨‹æ± æœ‰ä¸‰ç§å­ç±»ï¼š ExecutorService newCachedThreadPool()ï¼šæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨åˆ é™¤ï¼Œ60så¤„äºç©ºé—²çŠ¶æ€çš„çº¿ç¨‹ã€‚çº¿ç¨‹æ•°é‡å¯å˜ã€‚ ExecutorService newFixedThreadPool(int nThreads)ï¼šçº¿ç¨‹æ•°é‡å›ºå®šï¼Œç»´æŠ¤ä¸€ä¸ªæ— ç•Œé˜Ÿåˆ—ï¼ˆæš‚å­˜å·²æäº¤çš„æ¥ä¸åŠæ‰§è¡Œçš„ä»»åŠ¡ï¼‰ï¼ŒæŒ‰ç…§ä»»åŠ¡çš„æäº¤é¡ºåºï¼Œå°†ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ã€‚ ExecutorService newSingleThreadExecutor()ï¼šå•ä¸ªçº¿ç¨‹ï¼Œå…¶ä»–ç‰¹ç‚¹å¦‚ä¸Šã€‚ ä¸¤ç§æˆå‘˜æ–¹æ³•ï¼š 12void submit(Runnable task);// æäº¤ä»»åŠ¡void shutdown();// å¯åŠ¨é¡ºåºå…³é—­ å®šæ—¶ä»»åŠ¡ä¸å®šæ—¶å™¨Timerå®šæ—¶å™¨æ˜¯ä¸€ç§å·¥å…·ï¼Œçº¿ç¨‹ç”¨å…¶å®‰æ’ä»¥ååœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œçš„ä»»åŠ¡ã€‚å¯å®‰æ’ä»»åŠ¡æ‰§è¡Œä¸€æ¬¡ï¼Œæˆ–è€…å®šæœŸé‡å¤æ‰§è¡Œã€‚ ä¸¤ç§æ„é€ æ–¹æ³•ï¼š 12Timer();// åˆ›å»ºä¸€ä¸ªæ–°è®¡æ—¶å™¨Timer(boolean isDaemon);// åˆ›å»ºä¸€ä¸ªæ–°è®¡æ—¶å™¨ï¼Œå¯ä»¥æŒ‡å®šå…¶ç›¸å…³çš„çº¿ç¨‹ä½œä¸ºå®ˆæŠ¤ç¨‹åºè¿è¡Œ å››ç§æˆå‘˜æ–¹æ³•ï¼š 1234schedule(TimerTask task, Date time);// ä»timeæ—¶é—´å¼€å§‹æ‰§è¡Œã€‚schedule(TimerTask task, long delay, long period);// åœ¨å»¶è¿Ÿdelayæ¯«ç§’åï¼Œæ¯periodæ¯«ç§’æ‰§è¡Œä¸€æ¬¡ã€‚schedule(TimerTask task, Date firstTime, long period);// ä»firstTimeæ—¶é—´å¼€å§‹æ‰§è¡Œï¼Œä¹‹åæ¯periodæ¯«ç§’æ‰§è¡Œä¸€æ¬¡ã€‚scheduleAtFixedRate(TimerTask task, long delay, long period);// è®¾ç½®ä¸€ä¸ªç»§æ‰¿äº†TimerTaskç±»çš„å®šæ—¶ä»»åŠ¡ç±»ï¼Œåœ¨å»¶è¿Ÿdelayæ¯«ç§’åï¼Œæ¯periodæ¯«ç§’æ‰§è¡Œä¸€æ¬¡è¯¥ä»»åŠ¡ã€‚(TimerTaskå®šæ—¶ä»»åŠ¡ï¼Œä½¿ç”¨æ—¶ç»§æ‰¿è¯¥ç±»å¹¶é‡å†™run()æ–¹æ³•) UDP&#x2F;TCPUDPå‘é€ç«¯æ­¥éª¤ï¼š DatagramSocket datagramSocket = new DatagramSocket(int port); åˆ›å»ºå‘é€ç«¯çš„Socketå¯¹è±¡ DatagramPacket sendPacket= newDatagramPacket(byte[] buf, int offset, int length, InetAddress address, int port); åˆ›å»ºç”¨äºå‘é€çš„æ•°æ®æŠ¥åŒ… datagramSocket.send(sendPacket); æŠŠåŒ…å‘é€å‡ºå» datagramSocket.close(); å…³é—­Socket UDPæ¥æ”¶ç«¯æ­¥éª¤ï¼š DatagramSocket datagramSocket = new DatagramSocket(int port); åˆ›å»ºæ¥æ”¶ç«¯çš„Socketå¯¹è±¡ DatagramPacket receivePacket = new DatagramPacket(byte[] buf, int offset, int length); åˆ›å»ºç”¨äºæ¥æ”¶çš„æ•°æ®æŠ¥åŒ… datagramSocket.receive(receivePacket); receiveæ–¹æ³•è¿›è¡Œæ¥æ”¶ byte[] data = receivePacket.getData(); è§£ææ•°æ® datagramSocket.close(); å…³é—­Socket UDPå¯ä»¥é€šè¿‡å¤šçº¿ç¨‹ä¼˜åŒ–ï¼Œè¾¾åˆ°ä¸¤ç«¯äº’ç›¸é€šä¿¡çš„æ•ˆæœ TCPå®¢æˆ·ç«¯æ­¥éª¤ï¼š Socket socket = new Socket(String host, int port); åˆ›å»ºå®¢æˆ·ç«¯çš„socketå¯¹è±¡ OutputStream out = socket.getOutputStream(); ä»socketä¸­è·å–è¾“å…¥&#x2F;è¾“å‡ºæµ out.write(byte[] b); åˆ©ç”¨è¾“å…¥&#x2F;è¾“å‡ºæµè¿›è¡Œè¯»å†™æ“ä½œ socket.close(); å…³é—­Socket TCPæœåŠ¡ç«¯æ­¥éª¤ï¼š ServerSocket serverSocket = new ServerSocket(int port); åˆ›å»ºæœåŠ¡ç«¯çš„ServerSocket å¯¹è±¡ Socket socket = serverSocket.accept(); åˆ©ç”¨acceptæ–¹æ³•å»ºç«‹è¿æ¥,å¾—åˆ°socketå¯¹è±¡ InputStream in = socket.getInputStream(); ä»socketä¸­è·å–è¾“å…¥&#x2F;è¾“å‡ºæµ in.read(byte[] b); åˆ©ç”¨è¾“å…¥&#x2F;è¾“å‡ºæµè¿›è¡Œè¯»å†™æ“ä½œ socket.close(); å…³é—­Socket TCPå¯ä»¥é€šè¿‡ObjectInputStream&#x2F;ObjectOutputStreamæ¥å®ç°åºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–ä¼ è¾“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡FileInputStream&#x2F;FileOutputStreamæ¥å®ç°æ–‡ä»¶ä¼ è¾“ã€‚ åå°„åå°„æ—¶åœ¨ç±»è¿è¡Œæ—¶è·å–å…¶ä¿¡æ¯çš„ä¸€ç§æŠ€æœ¯ï¼Œå…·ä½“æ–¹å¼æ˜¯è·å–å­—èŠ‚ç æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯.classæ–‡ä»¶ï¼‰å¯¹è±¡ï¼Œç„¶åä»å¯¹è±¡ä¸­è·å–è¯¥ç±»çš„æ„é€ å™¨ã€å˜é‡ã€æ–¹æ³•ç­‰æˆå‘˜ï¼Œä¸”èƒ½æ— è§†ä¿®é¥°ç¬¦å¼ºè¡Œè®¿é—®ã€‚ è·å–å­—èŠ‚ç çš„ä¸‰ç§æ–¹å¼ï¼š å¯¹è±¡.getClass() ç±»å.class Class.forName(String classname) classnameæ˜¯å…¨ç±»å å› ä¸ºç¬¬ä¸‰ç§æ‰èƒ½è·å–è¾ƒä¸ºå®Œæ•´çš„å¯¹è±¡ï¼Œä¸€èˆ¬ä½¿ç”¨ç¬¬ä¸‰ç§ã€‚ åå°„è·å¾—æ„é€ æ–¹æ³•çš„æ–¹å¼æœ‰ï¼š 1234Constructor[] getConstructors();// è·å–æ‰€æœ‰publicæ–¹æ³•Constructor[] getDeclaredConstructors();// è·å–æ‰€æœ‰æ„é€ æ–¹æ³•ï¼ŒåŒ…æ‹¬privateConstructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes);// è·å–å•ä¸ªpublicæ–¹æ³•Constructor&lt;T&gt; getDeclaredConstructor(Class&lt;?&gt;... parameterTypes);// è·å–å•ä¸ªæ„é€ æ–¹æ³•ï¼ŒåŒ…æ‹¬private è·å¾—æ„é€ æ–¹æ³•åå¯ä»¥åˆ›å»ºå¯¹è±¡ã€‚ Object o = constructor.newInstance(&quot;å¼ ä¸‰&quot;, 20, true); å¦‚æœæ„é€ å™¨épublicä¿®é¥°ï¼Œéœ€è¦æš´åŠ›ç ´è§£ã€‚ constructor.setAccessible(true); åå°„è·å¾—æˆå‘˜å˜é‡çš„æ–¹å¼æœ‰ï¼š 1234Field[] getFields();// è·å–æ‰€æœ‰publicå˜é‡Field[] getDeclaredFields();// è·å–æ‰€æœ‰æˆå‘˜å˜é‡Field getField(String name);// è·å–æŒ‡å®špublicæˆå‘˜å˜é‡Field getDeclaredField(String name);// è·å–æŒ‡å®šæˆå‘˜å˜é‡ è·å¾—æˆå‘˜å˜é‡åå¯ä»¥ç»™æˆå‘˜å˜é‡èµ‹å€¼ã€‚ 12Object o = declaredConstructor.newInstance();// å®ä¾‹åŒ–å¯¹è±¡nameFiled.set(o, &quot;å¼ ä¸‰&quot;);// å¯¹è¯¥å¯¹è±¡çš„åå­—æˆå‘˜å˜é‡èµ‹å€¼ ä¹Ÿå¯ä»¥è·å¾—æŸä¸ªæˆå‘˜å˜é‡ã€‚ Object o1 = nameFiled.get(o); å¦‚æœæˆå‘˜å˜é‡épublicä¿®é¥°ï¼Œéœ€è¦æš´åŠ›ç ´è§£ï¼Œæ–¹å¼åŒä¸Šã€‚ åå°„è·å¾—æˆå‘˜æ–¹æ³•çš„æ–¹å¼æœ‰ï¼š 1234Method[] getMethods();// è·å–æ‰€æœ‰publicæ–¹æ³•Method[] getDeclaredMethods();// è·å–æ‰€æœ‰æ–¹æ³•Method getMethod(String name, Class&lt;?&gt;... parameterTypes);// è·å–æŒ‡å®špublicæ–¹æ³•Method getDeclaredMethod(String name, Class&lt;?&gt;... parameterTypes);// è·å–æŒ‡å®šæ–¹æ³• å¯ä»¥åˆ©ç”¨Methodè°ƒç”¨å¯¹è±¡æ–¹æ³•ã€‚ Object invoke(Object obj, Object... args); ç¬¬ä¸€ä¸ªæ˜¯è¦è°ƒç”¨çš„å¯¹è±¡ï¼Œåé¢æ˜¯å¤šä¸ªå¯å˜å‚æ•°ç±»å‹ã€‚ Classç±»APIï¼š 1234String getName();// è·å–å…¨ç±»åString getSimpleName();// è·å–ç®€å•åClass&lt;?&gt; getInterfaces();// è·å–æ¥å£Class&lt;?&gt; getSuperclass();// è·å–çˆ¶ç±» Fieldç±»APIï¼š 12Class&lt;?&gt; getType();// è·å–å˜é‡ç±»å‹int getModifiers();// è·å–å˜é‡ç±»å‹ï¼Œä»¥intå€¼è¡¨ç¤ºï¼Œå¯ç”¨Modifier.toString()è½¬ä¸ºString Methodç±»APIï¼š 12String getReturnType();// è·å–è¿”å›å€¼ç±»å‹Class&lt;?&gt;[] getParameterTypes();// è·å–æ–¹æ³•å‚æ•° é…ç½®æ–‡ä»¶é…ç½®æ–‡ä»¶(properties)é‡Œæœ‰å„ç§é…ç½®ä¿¡æ¯ï¼Œä»¥é”®å€¼å¯¹æ–¹å¼å­˜å‚¨ã€‚ é…ç½®æ–‡ä»¶ä¸­æ³¨é‡Šä½¿ç”¨#å·ã€‚ Propertiesç±»è¡¨ç¤ºäº†ä¸€ä¸ªæŒä¹…çš„å±æ€§é›†ï¼Œå¯ä»¥è·å¾—é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚ ä¸€ç§æ„é€ æ–¹æ³•ï¼š â€‹ Properties() åˆ›å»ºä¸€ä¸ªæ— é»˜è®¤å€¼çš„ç©ºå±æ€§åˆ—è¡¨ ä¸¤ç§æˆå‘˜æ–¹æ³•ï¼š 12void load(InputStream inStream);// ä»è¾“å…¥æµä¸­è¯»å–å±æ€§åˆ—è¡¨ï¼ˆé”®å’Œå…ƒç´ å¯¹ï¼‰String getProperty(String key);// ç”¨æŒ‡å®šçš„é”®åœ¨æ­¤å±æ€§åˆ—è¡¨ä¸­æœç´¢å±æ€§"},{"title":"å‰‘æŒ‡offer-day8","path":"2022/04/18/å‰‘æŒ‡offer-day8/","text":"æ–æ³¢é‚£å¥‘æ•°åˆ—é€’å½’ç»å…¸é¢˜ç›®ï¼Œä½†æ˜¯ä½¿ç”¨ä¼ ç»Ÿé€’å½’ä¼šè¶…æ—¶ï¼Œéœ€è¦ä½¿ç”¨ä¼˜åŒ–çš„è®°å¿†é€’å½’ã€‚ 123456789101112131415161718class Solution &#123; public int fib(int n) &#123; // è¶…å‡ºæ—¶é—´é™åˆ¶ // if(n == 0 || n == 1)&#123; // return n; // &#125; // return fib(n-1) + fib(n-2); int a = 0;// aè¡¨ç¤ºf(0) int b = 1;// bè¡¨ç¤ºf(1) int sum = 0; for(int i = 0; i &lt; n; i++)&#123; sum = (a + b) % 1000000007;// sumè¡¨ç¤ºf(2) = f(0) + f(1) a = b;// aå‘å‰ç§»åŠ¨è‡³f(1) b = sum;// bå‘å‰ç§»åŠ¨è‡³f(2) &#125; return a;// å¾ªç¯ç»“æŸï¼Œa=f(n) &#125;&#125; é’è›™è·³å°é˜¶å…¶å®å°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œåªè¦è®°ä½ä¸Šä¸€é¢˜çš„è§£æ³•ï¼Œè¿™é“é¢˜å°±æ˜¯ä¸€æ¨¡ä¸€æ ·ï¼Œåªæ˜¯åˆå§‹æ¡ä»¶æ”¹å˜äº†ã€‚ 12345678910111213class Solution &#123; public int numWays(int n) &#123; int a = 1;// f(0) = 1 int b = 1;// f(1) = 1ï¼Œf(2) = f(0) + f(1) = 2 int sum = 0; for(int i = 0; i &lt; n; i++)&#123; sum = (a+b) % 1000000007; a = b; b = sum; &#125; return a; &#125;&#125; è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦è¿™é“é¢˜ç”¨åŠ¨æ€è§„åˆ’æ²¡æœ‰æƒ³å‡ºæ¥ï¼Œçœ‹äº†ç­”æ¡ˆæ‰å‘ç°åŸæ¥è¿™ä¹ˆæ·³æœ´â€¦å¤§ä½“æ€è·¯æ˜¯éå†æ•´ä¸ªæ•°ç»„ï¼Œè®°å½•ä¸€ä¸ªæœ€ä½ä»·ï¼Œå¦‚æœåé¢æœ‰æ›´ä½çš„ä»·æ ¼å°±æ›´æ–°æœ€ä½ä»·ï¼›æ²¡æœ‰çš„è¯å°±è®¡ç®—å·®å€¼ï¼Œå·®å€¼æœ€å¤§å³ä¸ºç­”æ¡ˆã€‚ 1234567891011class Solution &#123; public int maxProfit(int[] prices) &#123; int cost = Integer.MAX_VALUE; int profit = 0; for(int price : prices)&#123; cost = Math.min(price,cost);// æ›´æ–°æœ€ä½ä»· profit = Math.max(profit,price - cost);// æ›´æ–°æœ€å¤§å·®å€¼ &#125; return profit; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day7","path":"2022/04/16/å‰‘æŒ‡offer-day7/","text":"æ ‘çš„å­ç»“æ„å¤§è‡´æ€è·¯æ˜¯æœ‰çš„ï¼šé€šè¿‡å…ˆåºéå†æ¥éå†ä¸»æ ‘ï¼Œå¦‚æœæœ‰ç­‰äºå­æ ‘æ ¹èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œå†å…ˆåºéå†æ¯”è¾ƒã€‚ ä½†æ˜¯å®ç°å¾—ç£•ç£•ç»Šç»Šï¼Œæ²¡æ³•äº†ï¼Œè¿›è¡Œä¸€ä¸ªç­”æ¡ˆçš„æŠ„ã€‚ 123456789101112131415161718192021222324252627/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public boolean isSubStructure(TreeNode A, TreeNode B) &#123;// éå†Aæ ‘ if(A == null || B == null)&#123;// Aæˆ–Bä¸ºç©ºï¼Œè¿”å›false return false; &#125; return (compare(A,B) || isSubStructure(A.left,B) || isSubStructure(A.right,B)); &#125; public boolean compare(TreeNode A,TreeNode B)&#123;// æ¯”è¾ƒBæ ‘ if(B == null)&#123;// å¦‚æœå…ˆåºéå†å®Œæˆï¼Œè¿”å›true return true; &#125; if(A == null || (A.val != B.val))&#123;// å¦‚æœAæ ‘ä¸ºç©ºæˆ–è€…ä¸¤æ•°èŠ‚ç‚¹ä¸ç›¸ç­‰ï¼Œè¿”å›false return false; &#125; return (compare(A.left,B.left) &amp;&amp; compare(A.right,B.right));// ä¸¤æ•°èŠ‚ç‚¹ç›¸ç­‰ï¼Œå†å…ˆåºéå†æ¯”è¾ƒå…¶å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ &#125;&#125; æ„Ÿè§‰é€’å½’çš„ç»“æŸæ¡ä»¶ç¡®å®å¾ˆéš¾æƒ³ã€‚ äºŒå‰æ ‘çš„é•œåƒç›´æ¥æ‘†çƒ‚çœ‹ç­”æ¡ˆ 1234567891011121314151617181920/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public TreeNode mirrorTree(TreeNode root) &#123; if(root == null)&#123;// éå†è‡³å­èŠ‚ç‚¹è¿”å›null return null; &#125; TreeNode tmp = root.left; root.left = mirrorTree(root.right); root.right = mirrorTree(tmp); return root; &#125;&#125; å¯ä»¥å‘ç°è¿™é“é¢˜ç›®å…¶å®è·Ÿäº¤æ¢æ•°å­—çš„æ€è·¯å¾ˆåƒï¼Œå¯ä»¥é è¿™ä¸ªæ¥è®°å¿†ã€‚ å¯¹ç§°äºŒå‰æ ‘è·Ÿç¬¬ä¸€é¢˜å¾ˆåƒï¼Œéƒ½æ˜¯éœ€è¦éå†æ¯”è¾ƒã€‚ 12345678910111213141516171819202122232425262728/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public boolean isSymmetric(TreeNode root) &#123; if(root == null)&#123;// rootä¸ºç©ºè¿”å›true return true; &#125; return compare(root.left,root.right); &#125; public boolean compare(TreeNode left, TreeNode right)&#123;// éå†æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹ if(left == null &amp;&amp; right == null)&#123;// ä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶éå†å®Œæ¯•ï¼Œè¯´æ˜å¯¹ç§°ï¼Œè¿”å›true return true; &#125; if(left == null || right == null || left.val != right.val)&#123;// å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å…ˆéå†å®Œæ¯•æˆ–ä¸¤èŠ‚ç‚¹ä¸ç›¸ç­‰ï¼Œè¿”å›false return false; &#125; return(compare(left.left,right.right) &amp;&amp; compare(left.right,right.left)); &#125; &#125;"},{"title":"å‰‘æŒ‡offer-day6","path":"2022/04/14/å‰‘æŒ‡offer-day6/","text":"ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ç»å…¸é¢˜ç›®ï¼Œä½¿ç”¨å±‚åºéå†æ¥å®ç°ï¼Œå…·ä½“å®ç°æ–¹æ³•å°±æ˜¯ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥è®°å½•èŠ‚ç‚¹ï¼Œä¸€ä¸ªArrayListè®°å½•ç­”æ¡ˆã€‚å½“å‰èŠ‚ç‚¹å…¥é˜Ÿåï¼Œå†å°†å…¶å·¦å³èŠ‚ç‚¹å…¥é˜Ÿï¼Œéšåå‡ºé˜Ÿï¼ŒArrayListè®°å½•èŠ‚ç‚¹çš„å€¼ï¼Œç›´è‡³é˜Ÿåˆ—ä¸ºç©ºã€‚ 12345678910111213141516171819202122232425262728293031/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public int[] levelOrder(TreeNode root) &#123; LinkedList&lt;TreeNode&gt; q = new LinkedList&lt;&gt;(); ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;(); q.add(root);// å°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿ TreeNode t; while((t = q.peek()) != null)&#123;// é˜Ÿå¤´ä¸ºç©ºè·³å‡º if(t.left != null)&#123;// å·¦èŠ‚ç‚¹å…¥é˜Ÿ q.add(t.left); &#125; if(t.right != null)&#123;// å³èŠ‚ç‚¹å…¥é˜Ÿ q.add(t.right); &#125; res.add(q.poll().val);// å–å‡ºé˜Ÿå¤´è·å¾—å…¶å€¼ &#125; int[] arr = new int[res.size()]; for(int i = 0; i&lt;res.size(); i++)&#123;// ArrayListè½¬æ•°ç»„ arr[i] = res.get(i); &#125; return arr; &#125;&#125; ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘â…¡ä¸Šä¸€é¢˜çš„å˜ç§ï¼ŒåŠ å…¥äº†å¯¹å½“å‰å±‚æ•°çš„åˆ¤æ–­ï¼Œéœ€è¦åœ¨ä¹‹å‰çš„ä»£ç ä¸Šåšä¸€äº›ä¿®æ”¹ï¼Œä¸»è¦æ˜¯ç”¨ä¸€ä¸ªintå€¼è®°å½•å½“å‰å±‚æ•°ä¸­çš„èŠ‚ç‚¹æ•°ã€‚ 1234567891011121314151617181920212223242526272829303132333435/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123; List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;(); Queue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;(); if(root != null)&#123; q.add(root); &#125; while(q.size() != 0)&#123; int i = q.size();// è®°å½•å½“å‰å±‚æ•°çš„èŠ‚ç‚¹æ•° List&lt;Integer&gt; tmp = new ArrayList&lt;&gt;(); while(i &gt; 0)&#123; TreeNode t = q.poll(); tmp.add(t.val); if(t.left != null)&#123; q.add(t.left); &#125; if(t.right != null)&#123; q.add(t.right); &#125; i--; &#125; res.add(tmp); &#125; return res; &#125;&#125; ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘â…¢ç©¶æåŠ å¼ºç‰ˆï¼Œåœ¨ä¸Šä¸€é¢˜çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†è›‡å½¢éå†ï¼Œå…¶å®å°±æ˜¯éœ€è¦å¯¹å±‚æ•°çš„å¥‡å¶è¿›è¡Œåˆ¤æ–­ï¼Œè€Œä¸”éœ€è¦æŠŠä¸´æ—¶é˜Ÿåˆ—tmpæ›´æ”¹ä¸ºåŒç«¯é˜Ÿåˆ—ï¼Œå½“å±‚æ•°ä¸ºå¥‡æ—¶ä»å°¾éƒ¨æ’å…¥ï¼Œåä¹‹ä»å¤´éƒ¨æ’å…¥ 1234567891011121314151617181920212223242526272829303132333435363738394041/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123; List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;(); Queue&lt;TreeNode&gt; q = new LinkedList&lt;&gt;(); if(root != null)&#123; q.add(root); &#125; while(q.size() != 0)&#123; int i = q.size(); LinkedList&lt;Integer&gt; tmp = new LinkedList&lt;&gt;(); while(i &gt; 0)&#123; TreeNode t = q.poll(); if(res.size() % 2 == 0)&#123;// å±‚æ•°åˆ¤æ–­ tmp.addLast(t.val); &#125; else&#123; tmp.addFirst(t.val); &#125; if(t.left != null)&#123; q.add(t.left); &#125; if(t.right != null)&#123; q.add(t.right); &#125; i--; &#125; res.add(tmp); &#125; return res; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day5","path":"2022/04/13/å‰‘æŒ‡offer-day5/","text":"äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾ä¸€å¼€å§‹å°±æƒ³åˆ°äº†çº¿æ€§æŸ¥æ‰¾ï¼Œä½†æ˜¯æ˜¯ä»å·¦ä¸Šæ–¹å¼€å§‹çš„ï¼Œå‘ç°åˆ¤å®šæ¡ä»¶ä¸å¥½å†™åçœ‹äº†çœ‹ç­”æ¡ˆï¼Œæ‰çŸ¥é“ä»å³ä¸Šæ–¹å¼€å§‹ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼ˆå³å¤§äºæŸ¥æ‰¾å€¼å‘å·¦ç§»ï¼Œå°äºæŸ¥æ‰¾å€¼å‘ä¸‹ç§»ï¼‰ æäº¤å‡ æ¬¡éƒ½å‘ç°ä¼šæœ‰è¾¹ç•Œæº¢å‡ºçš„æƒ…å†µï¼Œæ— å¥ˆåªèƒ½è·Ÿç­”æ¡ˆä¸€ä¸€å¯¹ç…§ï¼Œå‘ç°ç­”æ¡ˆäº‹å…ˆç”¨äº†ä¸€ä¸ªintå€¼æ¥ä½äº†è¦åˆ¤æ–­çš„å€¼ï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç”Ÿè¾¹ç•Œæº¢å‡ºäº†ã€‚ 12345678910111213141516171819202122class Solution &#123; public boolean findNumberIn2DArray(int[][] matrix, int target) &#123; if(matrix.length == 0)&#123; return false; &#125; int m = 0;// è¡Œæ•° int n = matrix[0].length - 1;// åˆ—æ•° while(n &gt;=0 &amp;&amp; m &lt; matrix.length)&#123; int num = matrix[m][n];// ç”¨ä¸€ä¸ªintè¡¨ç¤ºå½“å‰å€¼ï¼Œé˜²æ­¢è¾¹ç•Œæº¢å‡º if(num == target)&#123; return true; &#125; if(num &gt; target)&#123; n--; &#125; if(num &lt; target)&#123; m++; &#125; &#125; return false; &#125;&#125; æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—ä¸æƒ³å¤šè¯´äº†ï¼Œå°±æ˜¯äºŒåˆ†æ³•ï¼Œé‡ç‚¹æ˜¯æ€ä¹ˆè®¾å®šè·³å‡ºæ¡ä»¶ï¼Œä¸ç„¶å°±æ˜¯å¯„ï¼ˆæ˜¯çš„ï¼Œæˆ‘åˆæ²¡åšå‡ºæ¥ï¼‰ 1234567891011121314// å°†æ•°ç»„åˆ’åˆ†æˆæ—‹è½¬çš„å’Œæœªæ—‹è½¬çš„// å·¦æŒ‡é’ˆæŒ‡å‘æœªæ—‹è½¬æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå³æŒ‡é’ˆæŒ‡å‘æ—‹è½¬æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ class Solution &#123; public int minArray(int[] numbers) &#123; int i = 0, j = numbers.length - 1; while (i &lt; j) &#123; int m = (i + j) / 2; if (numbers[m] &gt; numbers[j]) i = m + 1;// è¯´æ˜mè¿˜åœ¨æœªæ—‹è½¬æ•°ç»„ä¸­ï¼Œå·¦æŒ‡é’ˆæŒ‡å‘mçš„ä¸‹ä¸€ä¸ªå…ƒç´  else if (numbers[m] &lt; numbers[j]) j = m;// è¯´æ˜måœ¨æ—‹è½¬æ•°ç»„ä¸­ï¼Œå³æŒ‡é’ˆæŒ‡å‘m else j--;// mæ­£å¥½æŒ‡å‘ä¸æ—‹è½¬æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸ç­‰çš„å…ƒç´ ï¼Œå³æŒ‡é’ˆå·¦ç§»è‡³ä¸å·¦æŒ‡é’ˆé‡åˆ &#125; return numbers[i]; &#125;&#125; ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ä¸€å¼€å§‹å°±æŠŠé¢˜ç›®æƒ³é”™äº†ï¼Œä»¥ä¸ºç±»ä¼¼ä¸º**&quot;aadadaad&quot;**çš„å­—ç¬¦åº”è¯¥è¿”å›ä¸ºç©ºï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯è¿”å›aï¼ˆaã€dä¸¤ä¸¤é…å¯¹ï¼Œç¬¬ä¸€ä¸ªåªå‰©ä¸€ä¸ªçš„å­—æ¯æ˜¯aï¼‰ è¿™é“é¢˜åº”è¯¥æ˜¯ç”¨å“ˆå¸Œè¡¨è§£å†³çš„ï¼Œæ”¾å‡ºä»£ç ã€‚ 1234567891011class Solution &#123; public char firstUniqChar(String s) &#123; HashMap&lt;Character, Boolean&gt; dic = new HashMap&lt;&gt;(); char[] sc = s.toCharArray(); for(char c : sc) dic.put(c, !dic.containsKey(c));// æ²¡æœ‰åˆ™ä¿®æ”¹ä¸ºtrueï¼Œæœ‰åˆ™æ”¹ä¸ºfalse for(char c : sc) if(dic.get(c)) return c; return &#x27; &#x27;; &#125;&#125;"},{"title":"å‰‘æŒ‡offer-day4","path":"2022/04/11/å‰‘æŒ‡offer-day4/","text":"æ•°ç»„ä¸­é‡å¤çš„æ•°å­—æœ€ç®€å•çš„æ€è·¯å½“ç„¶æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨æ¥è®°å½•é‡å¤æ•°ï¼Œè€è€å®å®çš„å†™äº†ã€‚ 123456789101112131415161718192021class Solution &#123; public int findRepeatNumber(int[] nums) &#123; Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;(); for(int i : nums)&#123; if(map.containsKey(i))&#123; map.put(i,map.get(i)+1); &#125; else&#123; map.put(i,1); &#125; &#125; int res = 0; for(int i : nums)&#123; if(map.get(i) &gt; 1)&#123; res = i; break; &#125; &#125; return res; &#125;&#125; ç»“æœå‘ç°è¿™æ—¶ç©ºå¤æ‚åº¦ä¹Ÿå¤ªé«˜äº†â€¦æ„¤è€Œçœ‹å®˜æ–¹è§£ï¼Œå‘ç°å®ƒä¹Ÿæ˜¯è¿™ä¹ˆå†™çš„â€¦åªä¸è¿‡ä¼˜åŒ–äº†ä¸€ä¸‹è¿‡ç¨‹ã€‚ å‘ç°è‡ªå·±ä¸¤å¹´å‰å±…ç„¶åšè¿‡è¿™é“é¢˜ï¼Œè€Œä¸”æ—¶ç©ºå¤æ‚åº¦éƒ½æ¯”æˆ‘ç°åœ¨çš„ä¼˜ç§€ï¼Œçœ‹äº†ä¸€çœ¼ï¼š 12345678910class Solution &#123; public int findRepeatNumber(int[] nums) &#123; Arrays.sort(nums); for(int i = 1; i &lt; nums.length;i++)&#123; if(nums[i] == nums[i-1]) return nums[i]; &#125; return 0; &#125;&#125; â€¦ä¹Ÿä¸çŸ¥é“æ˜¯èªæ˜è¿˜æ˜¯å·æ‡’ï¼Œåˆ©ç”¨äº†é¢˜ç›®ä¸­ é•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†… çš„æ¡ä»¶ï¼Œè‡ªä½œèªæ˜åœ°ç”¨æ’åºæ¥è§£å†³é—®é¢˜ï¼Œä¸è¿‡è¿™åº”è¯¥ä¹Ÿç®—æ˜¯å¦è¾Ÿè¹Šå¾„å§â€¦ ä½†è¿™é“é¢˜çš„æœ€ä¼˜è§£è¿˜çœŸæ˜¯åˆ©ç”¨äº†è¿™ä¸ªæ¡ä»¶ï¼Œå› ä¸ºæ•°ç»„å†…çš„æ•°ä¸ä¼šè¶…è¿‡ä¸‹æ ‡å€¼ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨å€¼å¯¹åº”ä¸‹æ ‡çš„æ–¹æ³•æ¥æ£€æµ‹æ˜¯å¦æœ‰é‡å¤ï¼Œå³æ•°å­—0äº¤æ¢è‡³å¯¹åº”ä¸‹æ ‡0ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°äº¤æ¢å€¼å’Œè¢«äº¤æ¢çš„å€¼ç›¸ç­‰ï¼Œè¯´æ˜è¿™ä¸ªå€¼æ˜¯é‡å¤å€¼ã€‚ 12345678910111213141516class Solution &#123; public int findRepeatNumber(int[] nums) &#123; int i = 0; while(i &lt; nums.length) &#123; if(nums[i] == i) &#123;// å¦‚æœå€¼ä¸€å¼€å§‹å°±å¯¹åº”ï¼Œåˆ™è·³è¿‡è¯¥æ¬¡å¾ªç¯ i++; continue; &#125; if(nums[nums[i]] == nums[i]) return nums[i];// äº¤æ¢å€¼å’Œè¢«äº¤æ¢çš„å€¼ç›¸ç­‰ï¼Œè¯´æ˜è¿™ä¸ªå€¼æ˜¯é‡å¤å€¼ int tmp = nums[i];// äº¤æ¢ä¸¤ä¸ªå€¼ nums[i] = nums[tmp]; nums[tmp] = tmp; &#125; return -1; &#125;&#125; åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— â… éå†çš„æ–¹æ³•æœ€ç®€å•ä¹Ÿæ˜¯æœ€lowçš„ï¼Œæ”¾ä¸€ä¸ªäºŒåˆ†æ³•çš„ç­”æ¡ˆå§ã€‚ 1234567891011121314151617181920212223class Solution &#123; public int search(int[] nums, int target) &#123; // æœç´¢å³è¾¹ç•Œ right int i = 0, j = nums.length - 1; while(i &lt;= j) &#123; int m = (i + j) / 2; if(nums[m] &lt;= target) i = m + 1; else j = m - 1; &#125; int right = i; // è‹¥æ•°ç»„ä¸­æ—  target ï¼Œåˆ™æå‰è¿”å› if(j &gt;= 0 &amp;&amp; nums[j] != target) return 0; // æœç´¢å·¦è¾¹ç•Œ right i = 0; j = nums.length - 1; while(i &lt;= j) &#123; int m = (i + j) / 2; if(nums[m] &lt; target) i = m + 1; else j = m - 1; &#125; int left = j; return right - left - 1; &#125;&#125; 0~n-1ä¸­ç¼ºå¤±çš„æ•°å­—æƒ³äº†å¾ˆä¹…çš„äºŒåˆ†ï¼Œä½†æ˜¯è·³å‡ºæ¡ä»¶æ€»æ˜¯å†™ä¸å‡ºï¼Œæ€’è€Œå†™å‡ºæš´åŠ›è§£ï¼Œç›´æ¥éå†æŸ¥è¯¢ã€‚ è·Ÿä¸Šé¢˜ä¸€æ ·ï¼Œè¿˜æ˜¯æ”¾å‡ºäºŒåˆ†çš„ç­”æ¡ˆå§ã€‚ 1234567891011121314// å°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šnums[i] == iï¼Œnums[i] != i// ç”¨iè®°å½•å‰ä¸€æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œjè®°å½•åä¸€æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ // ä»¥i &lt;= jæ¥ä½œä¸ºè·³å‡ºæ¡ä»¶class Solution &#123; public int missingNumber(int[] nums) &#123; int i = 0, j = nums.length - 1; while(i &lt;= j) &#123; int m = (i + j) / 2; if(nums[m] == m) i = m + 1; else j = m - 1; &#125; return i; &#125;&#125; æ„Ÿè§‰é™ä¸ä¸‹å¿ƒæ¥æƒ³äºŒåˆ†ï¼Œéƒ½æ˜¯æ€ä¹ˆç®€å•æ€ä¹ˆæ¥äº†ï¼Œçœ‹æ¥å¾—å¥½å¥½ç»ƒä¸€ä¸‹äºŒåˆ†ã€‚"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.04.07-2022.04.11ï¼‰","path":"2022/04/09/å­¦ä¹ æ€»ç»“ï¼ˆ2022-04-07-2022-04-11ï¼‰/","text":"Stringå¸¸é‡æ± æ¯æ¬¡åˆ›å»ºå­—ç¬¦ä¸²å¸¸é‡æ—¶ï¼ŒJVMä¼šæ£€æŸ¥å¸¸é‡æ± æ˜¯å¦å­˜åœ¨è¯¥å¸¸é‡ï¼Œå¦‚æœå­˜åœ¨åˆ™ç›´æ¥è¿”å›è¯¥å¸¸é‡çš„å®ä¾‹å¼•ç”¨ï¼Œæ²¡æœ‰æ‰ä¼šåœ¨å¸¸é‡æ± ä¸­åˆ›å»ºè¯¥å¸¸é‡å¯¹è±¡ã€‚ ä¾‹å­ 123String s1 = &quot;abc&quot;;String s2 = &quot;abc&quot;;System.out.println(s1 == s2)// ==æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€å¯¹è±¡ï¼Œè¿”å›true Stringä¸¤ç§å®ä¾‹åŒ–æ–¹å¼çš„åŒºåˆ« ç›´æ¥èµ‹å€¼çš„æ–¹å¼ String s = &quot;abc&quot;; é€šè¿‡æ„é€ æ–¹æ³• String s = new String(&quot;abc&quot;) ç¬¬ä¸€ç§åªä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç¬¬äºŒç§åˆ™ä¼šåˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼šä¸€ä¸ªæ˜¯ä¸ç¬¬ä¸€ç§ç›¸åŒçš„åˆ›å»ºæ–¹å¼ï¼Œä¸€ä¸ªåˆ™æ˜¯å› ä¸ºnewå…³é”®å­—è€Œåˆ›å»ºçš„ã€‚è™½ç„¶ä¸¤è€…å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†å®ƒä»¬å…±ç”¨ä¸€ä¸ªvalueæ•°ç»„ï¼ˆå³Stringç±»ä¸­çš„charæ•°ç»„ï¼‰ï¼ˆå¦‚æœå¸¸é‡æ± ä¸­æ—©å·²æœ‰ç¬¬0ï¼Œä¸€ç§æ–¹å¼åˆ›å»ºå¥½çš„å¯¹è±¡ï¼Œé‚£ä¹ˆç¬¬äºŒç§æ–¹å¼ä¹Ÿåªä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå³newå…³é”®å­—åˆ›å»ºçš„å¯¹è±¡ï¼‰ ç¬¬ä¸€ç§ä¼šåœ¨å¸¸é‡æ± ä¸­åˆ›å»ºå¯¹è±¡ï¼Œç¬¬äºŒç§ä¼šåœ¨å †ä¸Šåˆ›å»ºå¯¹è±¡ã€‚ å­—ç¬¦ä¸²æ‹¼æ¥å­—ç¬¦ä¸²æ‹¼æ¥æ—¶æœ‰ä¸¤ç§æƒ…å†µï¼š åœ¨å¸¸é‡æ± ä¸­åˆ›å»ºæ–°çš„å¯¹è±¡ åœ¨å †ä¸Šåˆ›å»ºæ–°çš„å¯¹è±¡ è¿™ä¸¤ä¸ªå¯¹è±¡å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œç”¨&#x3D;&#x3D;åˆ¤åˆ«ä¼šè¿”å›falseã€‚ åªè¦æ‹¼æ¥çš„å­—ç¬¦ä¸²ä¸­æœ‰ä¸€ä¸ªæ˜¯ä»¥å¼•ç”¨å˜é‡çš„å½¢å¼å‡ºç°çš„ï¼ˆæ¯”å¦‚String sã€new String(&quot;abc&quot;)ï¼‰é‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å°±æ˜¯åœ¨å †ä¸Šåˆ›å»ºå¯¹è±¡ã€‚åªæœ‰æ‹¼æ¥æ—¶éƒ½æ˜¯ä»¥ç›´æ¥èµ‹å€¼çš„æ–¹å¼åˆ›å»ºæ—¶ï¼Œæ‰ä¼šåœ¨å¸¸é‡æ± ä¸­åˆ›å»ºå¯¹è±¡ï¼ˆè‹¥å¸¸é‡æ± ä¸­å·²å­˜åœ¨æ‹¼æ¥åçš„å¯¹è±¡ï¼Œåˆ™ä¸ä¼šåˆ›å»ºæ–°çš„ï¼Œè€Œæ˜¯ä½¿å¼•ç”¨æŒ‡å‘è¯¥å¯¹è±¡ï¼‰ è‡ªç„¶æ’åºä¸€èˆ¬ä½¿ç”¨Comparableæ¥å£å’ŒComparatoræ¥å£å®ç°ã€‚ Comparableæ¥å£ä¸€èˆ¬åœ¨å¸Œæœ›èƒ½å®ç°æ’åºçš„ç±»ä¸­å®ç°ï¼Œé€šè¿‡é‡å†™compareTo()æ–¹æ³•æ¥è¾¾åˆ°æ’åºçš„æ•ˆæœã€‚ a1.compareTo(a2)çš„è¿”å›å€¼è‹¥å¤§äº0ï¼Œè¯´æ˜a1å¯¹è±¡å¤§äºa2ï¼Œa1æ’åœ¨åé¢ï¼›å°äº0ï¼Œè¯´æ˜a1å¯¹è±¡å°äºa2ï¼Œa1æ’åœ¨å‰é¢ï¼›ç­‰äº0åˆ™è¯´æ˜a1ç­‰äºa2ã€‚ é‡å†™åå¯ä»¥é€šè¿‡Arrays.sort()æˆ–Collections.sort()è¿›è¡Œè‡ªåŠ¨æ’åºã€‚ Comparatoræ¥å£ä¸€èˆ¬ç”¨äºåŒ¿åå†…éƒ¨ç±»æ’åºï¼Œç›¸æ¯”Comparableæ¥å£æ›´åŠ çµæ´»ï¼Œä¾èµ–äºå¸¦æ¯”è¾ƒå™¨çš„Arrays.sort(T[] a, Comparator&lt;? super T&gt; c) ï¼Œæ’åºè§„åˆ™è·ŸComparableæ¥å£ç›¸åŒã€‚ ç¤ºä¾‹ï¼š 1Arrays.sort(students,(stu1,stu2)-&gt;stu1.getAge() - stu2.getAge());// æ ¹æ®å­¦ç”Ÿå¹´é¾„æ’åº StringBufferï¼ŒStringBuilderéƒ½æ˜¯é•¿åº¦å¯å˜çš„å­—ç¬¦ä¸²ç±»ï¼ŒStringBuilderçº¿ç¨‹ä¸å®‰å…¨ï¼ŒStringBufferçº¿ç¨‹å®‰å…¨ã€‚ throwsï¼Œthrowthrowsç”¨åœ¨æ–¹æ³•å£°æ˜åé¢ï¼Œè·Ÿçš„æ˜¯å¼‚å¸¸ç±»åï¼›å¯ä»¥è·Ÿå¤šä¸ªå¼‚å¸¸ç±»åï¼Œç”¨é€—å·éš”å¼€ã€‚ throwsè¡¨ç¤ºå‡ºç°å¼‚å¸¸çš„ä¸€ç§å¯èƒ½æ€§ï¼Œå¹¶ä¸ä¸€å®šä¼šå‘ç”Ÿè¿™äº›å¼‚å¸¸ï¼Œä¸”throwsä¿®é¥°çš„æ–¹æ³•ç”±è¯¥æ–¹æ³•çš„è°ƒç”¨è€…æ¥å¤„ç†ã€‚ throwç”¨åœ¨æ–¹æ³•ä½“å†…ï¼Œè·Ÿçš„æ˜¯å¼‚å¸¸å¯¹è±¡åï¼Œåªèƒ½æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡ã€‚ throwè¡¨ç¤ºæŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥ç”±æ–¹æ³•ä½“å†…çš„è¯­å¥å¤„ç†ï¼Œä½†æ‰§è¡Œthrowåˆ™ä¸€å®šæŠ›å‡ºäº†æŸç§å¼‚å¸¸ã€‚ è‡ªå®šä¹‰å¼‚å¸¸å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªç±»å¹¶ç»§æ‰¿Exception æˆ–RuntimeException æ¥è‡ªå®šä¹‰å¼‚å¸¸ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233class MyException extends Exception&#123; public MyException() &#123; &#125; public MyException(String message) &#123; super(message); &#125;&#125;public class Demo &#123; public static void main(String[] args) &#123; try &#123; func(); &#125; catch (MyException e) &#123; e.printStackTrace(); &#125; &#125; private static void func() throws MyException&#123; // åˆ›å»ºscannerå¯¹è±¡ Scanner scanner = new Scanner(System.in); // è¾“å…¥ä¸€ä¸ªåˆ†æ•° System.out.println(&quot;è¯·è¾“å…¥ä¸€ä¸ªåˆ†æ•°&quot;); String score = scanner.nextLine(); int i = Integer.parseInt(score); // åˆ¤æ–­ä¸€ä¸‹åˆ†æ•°æ˜¯å¦æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ if (i &lt; 0 || i &gt; 100) &#123; // è®¤ä¸ºæˆç»©å¼‚å¸¸çš„ // æŠ›å‡ºå¼‚å¸¸ throw new MyException(&quot;åˆ†æ•°å¼‚å¸¸&quot;); &#125; &#125;&#125; è·¯å¾„è¡¨ç¤ºå¯¹äºç±» UNIX å¹³å°ï¼Œç»å¯¹è·¯å¾„åçš„å‰ç¼€å§‹ç»ˆæ˜¯ â€œ&#x2F;â€œã€‚ç›¸å¯¹è·¯å¾„åæ²¡æœ‰å‰ç¼€ã€‚è¡¨ç¤ºæ ¹ç›®å½•çš„ç»å¯¹è·¯å¾„åçš„å‰ç¼€ä¸º â€œ&#x2F;â€œ ä¸”åç§°åºåˆ—ä¸ºç©ºã€‚â€‹ ç»å¯¹è·¯å¾„ï¼š &#x2F;home&#x2F;st&#x2F;6379.confâ€‹ ç›¸å¯¹è·¯å¾„ï¼š st&#x2F;a.txtâ€‹ æ ¹ç›®å½•ï¼š &#x2F; å¯¹äº Microsoft Windows å¹³å°ï¼ŒåŒ…å«ç›˜ç¬¦çš„è·¯å¾„åå‰ç¼€ç”±é©±åŠ¨å™¨å·å’Œä¸€ä¸ª â€œ:â€ ç»„æˆã€‚å¦‚æœè·¯å¾„åæ˜¯ç»å¯¹è·¯å¾„åï¼Œè¿˜å¯èƒ½åè·Ÿ â€œ\\â€œâ€‹ ç»å¯¹è·¯å¾„ï¼š e:\\st\\a.txtâ€‹ ç›¸å¯¹è·¯å¾„ï¼šæ²¡æœ‰ç›˜ç¬¦å‰ç¼€ st\\a.txt æ–‡ä»¶è¿‡æ»¤å™¨FileFilteræ¥å£å¯ä»¥ç”¨äºå®ç°æ–‡ä»¶çš„é«˜çº§è·å–åŠŸèƒ½ï¼Œé€šè¿‡è®¾ç½®æ¡ä»¶æ¥è¿‡æ»¤æ–‡ä»¶ï¼Œå¸¸ç”¨åŒ¿åå†…éƒ¨ç±»å®ç°ã€‚ ç¤ºä¾‹ï¼š 12File[] files = dir.listFiles((pathname) -&gt; pathname.getName().endsWith(&quot;.java&quot;));// è¿‡æ»¤åç¼€åä¸º.javaçš„æ–‡ä»¶"},{"title":"å‰‘æŒ‡offer-day3","path":"2022/04/09/å‰‘æŒ‡offer-day3/","text":"æ›¿æ¢ç©ºæ ¼ä¸€çœ‹åˆ°è¿™é“é¢˜æˆ‘å°±ä¼˜é›…åœ°æ•²ä¸‹ä»£ç  12345class Solution &#123; public String replaceSpace(String s) &#123; return s.replace(&quot; &quot;,&quot;%20&quot;); &#125;&#125; â€¦å’³å’³ï¼Œå¤§ä½¬è¯´è¿‡ï¼Œä¸è¦æˆä¸ºAPI Coderï¼Œä¸ç„¶35å²å°±å»å¼€æ»´æ»´äº†ã€‚ ä½†å…¶å®æ€è·¯è¿˜æ˜¯å¾ˆç®€å•ï¼Œå› ä¸ºjavaçš„ç‰¹æ€§ï¼Œå­—ç¬¦ä¸²ä¸èƒ½è¢«ç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨ç©ºé—´å¤æ‚åº¦ä¸Šæ˜¯æ€ä¹ˆéƒ½å¹²ä¸è¿‡C++çš„ã€‚é‚£ä¹ˆå°±æ–°å»ºä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²å¯¹è±¡StringBufferæ¥æ¥æ”¶ä¿®æ”¹åçš„Stringå¯¹è±¡ï¼Œå¯ä»¥æœ€å¤§ç¨‹åº¦ä¼˜åŒ–ç©ºé—´ã€‚ï¼ˆå…¶å®å¯ä»¥æ›¿æ¢ä¸ºStringBuliderï¼Œä½†æ˜¯åœ¨æœ¬é¢˜ä¸­æ²¡æœ‰æ˜æ˜¾çš„ä¼˜åŒ–ï¼‰ 123456789101112131415161718class Solution &#123; public String replaceSpace(String s) &#123; if(s == null || s == &quot;&quot;)&#123; return null; &#125; StringBuilder res = new StringBuilder(); for(int i = 0; i &lt; s.length(); i++)&#123; if(s.charAt(i) == &#x27; &#x27;)&#123; res.append(&quot;%20&quot;); &#125; else&#123; res.append(s.charAt(i)); &#125; &#125; return res.toString(); // return s.replace(&quot; &quot;,&quot;%20&quot;); &#125;&#125; æœ€ååæ§½ä¸€ä¸‹ï¼Œè‡ªå·±å†™çš„æ–¹æ³•æ—¶ç©ºå¤æ‚åº¦ç”šè‡³è¿˜æ²¡æœ‰åŒ…è£…å¥½çš„replace()ä½â€¦è¿™é“é¢˜å¯èƒ½åªæ˜¯å•çº¯ç”¨æ¥æŠ˜ç£¨C++ç¨‹åºå‘˜çš„å§â€¦ å·¦æ—‹è½¬å­—ç¬¦ä¸²ä¸€çœ‹åˆ°è¿™æˆ‘åˆä¼˜é›…åœ°æ•²ä¸‹ä»£ç  12345class Solution &#123; public String reverseLeftWords(String s, int n) &#123; return s.substring(n, s.length()) + s.substring(0, n); &#125;&#125; æ²¡æƒ³åˆ°è¿™ä¹ˆå†™å±…ç„¶æ˜¯å¯¹çš„ï¼Œè€Œä¸”è¿˜æ˜¯æœ€ä¼˜è§£â€¦ å½“ç„¶ï¼Œæˆ‘ä¸€å¼€å§‹å¹¶ä¸æ˜¯è¿™ä¹ˆå†™çš„ï¼Œè€Œæ˜¯ä»¿é€ 796.æ—‹è½¬å­—ç¬¦ä¸²çš„è§£æ¥å†™çš„ï¼Œç”¨ä¸€ä¸ªå­—ç¬¦ä¸²æ¥æ¥æ”¶ä¸¤ä¸ªæ‹¼æ¥èµ·æ¥çš„ç›®æ ‡å­—ç¬¦ä¸²ï¼Œå†è¿”å›å…¶ä¸­ä¸ç›®æ ‡å­—ç¬¦ä¸²ç­‰é•¿çš„ç»“æœå­—ç¬¦ä¸²ã€‚ 123456class Solution &#123; public String reverseLeftWords(String s, int n) &#123; String s1 = s + s; return s1.substring(n,s.length() + n); &#125;&#125; ç©ºé—´å¤æ‚åº¦å½“ç„¶æ²¡æœ‰APIå¥½ï¼Œæ¯•ç«Ÿè‡ªåˆ›äº†ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ ï¼ˆä»Šå¤©é¢˜ç›®æŒºæ°´çš„ï¼Œä¸è¿‡å‘¨æœ«äº†ï¼Œå°±æ”¾è¿‡æˆ‘å§ï¼‰"},{"title":"å‰‘æŒ‡offer-day2","path":"2022/04/08/å‰‘æŒ‡offer-day2/","text":"ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨ç®€å•é¢˜ï¼Œä½†æ˜¯å®ç°æ–¹æ³•ä¸ç­”æ¡ˆæœ‰äº›ä¸åŒã€‚ æˆ‘è€ƒè™‘çš„æ˜¯ç”¨ä¸€ä¸ªArrayListæ¥è®°å½•é“¾è¡¨ä¸­çš„å€¼ï¼Œæœ€åé€†åºèµ‹å€¼ç»™ä¸€ä¸ªintæ•°ç»„ã€‚ç­”æ¡ˆç”¨çš„æ˜¯æ¨¡æ‹Ÿæ ˆçš„LinkedListã€‚æˆ‘å°è¯•äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œå‘ç°æ—¶ç©ºå¤æ‚åº¦å¹¶æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œæ‰€ä»¥å°±æ”¾ä¸Šè‡ªå·±çš„ç­”æ¡ˆå§ã€‚ 12345678910111213141516171819202122/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public int[] reversePrint(ListNode head) &#123; ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(); while(head != null)&#123; list.add(head.val); head = head.next; &#125; int[] res = new int[list.size()]; for(int i = 0; i &lt; list.size(); i++)&#123; res[i] = list.get(list.size() - i - 1); &#125; return res; &#125;&#125; åè½¬é“¾è¡¨ç»å…¸é¢˜ç›®äº†ï¼Œä½†æ˜¯å‘ç°è‡ªå·±æ­»æ´»åšä¸å‡ºæ¥ï¼Œæ€»æ˜¯æœ‰ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä¸€çœ‹ç­”æ¡ˆå‘ç°è¯­å¥é¡ºåºé”™äº†â€¦ä½†æ€»ä½“æ€è·¯æ˜¯å¯¹çš„ã€‚åˆ©ç”¨ä¸‰ä¸ªæŒ‡é’ˆæ¥æŒ‡å‘å‰å…ƒç´ ã€ç°å…ƒç´ å’Œåå…ƒç´ ï¼Œç„¶åè¿›è¡Œåè½¬æ“ä½œï¼Œæ“ä½œé¡ºåºä¸ºï¼š nextæŒ‡é’ˆæŒ‡å‘å½“å‰å…ƒç´ çš„åä¸€ä¸ªå…ƒç´  curæŒ‡å‘çš„å½“å‰å…ƒç´ çš„æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘pre preæ”¹ä¸ºæŒ‡å‘curæŒ‡å‘çš„å…ƒç´  curæ”¹ä¸ºæŒ‡å‘nextæŒ‡å‘çš„å…ƒç´  å”¯ä¸€è¦æ³¨æ„çš„ç‚¹æ˜¯nextæŒ‡é’ˆéœ€è¦åœ¨å¾ªç¯å†…åˆ›å»ºï¼Œå¦åˆ™åœ¨é“¾è¡¨æœ¬èº«ä¸ºç©ºæ—¶ä¼šæŠ¥ç©ºæŒ‡é’ˆã€‚ 1234567891011121314151617181920212223/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode reverseList(ListNode head)&#123; ListNode pre = null; ListNode cur = head; while(cur != null)&#123; ListNode next = cur.next;// nextæŒ‡é’ˆæŒ‡å‘åå…ƒç´  cur.next = pre;// curçš„æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘pre pre = cur;// preæ”¹ä¸ºæŒ‡å‘curæŒ‡å‘çš„å…ƒç´  cur = next;// curæ”¹ä¸ºæŒ‡å‘nextæŒ‡å‘çš„å…ƒç´  //next = cur.next;// è‡ªå·±å†™çš„æŠ¥ç©ºæŒ‡é’ˆï¼Œä¸èƒ½å†™åœ¨åé¢ï¼Œå› ä¸ºå½“curåœ¨å°¾æŒ‡é’ˆnullæ—¶ï¼Œæ— æ³•è·å–next &#125; return pre; &#125;&#125; ä¹‹å‰æœ‰æƒ³è¿‡åŒä¸Šä¸€é¢˜ç›®ä¸€æ ·ï¼Œç”¨ä¸€ä¸ªè¾…åŠ©æ ˆæ¥å®Œæˆåè½¬ï¼Œçœ‹äº†ç­”æ¡ˆå‘ç°è¿™æ ·åšå¹¶æ²¡æœ‰ä¸‰æŒ‡é’ˆå¿«ï¼Œå°±æ”¾å¼ƒè¿™ä¸ªæ€è·¯äº†ã€‚ å¤æ‚é“¾è¡¨çš„å¤åˆ¶å®Œå…¨ä¸ä¼šåšï¼Œé€‰æ‹©ç¡å¤§è§‰ï¼ˆæ¼ï¼‰ å¥½å¥½çœ‹äº†çœ‹ç­”æ¡ˆï¼Œå¤§æ¦‚çŸ¥é“æ€è·¯æ˜¯æ€æ ·çš„ï¼Œå¤è¿°ä¸€ä¸‹ã€‚ æœ‰ä¸¤ç§è§£æ³•ï¼šè¾…åŠ©å“ˆå¸Œè¡¨å’Œæ‹¼æ¥é“¾è¡¨ï¼Œå› ä¸ºåè€…åœ¨ç©ºé—´å¤æ‚åº¦ä¸Šä¼˜äºå‰è€…ï¼Œæ‰€ä»¥ä½¿ç”¨åè€…ã€‚ å› ä¸ºrandomèŠ‚ç‚¹çš„å­˜åœ¨ï¼Œå¯¼è‡´å¤åˆ¶æ—¶æŒ‡é’ˆå¯èƒ½æŒ‡å‘ä¸€ä¸ªè¿˜æ²¡æœ‰åˆ›å»ºçš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥å¯ä»¥å°†åŸé“¾è¡¨ä¸¤å€æ‹‰é•¿ï¼Œä½¿åŸé“¾è¡¨èŠ‚ç‚¹å…ˆæŒ‡å‘å¤åˆ¶èŠ‚ç‚¹ï¼Œå¤åˆ¶èŠ‚ç‚¹å†æŒ‡å‘åŸé“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚å®Œæˆå¤åˆ¶åè¿›è¡ŒrandomèŠ‚ç‚¹çš„æŒ‡å‘åˆå§‹åŒ–ï¼Œé€šè¿‡åŸèŠ‚ç‚¹çš„ä¿¡æ¯æ¥è®©å¤åˆ¶èŠ‚ç‚¹çš„æŒ‡å‘æ­£ç¡®çš„èŠ‚ç‚¹ã€‚æœ€åå°†é“¾è¡¨æ‹†å¼€ï¼Œå¤åˆ¶å®Œæˆã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/*// Definition for a Node.class Node &#123; int val; Node next; Node random; public Node(int val) &#123; this.val = val; this.next = null; this.random = null; &#125;&#125;*/class Solution &#123; public Node copyRandomList(Node head) &#123; if(head == null) return null;// ç©ºé“¾è¡¨è¿”å›ç©º Node cur = head; // 1. å¤åˆ¶å„èŠ‚ç‚¹ï¼Œå¹¶æ„å»ºæ‹¼æ¥é“¾è¡¨ while(cur != null) &#123; Node tmp = new Node(cur.val);// æ–°å»ºå¤åˆ¶èŠ‚ç‚¹ï¼Œå¤åˆ¶åŸèŠ‚ç‚¹çš„å€¼ tmp.next = cur.next;// å¤åˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘åŸèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå…ƒç´  cur.next = tmp;// åŸèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å¤åˆ¶èŠ‚ç‚¹ cur = tmp.next;// curæ”¹ä¸ºæŒ‡å‘å¤åˆ¶èŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹ï¼Œå³åŸé“¾è¡¨çš„ä¸‹ä¸€èŠ‚ç‚¹ &#125; // 2. æ„å»ºå„æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘ cur = head; while(cur != null) &#123; if(cur.random != null) cur.next.random = cur.random.next;// cur.nextæ˜¯å¤åˆ¶èŠ‚ç‚¹ï¼Œè¯´æ˜å°†å¤åˆ¶èŠ‚ç‚¹çš„randomæŒ‡é’ˆæŒ‡å‘åŸèŠ‚ç‚¹çš„randomæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³ä¹Ÿæ˜¯å¤åˆ¶èŠ‚ç‚¹ cur = cur.next.next;// è·³åˆ°åŸé“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ &#125; // 3. æ‹†åˆ†ä¸¤é“¾è¡¨ cur = head.next; Node pre = head, res = head.next; while(cur.next != null) &#123; pre.next = pre.next.next;// åŸèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘åŸé“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ cur.next = cur.next.next;// å¤åˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å¤åˆ¶é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ pre = pre.next;// è·³åˆ°åŸé“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ cur = cur.next;// è·³åˆ°å¤åˆ¶é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ &#125; pre.next = null; // å•ç‹¬å¤„ç†åŸé“¾è¡¨å°¾èŠ‚ç‚¹ return res; // è¿”å›æ–°é“¾è¡¨å¤´èŠ‚ç‚¹ &#125;&#125;// ä½œè€…ï¼šjyd// é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/solution/jian-zhi-offer-35-fu-za-lian-biao-de-fu-zhi-ha-xi-/// æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰// è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ å¯ä»¥å‘ç°è‡ªå·±å¯¹é“¾è¡¨è¿˜ä¸å¤Ÿç†Ÿç»ƒï¼Œè¿™é“é¢˜è¦å¤šåŠ ç»ƒä¹ ã€‚"},{"title":"å‰‘æŒ‡offer-day1","path":"2022/04/07/å‰‘æŒ‡offer-day1/","text":"ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—ç®€å•ä¸”ç»å…¸çš„é¢˜ç›®ï¼Œç”¨ä¸¤ä¸ªæ ˆæ¥æ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ—ã€‚ è®¾ç½®ä¸¤ä¸ªæ ˆs1å’Œs2ï¼Œs1ç”¨äºæ­£å¸¸æ¨¡æ‹Ÿé˜Ÿåˆ—çš„è¿›é˜Ÿã€‚å½“é˜Ÿåˆ—éœ€è¦å‡ºé˜Ÿæ—¶ï¼Œè¦æŠŠæ˜¯s1ä¸­çš„å€¼ä¾æ¬¡æ”¾å…¥s2ï¼Œå†åœ¨s2çš„æ ˆé¡¶åˆ é™¤s1çš„æ ˆåº•å…ƒç´ ï¼ˆä¹Ÿå°±æ˜¯é˜Ÿåˆ—çš„é˜Ÿå¤´å…ƒç´ ï¼‰ï¼Œç„¶åå°†å¤„ç†åçš„å…ƒç´ å†ä¾æ¬¡æ”¾å…¥s1ä¸­ï¼Œå°±æ¨¡æ‹Ÿäº†é˜Ÿåˆ—çš„å‡ºé˜Ÿè¿‡ç¨‹ã€‚ æ­¤æ—¶éœ€æ³¨æ„ï¼šåˆ é™¤å…ƒç´ åº”è¯¥æœ‰åˆ¤ç©ºæ¡ä»¶ã€‚ 12345678910111213141516171819202122232425262728class CQueue &#123; Stack&lt;Integer&gt; s1;// æ–°å»ºä¸¤ä¸ªæ ˆ Stack&lt;Integer&gt; s2; public CQueue() &#123;// åˆå§‹åŒ– s1 = new Stack&lt;&gt;(); s2 = new Stack&lt;&gt;(); &#125; public void appendTail(int value) &#123;// æ¨¡æ‹Ÿè¿›é˜Ÿ s1.push(value); &#125; public int deleteHead() &#123;// æ¨¡æ‹Ÿå‡ºé˜Ÿ if(s1.empty())&#123; return -1; &#125; while(!s1.empty())&#123; s2.push(s1.pop()); &#125; int res = s2.pop();// éœ€è¦å‡ºé˜Ÿçš„å…ƒç´  while(!s2.empty())&#123; s1.push(s2.pop()); &#125; return res; &#125;&#125; çœ‹è¯„è®ºè¯´javaçš„stackç±»ä¼šé€ æˆé€Ÿåº¦å˜æ…¢ï¼Œå¯ä»¥ç”¨LinkedListåšå®¹å™¨ï¼Œä½†æ˜¯ä¼šä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ï¼Œå¯ä»¥ä½œä¸ºä¼˜åŒ–çš„ä¸€ç§é€‰é¡¹ã€‚ åŒ…å«minå‡½æ•°çš„æ ˆåŸæœ¬æ˜¯ç®€å•é¢˜ï¼Œä½†æ˜¯å› ä¸ºè‡ªå·±æƒ³çš„å¤ªå¤æ‚äº†ï¼Œè¿Ÿè¿Ÿæ²¡æœ‰åšå‡ºæ¥ï¼Œå‚è€ƒäº†ä¸€ä¸‹ç­”æ¡ˆï¼Œæ‰æŠŠæ€è·¯ç†æ¸…ï¼ˆğŸ‘ï¼‰ è®¾ç½®ä¸€ä¸ªè¾…åŠ©æ ˆsupStackï¼Œç”¨äºè®°å½•ä¸»æ ˆå…¥æ ˆæ“ä½œæ—¶æ ˆå†…çš„æœ€å°å€¼ã€‚ç¬¬ä¸€ä¸ªå…¥ä¸»æ ˆçš„è‡ªç„¶è¦è®°å½•ï¼Œæ­¤åè‹¥æœ‰å°äºæˆ–ç­‰äºè¾…åŠ©æ ˆæ ˆé¡¶çš„æ•°ï¼Œåˆ™éœ€è¦è¾…åŠ©æ ˆå°†ä¸€ä¸ªç›¸åŒçš„æ•°æ”¾å…¥æ ˆé¡¶ï¼Œåä¹‹åˆ™ä¸ç”¨æ“ä½œã€‚å‡ºæ ˆæ—¶åˆ™éœ€è¦ä¸è¾…åŠ©æ ˆçš„æ ˆé¡¶æ¯”å¯¹ï¼Œè‹¥ç›¸ç­‰åˆ™è¾…åŠ©æ ˆä¹Ÿå¿…é¡»å‡ºæ ˆã€‚ 123456789101112131415161718192021222324252627282930class MinStack &#123; Stack&lt;Integer&gt; mainStack;// ä¸»æ ˆ Stack&lt;Integer&gt; supStack;// è¾…åŠ©æ ˆ /** initialize your data structure here. */ public MinStack() &#123;// åˆå§‹åŒ– mainStack = new Stack(); supStack = new Stack(); &#125; public void push(int x) &#123; mainStack.push(x); if(supStack.empty() || supStack.peek() &gt;= x)&#123;// è¾…åŠ©æ ˆç©ºæˆ–å¤§äºç­‰äºè¦æ”¾å…¥çš„å€¼æ—¶ï¼Œéœ€æ”¾å…¥ä¸€ä¸ªåŒæ ·çš„å€¼ supStack.push(x); &#125; &#125; public void pop() &#123; if(mainStack.pop().equals(supStack.peek()))&#123;// å½“å‡ºæ ˆå€¼ä¸è¾…åŠ©æ ˆæ ˆé¡¶ç›¸ç­‰æ—¶ï¼Œè¾…åŠ©æ ˆä¹Ÿè¦å‡ºæ ˆ supStack.pop(); &#125; &#125; public int top() &#123;// æŸ¥çœ‹ä¸»æ ˆçš„æ ˆé¡¶ return mainStack.peek(); &#125; public int min() &#123;// æŸ¥çœ‹è¾…åŠ©æ ˆçš„æ ˆé¡¶ return supStack.peek(); &#125;&#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œpop()ä¸­éœ€è¦ä½¿ç”¨equalsæ–¹æ³•è€Œä¸æ˜¯==ï¼Œå› ä¸ºåœ¨Integerä¸­ï¼Œ[-128,127]ä¼šè¢«ç¼“å­˜è®°ä½ï¼Œåªæœ‰åœ¨è¿™ä¸ªèŒƒå›´å†…==æ‰æ˜¯æ¯”è¾ƒæ•°å€¼ï¼Œå¦åˆ™æ¯”è¾ƒçš„æ˜¯å¯¹è±¡ï¼Œä¼šé€ æˆé”™è¯¯ã€‚ è®°å¿†ç‚¹1234567// Java Stackç±»boolean empty();// åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºObject peek();// è¿”å›æ ˆé¡¶Object pop();// è¿”å›å¹¶åˆ é™¤æ ˆé¡¶Object push(Object element);// åœ¨æ ˆé¡¶æ·»åŠ æ–°å…ƒç´ int search();// æŸ¥æ‰¾så†…çš„å€¼ï¼Œè¿”å›å…¶åœ¨æ ˆå†…çš„ä½ç½®ï¼Œä»¥1ä¸ºåŸºæ•°"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.03.31-2022.04.06ï¼‰","path":"2022/04/06/å­¦ä¹ æ€»ç»“ï¼ˆ2022-03-31-2022-04-06ï¼‰/","text":"ç»§æ‰¿çš„é™åˆ¶ å­ç±»ä¸å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„ç§æœ‰æˆå‘˜ï¼Œå› ä¸ºæ²¡æœ‰è®¿é—®æƒé™ã€‚ å­ç±»ä¸å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå› ä¸ºæ„é€ å™¨ä¸èƒ½ç®—æˆå‘˜ã€‚ å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ç»§æ‰¿ã€‚ ç»§æ‰¿ä¸­çš„å±æ€§éšè—å’Œæ–¹æ³•è¦†ç›–å¯¹äºæˆå‘˜å˜é‡çš„è®¿é—®èŒƒå›´å’Œè®¿é—®ç»“æœéƒ½çœ‹å¼•ç”¨ç±»å‹ã€‚å¼•ç”¨æ˜¯çˆ¶ç±»åˆ™è®¿é—®çš„æ˜¯çˆ¶ç±»æˆå‘˜å˜é‡ï¼Œå­ç±»åˆ™è®¿é—®å­ç±»æˆå‘˜å˜é‡ã€‚ å¯¹äºæˆå‘˜æ–¹æ³•çš„è®¿é—®èŒƒå›´å¦‚ä¸Šç›¸åŒï¼Œçœ‹å¼•ç”¨ç±»å‹ã€‚ å¯¹äºæˆå‘˜æ–¹æ³•çš„è®¿é—®ç»“æœåˆ™çœ‹å¯¹è±¡ç±»å‹ã€‚å¯¹è±¡æ˜¯å­ç±»åˆ™å¯ä»¥è°ƒç”¨å­ç±»æ–¹æ³•ã€é‡å†™æˆ–æ²¡é‡å†™çš„çˆ¶ç±»æ–¹æ³•ï¼Œçˆ¶ç±»åˆ™åªèƒ½è°ƒç”¨çˆ¶ç±»æ–¹æ³•ã€‚ finalå…³é”®å­—finalä¿®é¥°ç±»è¡¨ç¤ºç±»ä¸å¯è¢«ç»§æ‰¿ã€‚ finalä¿®é¥°æ–¹æ³•è¡¨ç¤ºæ–¹æ³•ä¸å¯è¢«é‡å†™ï¼Œä½†å¯ä»¥è¢«ç»§æ‰¿ã€‚ finalä¿®é¥°å˜é‡è¡¨ç¤ºå¸¸é‡ã€‚ä¸staticä¸€èµ·ç”¨è¡¨ç¤ºå…¨å±€å˜é‡ã€‚ instanceofå…³é”®å­—ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªç±»æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å­ç±»ï¼Œä¸€èˆ¬ç”¨äºä¿è¯å‘ä¸‹è½¬å‹çš„å®‰å…¨ã€‚ æŠ½è±¡ç±»ï¼ˆabstractï¼‰æŠ½è±¡ç±»ä¸æ™®é€šç±»ç›¸åŒï¼Œä½†æ˜¯å¤šäº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå³ä¸éœ€è¦å®ç°è¯¥æ–¹æ³•ï¼Œè€Œæ˜¯è®©å­ç±»é€šè¿‡é‡å†™çš„æ–¹å¼æ¥å®ç°ã€‚æŠ½è±¡ç±»å’ŒæŠ½è±¡ç±»ä¹‹é—´å¯ä»¥æœ‰ç»§æ‰¿å…³ç³»ï¼Œä¸”ç»§æ‰¿çš„æŠ½è±¡ç±»å¯ä»¥é€‰æ‹©é‡å†™è¢«ç»§æ‰¿æŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•ã€‚ æ¥å£ï¼ˆinterfaceï¼‰æ¥å£æ˜¯ä¸€ç§å¼€å‘æ ‡å‡†ï¼Œè¡¨ç¤ºå¯¹åŠŸèƒ½çš„æ‰©å±•ï¼Œåªå…³æ³¨è¡Œä¸ºè€Œä¸å…³æ³¨å±æ€§ã€‚ä¸€èˆ¬ç”¨æ¥æŠ½è±¡å…±æ€§è¡Œä¸ºï¼Œä¸å®ç°å…¶çš„ç±»ä¸ºlike-aå…³ç³»ã€‚ æ¥å£ä¸èƒ½åˆ›å»ºå¯¹è±¡ï¼Œè‡ªç„¶ä¹Ÿæ²¡æœ‰æ„é€ å™¨ã€‚ æ¥å£ä¸€èˆ¬æ²¡æœ‰æˆå‘˜ï¼Œåªæœ‰æŠ½è±¡æ–¹æ³•ã€‚ æ¥å£å¯ä»¥ç»§æ‰¿æ¥å£ï¼Œä½†æ˜¯æ¥å£å’Œç±»ä¹‹é—´ä¸èƒ½å‘ç”Ÿç»§æ‰¿ï¼Œç±»åªèƒ½å®ç°(implement)æ¥å£ã€‚ å†…éƒ¨ç±» æˆå‘˜å†…éƒ¨ç±»ï¼šä¸æ™®é€šç±»ç›¸åŒï¼Œä½†æ˜¯æ²¡æœ‰é™æ€å£°æ˜ï¼ˆå…è®¸æœ‰é™æ€å…¨å±€å¸¸é‡ï¼‰ï¼›å¯ä»¥å‘ç”Ÿç»§æ‰¿å’Œå®ç°ï¼›ä¸å¤–å›´ç±»æœ‰å¼ºä¾èµ–å…³ç³»ï¼Œå¯ä»¥æ— è§†è®¿é—®æƒé™äº’ç›¸è®¿é—®ã€‚ é™æ€å†…éƒ¨ç±»ï¼šä¸æ™®é€šç±»å®Œå…¨ç›¸åŒï¼›å¯ä»¥å‘ç”Ÿç»§æ‰¿å’Œå®ç°ï¼›ä¸å¤–å›´ç±»ä¸ºäº’ç›¸ç‹¬ç«‹çš„å…³ç³»ï¼Œè™½ç„¶è®¿é—®ä¸å—è®¿é—®æƒé™é™åˆ¶ï¼Œä½†æ˜¯éœ€è¦åˆ›å»ºå¯¹è±¡æ‰å¯ä»¥è®¿é—®ã€‚ å±€éƒ¨å†…éƒ¨ç±»ï¼šä¸å…·æœ‰è®¿é—®ä¿®é¥°æƒé™ï¼›ä¸å…·æœ‰é™æ€å£°æ˜ï¼›å¯ä»¥å‘ç”Ÿç»§æ‰¿å’Œå®ç°ï¼›è™½ç„¶å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œä½†æ˜¯å¤–éƒ¨ç±»æ— æ³•è®¿é—®å±€éƒ¨å†…éƒ¨ç±»çš„æˆå‘˜ã€‚ Lambdaè¡¨è¾¾å¼Lambdaè¡¨è¾¾å¼æ˜¯ä¸€ç§ç‰¹æ®Šçš„å±€éƒ¨åŒ¿åå†…éƒ¨ç±»ã€‚å¿…é¡»åœ¨ä¸€ä¸ªå®ç°äº†åŠŸèƒ½æ¥å£ï¼ˆæœ‰ä¸”åªæœ‰ä¸€ä¸ªå¿…é¡»å®ç°çš„æŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼‰çš„ç±»ä¸­å®šä¹‰ã€‚å¾—åˆ°çš„æ˜¯è¿™ä¸ªæ¥å£çš„å­ç±»å¯¹è±¡ã€‚åŸºæœ¬æ ¼å¼ä¸ºï¼š 123(å½¢å‚åˆ—è¡¨) -&gt; &#123;// æ–¹æ³•ä½“&#125; ()ä¸­æ˜¯æŠ½è±¡æ–¹æ³•çš„å½¢å‚åˆ—è¡¨ã€‚ {}ä¸­æ˜¯æŠ½è±¡æ–¹æ³•çš„å®ç°ã€‚ åœ¨å†™å®ŒLambdaè¡¨è¾¾å¼åï¼Œéœ€è¦åœ¨è¡¨è¾¾å¼å‰é¢ç”¨(å¯¹è±¡å)å¸®ç¼–è¯‘å™¨æ˜ç¡®å¯¹è±¡ç±»å‹ã€‚ Lambdaè¡¨è¾¾å¼å¯ä»¥ç®€åŒ–ï¼šå½“å½¢å‚åªæœ‰ä¸€ä¸ªæ—¶ï¼Œå¯ä»¥çœç•¥()ï¼›å½“æ–¹æ³•ä½“åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼ˆåŒ…æ‹¬returnè¯­å¥ï¼‰ï¼Œå¯ä»¥çœç•¥{}ã€‚ Lambdaè¡¨è¾¾å¼çš„åº”ç”¨ï¼šå°†ä¸€ä¸ªStringå¯¹è±¡æ•°ç»„æ˜ å°„ä¸ºæ‰€æœ‰å­—ç¬¦ä¸²é•¿åº¦çš„æ•°ç»„ã€‚ 1234567891011121314151617181920212223242526/** * @author yzw * @since 2022/04/02 */public class HomeworkImpl &#123; public static void main(String[] args) &#123; String[] s = &#123;&quot;aaa&quot;,&quot;bb&quot;,&quot;c&quot;&#125;;// å®éªŒæ•°ç»„ int[] sLength = mappingObjectLength(s,o -&gt; new int[s.length]);// mappingè¿”å›intæ•°ç»„ for(int i : sLength)&#123; System.out.println(i); &#125; &#125; public static int[] mappingObjectLength(Object[] obj, Map map)&#123; int[] result = map.mapping(obj); for (int i = 0; i &lt; obj.length; i++) &#123; result[i] = obj[i].toString().length(); &#125; return result; &#125;&#125;interface Map&#123; int[] mapping(Object o); //è¿”å›ä¸€ä¸ªintæ•°ç»„è¡¨ç¤ºæ¯ä¸ªå…ƒç´ çš„é•¿åº¦ Object.toString()toString()ç›´æ¥ä½¿ç”¨æ˜¯æ‰“å°å¯¹è±¡çš„å…¨é™å®šç±»å + @ + å¯¹è±¡çš„åå…­è¿›åˆ¶åœ°å€å€¼ã€‚ å¯ä»¥é€šè¿‡é‡å†™æ¥å±•ç¤ºå¯¹è±¡çš„çŠ¶æ€ã€‚ Object.equals()å’ŒObject.hashcode()equals()ç›´æ¥ä½¿ç”¨æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æŒ‡å‘ç›¸åŒå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡é‡å†™æ¥ä¿®æ”¹åˆ¤æ–­çš„æ¡ä»¶ï¼ˆæ¯”å¦‚ä»æ¯”è¾ƒå¯¹è±¡çš„åœ°å€ä¿®æ”¹ä¸ºæ¯”è¾ƒå¯¹è±¡çš„çŠ¶æ€ï¼‰ã€‚ é‡å†™éµä»é—­åŒ…åŸåˆ™ï¼Œå³ è‡ªåæ€§ã€‚x.equals(x) == true æ’ä»–æ€§ã€‚å½“æ¯”å¯¹çš„ä¸æ˜¯åŒç§ç±»å‹çš„å¯¹è±¡æˆ–è€…æ˜¯ä¸€ä¸ªnullæ—¶ï¼Œé»˜è®¤è¿”å›falseã€‚ å¯¹ç§°æ€§ã€‚x.equals(y) == true -&gt; y.equals(x) == trueã€‚ ä¼ é€’æ€§ã€‚x.equals(y) == true &amp;&amp; y.equals(z) == true -&gt; x.equals(z) == trueã€‚ å…¶ä¸­è‡ªåæ€§å’Œæ’å®ƒæ€§éœ€è¦å†™ä»£ç åšåˆ¤æ–­ï¼Œè€Œå¯¹ç§°æ€§ï¼Œä¸€è‡´æ€§ï¼Œä¼ é€’æ€§ï¼Œåªéœ€è¦ç”¨æˆå‘˜å˜é‡çš„å–å€¼æ¥åˆ¤æ–­å¯¹è±¡ç›¸ç­‰ï¼Œå°±è‡ªåŠ¨æ»¡è¶³å®ƒä»¬ã€‚ æ’ä»–æ€§çš„é€‰æ‹©ï¼šgetClass()ï¼ˆåªèƒ½æ˜¯ç›¸åŒçš„å¯¹è±¡ï¼‰ï¼Œinstanceofï¼ˆå¯ä»¥æ˜¯å¯¹è±¡çš„å­ç±»ï¼‰ å¦‚æœé‡å†™equals()ï¼Œhashcode()ä¹Ÿéœ€è¦é‡å†™ã€‚å› ä¸ºé€»è¾‘ä¸Šç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡å¿…é¡»æœ‰ç›¸åŒçš„hashå€¼ã€‚ Object.clone()ä½œç”¨æ˜¯è·å¾—ä¸€ä¸ªç‹¬ç«‹çš„ï¼Œä¸åŸå¯¹è±¡æˆå‘˜ä¸€è‡´çš„æ–°å¯¹è±¡ã€‚ä½†æ˜¯åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œåªèƒ½åœ¨å­ç±»å†…å…‹éš†è‡ªå·±ï¼Œæ‰€ä»¥ä¸€èˆ¬éœ€è¦åœ¨ç±»ä¸­é‡å†™è¯¥æ–¹æ³•ã€‚å…¶æ¬¡ï¼Œä¸€ä¸ªç±»æƒ³å®ç°å…‹éš†ï¼Œéœ€è¦å®ç°ä¸€ä¸ªæ ‡è®°æ¥å£ï¼ˆä¸å«ä»»ä½•æŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼‰java.lang.Cloneableã€‚ æµ…å…‹éš†ï¼šå¦‚æœå…‹éš†çš„ç±»ä¸­æœ‰å¼•ç”¨ç±»å‹å˜é‡ï¼Œåœ¨å…‹éš†åè¯¥å˜é‡ä¼šä¸å…‹éš†å‰çš„ç±»ä¸­çš„å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¹¶ä¸èƒ½è¯´æ˜è¿™ä¸¤ä¸ªç±»æ˜¯ç‹¬ç«‹çš„ï¼Œè¿™å«åšæµ…å…‹éš†ã€‚ æ·±åº¦å…‹éš†ï¼šåœ¨clone()ä¸­åšå‡ºå¦‚ä¸‹æ“ä½œï¼š å°†å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå…‹éš†ä¸€ä»½ã€‚ ç„¶åè®©å…‹éš†åçš„å¼•ç”¨æŒ‡å‘å®ƒã€‚ å¯ä»¥è®©å…‹éš†åçš„å¼•ç”¨ç±»å‹å˜é‡æŒ‡å‘ä¸€ä¸ªåŒæ ·è¢«å…‹éš†çš„æ–°çš„å¯¹è±¡ï¼Œè¿™æ ·å°±å®ç°äº†æ·±åº¦å…‹éš†ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718class Student&#123; Dog d; //é‡å†™cloneæ–¹æ³•çš„è®¿é—®æƒé™ @Override protected Student clone() throws CloneNotSupportedException &#123; //ä»ç„¶é€‰æ‹©è°ƒç”¨çˆ¶ç±»é»˜è®¤å®ç° //æ·±åº¦å…‹éš†çš„æ­¥éª¤ //1.æ·±åº¦å…‹éš†æ˜¯åœ¨æµ…å…‹éš†åŸºç¡€ä¸Šå®Œæˆçš„ Student cloneStu = (Student) super.clone(); //2.éœ€è¦æŠŠDogå¯¹è±¡å…‹éš†ä¸€ä»½ Dog cloneDog = cloneStu.d.clone(); //3.å°†æ‹·è´å¼•ç”¨æŒ‡å‘æ‹·è´å¯¹è±¡ cloneStu.d = cloneDog; return cloneStu; //return ((Student) super.clone()); &#125;&#125;"},{"title":"å­¦ä¹ æ€»ç»“ï¼ˆ2022.03.21-2022.03.30ï¼‰","path":"2022/04/06/å­¦ä¹ æ€»ç»“ï¼ˆ2022-03-21-2022-03-30ï¼‰/","text":"JVMå†…å­˜ JVMæ ˆã€‚æ–¹æ³•æ‰§è¡Œæ—¶å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œæ–¹æ³•ä»¥æ ˆå¸§å½¢å¼å­˜å‚¨ï¼Œæ–¹æ³•å†…çš„å±€éƒ¨å˜é‡ä¼šç›´æ¥å­˜å‚¨åœ¨æ ˆå¸§ä¸­ï¼Œæ–¹æ³•æ‰§è¡Œå®Œæ¯•åå‡ºæ ˆé”€æ¯ï¼Œå±€éƒ¨å˜é‡ä¹Ÿè¢«é”€æ¯ã€‚ å †ã€‚å­˜å‚¨å¯¹è±¡ã€‚newå…³é”®å­—å³æ˜¯åœ¨å †ä¸Šå¼€è¾Ÿç©ºé—´ç»™å¯¹è±¡ã€‚å½“æ²¡æœ‰å¼•ç”¨æŒ‡å‘å¯¹è±¡æ—¶ï¼Œè¯¥å¯¹è±¡ä¼šè¢«åƒåœ¾å›æ”¶å™¨æ‰§è¡Œåƒåœ¾å›æ”¶æœºåˆ¶(GC)å›æ”¶å†…å­˜ã€‚ æ–¹æ³•åŒºã€‚ æœ¬åœ°æ–¹æ³•æ ˆã€‚å­˜å‚¨JVMçš„æœ¬åœ°(native)æ–¹æ³•ã€‚ ç¨‹åºè®¡æ•°å™¨ï¼šè®°å½•å½“å‰æ‰§è¡Œçš„è¡Œæ•°ã€‚ ä¼ å‚é—®é¢˜javaæ˜¯å€¼ä¼ é€’ï¼ŒæŒ‡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„æ˜¯å®å‚çš„æ‹·è´è€Œä¸æ˜¯å®å‚æœ¬èº«ã€‚ æ‰€ä»¥ä¸‹åˆ—ä»£ç æ˜¯ä¸å¯èƒ½å¾—å‡ºaçš„ä¸¤å€çš„ã€‚ 123public static void sendIntValue(int a) &#123; a *= 2;&#125; ä½†æ˜¯å¯¹å¼•ç”¨æ•°æ®ç±»å‹è€Œè¨€ï¼Œå› ä¸ºå£°æ˜çš„æ˜¯å¼•ç”¨çš„æ‹·è´ï¼Œæ‰€ä»¥å†…å­˜åœ°å€ä¹Ÿæ˜¯ä¼šè¢«æ‹·è´çš„ã€‚å¯¹å¼•ç”¨æ•°æ®ç±»å‹è¿›è¡Œä¿®æ”¹ï¼Œæœ¬èº«çš„å¼•ç”¨ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä½†æ˜¯å¼•ç”¨å’Œå¼•ç”¨çš„æ‹·è´æ‰€æŒ‡å‘çš„å¯¹è±¡å‘ç”Ÿäº†æ”¹å˜ã€‚ æ‰€ä»¥ä¸‹åˆ—ä»£ç bçš„åé¢æ˜¯ä¼šåŠ ä¸Š.zipçš„ã€‚ 123public static void sendStringtValue(String b) &#123; b += â€.zipâ€œ;&#125; å› ä¸ºæ­¤æ—¶bå’Œbçš„æ‹·è´æŒ‡å‘äº†æ–°çš„å¯¹è±¡b+.zipã€‚ çœ‹èµ·æ¥ä¼¼ä¹æ˜¯å¼•ç”¨ä¼ é€’ï¼Œä½†æ˜¯ä¸‹åˆ—ä»£ç æ˜¯ä¸€ä¸ªåä¾‹ã€‚ 123456public static void swapArray(int[] arr1,int[] arr2)&#123; int[] temp; temp = arr1; arr1 = arr2; arr2 = temp;&#125; äº¤æ¢ä¸¤ä¸ªæ‹·è´çš„å€¼ï¼Œå…¶å®å°±æ˜¯åœ¨äº¤æ¢å®ƒä»¬æŒ‡å‘çš„å¯¹è±¡ï¼Œè€ŒåŸå…ˆçš„å¼•ç”¨ä¸å—å½±å“ã€‚åœ¨æ–¹æ³•ç»“æŸåï¼Œä¸¤ä¸ªæ‹·è´è¢«é”€æ¯ï¼Œäº¤æ¢å¤±è´¥ã€‚ ç±»åŠ è½½JVMè®¤è¯†ä¸€ä¸ªæˆ‘ä»¬åˆ›å»ºçš„ç±»ï¼Œå«ç±»åŠ è½½ã€‚ç±»åŠ è½½åœ¨ä¸€æ¬¡ç¨‹åºè¿è¡Œä¸­åªæœ‰ä¸€æ¬¡ï¼Œä¸”ç±»åŠ è½½æ˜¯æ‡’åŠ è½½çš„ï¼Œä¸€äº›åœºæ™¯ä¼šè§¦å‘ç±»åŠ è½½ï¼Œç§°ä¸ºç±»åŠ è½½çš„æ—¶æœºï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š åˆ›å»ºè¯¥ç±»å¯¹è±¡ï¼ˆnewä¸€ä¸ªå¯¹è±¡ï¼‰ å¯åŠ¨è¯¥ç±»çš„mainæ–¹æ³• è®¿é—®æŸä¸ªç±»çš„é™æ€æˆå‘˜ï¼ˆåŒ…æ‹¬å˜é‡å’Œæ–¹æ³•ï¼‰ å­ç±»ç±»åŠ è½½ä¼šè§¦å‘çˆ¶ç±»ç±»åŠ è½½ staticä¿®é¥°çš„æˆå‘˜æ˜¯éšç€ç±»åŠ è½½å®Œæ¯•å°±å­˜åœ¨çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦åˆ›å»ºå¯¹è±¡å°±å¯ä»¥è®¿é—®ã€‚ åˆ›å»ºå¯¹è±¡ä¹Ÿä¸ä¾èµ–äºç±»åŠ è½½ã€‚ ç±»ç”Ÿå‘½å‘¨æœŸ ç±»åŠ è½½è¿‡ç¨‹çš„ä¸‰ä¸ªæ­¥éª¤ï¼šåŠ è½½ï¼Œè¿æ¥ï¼Œåˆå§‹åŒ– åŠ è½½ä¸»è¦æ˜¯å°†classå­—èŠ‚ç è¯»å–è¿›JVM è¿æ¥ä¸»è¦æ˜¯å°†é™æ€æˆå‘˜å˜é‡è¿›è¡Œé»˜è®¤åˆå§‹åŒ–ï¼Œä¿è¯å…¶æ°¸è¿œæœ€å…ˆè¿›è¡Œã€‚ åˆå§‹åŒ–ä¸»è¦æ‰§è¡Œstaticç›¸å…³çš„å†…å®¹ï¼ŒåŒ…æ‹¬ä¸ºé™æ€æˆå‘˜å˜é‡èµ‹å€¼ï¼Œä»¥åŠæ‰§è¡Œé™æ€ä»£ç å—ã€‚ æˆå‘˜å˜é‡çš„èµ‹å€¼æ–¹å¼å’Œé¡ºåº é»˜è®¤åˆå§‹åŒ– æ˜¾å¼èµ‹å€¼ æ„é€ ä»£ç å— æ„é€ å™¨èµ‹å€¼ å…¶ä¸­é»˜è®¤åˆå§‹åŒ–å’Œæ„é€ å™¨èµ‹å€¼æ°¸è¿œæ˜¯ç¬¬ä¸€æ­¥å’Œæœ€åä¸€æ­¥ï¼ˆæå¤´å»å°¾ï¼‰ åˆ›å»ºå¯¹è±¡è¿‡ç¨‹ä¸­ç»“æ„æ‰§è¡Œé¡ºåºï¼ˆå…¨ï¼‰ ç±»åŠ è½½ã€‚é¦–å…ˆç¨‹åºè¦ä»æœ‰mainæ–¹æ³•çš„ç±»ä¸­å¼€å§‹æ‰§è¡Œï¼Œæ‰€ä»¥è¦å…ˆå¯¹å…¶è¿›è¡Œç±»åŠ è½½ã€‚ï¼ˆè¦è€ƒè™‘å‘ç”Ÿè¿ç¯ç±»åŠ è½½çš„æƒ…å†µï¼Œé¦–å…ˆæœ‰çˆ¶ç±»å­˜åœ¨çš„è¯è¦å…ˆæ‰§è¡Œçˆ¶ç±»ç±»åŠ è½½ï¼Œå…¶æ¬¡æœ‰é™æ€æˆå‘˜å˜é‡æˆ–è€…é™æ€ä»£ç å—åˆ›å»ºå¯¹è±¡çš„è¯è¦å…ˆæ‰§è¡Œè¯¥å¯¹è±¡çš„ç±»åŠ è½½ï¼‰ æ‰§è¡Œé™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–ã€‚ï¼ˆåŒ…æ‹¬æ˜¾å¼èµ‹å€¼å’Œé™æ€ä»£ç å—ï¼‰ åˆ›å»ºå¯¹è±¡ã€‚é¦–å…ˆæ‰¾åˆ°å¯¹è±¡çš„æ„é€ å™¨ï¼Œå¦‚æœæœ‰æ˜¾å¼è°ƒç”¨å…¶ä»–æ„é€ å™¨ï¼Œåˆ™è·³è½¬è‡³è¯¥æ„é€ å™¨çš„ç±»ï¼Œæ‰§è¡Œæ„é€ ä»£ç å—å’Œæ˜¾å¼èµ‹å€¼ï¼Œæœ€åæ‰§è¡Œè¯¥æ„é€ å™¨ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™æ˜¯è·³è½¬è‡³çˆ¶ç±»çš„æ— å‚æ„é€ å™¨ï¼ˆæ— çˆ¶ç±»åˆ™æ˜¯è·³è½¬è‡³Objectï¼Œä½†æ˜¯ä¸å½±å“ï¼‰ï¼Œæ‰§è¡Œçˆ¶ç±»çš„æ„é€ ä»£ç å—å’Œæ˜¾å¼èµ‹å€¼ã€‚"},{"title":"Github+hexoæ­å»ºåšå®¢é‡åˆ°çš„å‘","path":"2022/04/05/github+hexoæ­å»ºåšå®¢é‡åˆ°çš„å‘/","text":"hexoéƒ¨ç½²é—®é¢˜æŒ‰ç…§æ•™ç¨‹éƒ¨ç½²å®Œåå‘ç°é¡µé¢ä»æ—§æ²¡æ³•æ›´æ”¹ï¼ŒæŠ˜è…¾å¤§åŠå¤©åå‘ç°githubæœ€è¿‘å°†é»˜è®¤åˆ†æ”¯çš„åå­—ä»masteræ”¹æˆäº†mainï¼Œè€Œ_config.ymlä¸­ä¸€èˆ¬éƒ½å°†branchè®¾ç½®ä¸ºmasterï¼Œå¯¼è‡´masteræˆä¸ºäº†å‰¯åˆ†æ”¯ï¼Œgithub pagesé»˜è®¤åº”ç”¨ä¸»åˆ†æ”¯mainï¼Œæ‰€ä»¥æ²¡æ³•æ›´æ”¹é¡µé¢ï¼ˆæ‰€ä»¥è¯´æ”¿æ²»æ­£ç¡®çœŸæ˜¯å®³æ­»äººâ€¦å¤§å®¶çº¦å®šä¿—æˆçš„äº‹è¯´æ”¹å°±æ”¹ï¼‰ éƒ¨ç½²æ…¢é—®é¢˜è¿˜æ²¡æœ‰å‘ç°é—®é¢˜æ‰€åœ¨ï¼Œå¤§æ¦‚åªèƒ½ç†è§£æˆè®¿é—®githubå›°éš¾å¯¼è‡´å³ä½¿pushæˆåŠŸç½‘é¡µä¹Ÿä¼šåˆ·æ–°ä¸åŠæ—¶ã€‚ å›¾ç‰‡CDNé—®é¢˜nexmoeä¸»é¢˜ä¸­çš„å›¾ç‰‡ä½¿ç”¨CDNä¿å­˜ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨æœ¬åœ°è·¯å¾„ï¼Œä½†æ˜¯å›¾ç‰‡ä¹Ÿä¸èƒ½ç›´æ¥ä¿å­˜è‡³username.github.ioä¸­ï¼Œå› ä¸ºæ¯æ¬¡pushéƒ½ä¼šå¯¼è‡´ä»“åº“ä¸­ä¿å­˜çš„å›¾ç‰‡è¢«åˆ ï¼Œæ‰€ä»¥åœ¨githubä¸­æ–°å»ºäº†ä¸€ä¸ªä»“åº“ç”¨æ¥ä¿å­˜å›¾ç‰‡ã€‚ è¯„è®ºç³»ç»Ÿgitmentå·²ç»åœæ­¢ä½¿ç”¨ï¼è¯·ç”¨gitalkæ›¿ä»£ã€‚"},{"title":"Hello World","path":"2022/04/05/hello-world/","text":"æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼å¸Œæœ›å¯ä»¥ä¸€ç›´ç”¨ä¸‹å»ã€‚"}]